(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1078],{21068:(e,n,t)=>{"use strict";t.d(n,{$M:()=>a,q9:()=>i,tL:()=>r});let a="https://anilist.co/api/v2/oauth/authorize?client_id=15168&response_type=token",r="https://anilist.co/api/v2/oauth/authorize?client_id=13985&response_type=token",i=43e3},24151:(e,n,t)=>{"use strict";t.d(n,{$e:()=>i,Cc:()=>g,XH:()=>o,aD:()=>h,bY:()=>s,dP:()=>d,iK:()=>m,lA:()=>b,nG:()=>c,r5:()=>r,xF:()=>l});var a=t(5290);let r="",i="qbittorrent",o=function(e){return e.QBITTORRENT="qbittorrent",e.TRANSMISSION="transmission",e.NONE="none",e}({}),l=function(e){return e.NONE="none",e}({}),s=function(e){return e.TORBOX="torbox",e.REALDEBRID="realdebrid",e}({}),u=a.z.object({enableTranscode:a.z.boolean().optional().default(!1),enableTorrentStreaming:a.z.boolean().optional().default(!1),debridProvider:a.z.string().optional().default("none"),debridApiKey:a.z.string().optional().default("")}),d=a.z.object({libraryPath:a.z.string().optional().default(""),defaultPlayer:a.z.string(),torrentProvider:a.z.string().default(r),autoScan:a.z.boolean().optional().default(!1),mediaPlayerHost:a.z.string(),vlcUsername:a.z.string().optional().default(""),vlcPassword:a.z.string().optional().default(""),vlcPort:a.z.number(),vlcPath:a.z.string().optional().default(""),mpcPort:a.z.number(),mpcPath:a.z.string().optional().default(""),mpvSocket:a.z.string().optional().default(""),mpvPath:a.z.string().optional().default(""),mpvArgs:a.z.string().optional().default(""),iinaSocket:a.z.string().optional().default(""),iinaPath:a.z.string().optional().default(""),iinaArgs:a.z.string().optional().default(""),defaultTorrentClient:a.z.string().optional().default(i),hideTorrentList:a.z.boolean().optional().default(!1),qbittorrentPath:a.z.string().optional().default(""),qbittorrentHost:a.z.string().optional().default(""),qbittorrentPort:a.z.number(),qbittorrentUsername:a.z.string().optional().default(""),qbittorrentPassword:a.z.string().optional().default(""),qbittorrentTags:a.z.string().optional().default(""),transmissionPath:a.z.string().optional().default(""),transmissionHost:a.z.string().optional().default(""),transmissionPort:a.z.number().optional().default(9091),transmissionUsername:a.z.string().optional().default(""),transmissionPassword:a.z.string().optional().default(""),hideAudienceScore:a.z.boolean().optional().default(!1),autoUpdateProgress:a.z.boolean().optional().default(!1),disableUpdateCheck:a.z.boolean().optional().default(!1),enableOnlinestream:a.z.boolean().optional().default(!1),includeOnlineStreamingInLibrary:a.z.boolean().optional().default(!1),disableAnimeCardTrailers:a.z.boolean().optional().default(!1),enableManga:a.z.boolean().optional().default(!0),mangaLocalSourceDirectory:a.z.string().optional().default(""),enableRichPresence:a.z.boolean().optional().default(!1),enableAnimeRichPresence:a.z.boolean().optional().default(!1),enableMangaRichPresence:a.z.boolean().optional().default(!1),enableAdultContent:a.z.boolean().optional().default(!1),blurAdultContent:a.z.boolean().optional().default(!1),dohProvider:a.z.string().optional().default(""),openTorrentClientOnStart:a.z.boolean().optional().default(!1),openWebURLOnStart:a.z.boolean().optional().default(!1),refreshLibraryOnStart:a.z.boolean().optional().default(!1),richPresenceHideSeanimeRepositoryButton:a.z.boolean().optional().default(!1),richPresenceShowAniListMediaButton:a.z.boolean().optional().default(!1),richPresenceShowAniListProfileButton:a.z.boolean().optional().default(!1),richPresenceUseMediaTitleStatus:a.z.boolean().optional().default(!0),disableNotifications:a.z.boolean().optional().default(!1),disableAutoDownloaderNotifications:a.z.boolean().optional().default(!1),disableAutoScannerNotifications:a.z.boolean().optional().default(!1),defaultMangaProvider:a.z.string().optional().default(""),mangaAutoUpdateProgress:a.z.boolean().optional().default(!1),autoPlayNextEpisode:a.z.boolean().optional().default(!1),showActiveTorrentCount:a.z.boolean().optional().default(!1),enableWatchContinuity:a.z.boolean().optional().default(!1),libraryPaths:a.z.array(a.z.string()).optional().default([]),autoSyncOfflineLocalData:a.z.boolean().optional().default(!1),scannerMatchingThreshold:a.z.number().optional().default(.5),scannerMatchingAlgorithm:a.z.string().optional().default(""),autoSyncToLocalAccount:a.z.boolean().optional().default(!1),nakamaIsHost:a.z.boolean().optional().default(!1),nakamaHostPassword:a.z.string().optional().default(""),nakamaRemoteServerURL:a.z.string().optional().default(""),nakamaRemoteServerPassword:a.z.string().optional().default(""),nakamaHostShareLocalAnimeLibrary:a.z.boolean().optional().default(!1),nakamaEnabled:a.z.boolean().optional().default(!1),nakamaHostEnablePortForwarding:a.z.boolean().optional().default(!1),nakamaUsername:a.z.string().optional().default(""),includeNakamaAnimeLibrary:a.z.boolean().optional().default(!1),nakamaHostUnsharedAnimeIds:a.z.array(a.z.number()).optional().default([]),autoSaveCurrentMediaOffline:a.z.boolean().optional().default(!1),disableCacheLayer:a.z.boolean().optional().default(!1),autoSelectTorrentProvider:a.z.string().optional().default("")}),c=u.extend(d.shape),b=e=>({library:{libraryPath:e.libraryPath,autoUpdateProgress:!0,disableUpdateCheck:!1,torrentProvider:e.torrentProvider||r,autoSelectTorrentProvider:"",autoScan:!1,disableAnimeCardTrailers:!1,enableManga:e.enableManga,enableOnlinestream:e.enableOnlinestream,dohProvider:"",openTorrentClientOnStart:!1,openWebURLOnStart:!1,refreshLibraryOnStart:!1,autoPlayNextEpisode:!1,enableWatchContinuity:e.enableWatchContinuity,libraryPaths:[],autoSyncOfflineLocalData:!1,includeOnlineStreamingInLibrary:!1,scannerMatchingThreshold:0,scannerMatchingAlgorithm:"",autoSyncToLocalAccount:!1,autoSaveCurrentMediaOffline:!1},nakama:{enabled:!1,isHost:!1,hostPassword:"",remoteServerURL:"",remoteServerPassword:"",hostShareLocalAnimeLibrary:!1,username:e.nakamaUsername,includeNakamaAnimeLibrary:!1,hostUnsharedAnimeIds:[],hostEnablePortForwarding:!1},manga:{defaultMangaProvider:"",mangaAutoUpdateProgress:!1,mangaLocalSourceDirectory:""},mediaPlayer:{host:e.mediaPlayerHost,defaultPlayer:e.defaultPlayer,vlcPort:e.vlcPort,vlcUsername:e.vlcUsername||"",vlcPassword:e.vlcPassword,vlcPath:e.vlcPath||"",mpcPort:e.mpcPort,mpcPath:e.mpcPath||"",mpvSocket:e.mpvSocket||"",mpvPath:e.mpvPath||"",mpvArgs:"",iinaSocket:e.iinaSocket||"",iinaPath:e.iinaPath||"",iinaArgs:""},discord:{enableRichPresence:e.enableRichPresence,enableAnimeRichPresence:!0,enableMangaRichPresence:!0,richPresenceHideSeanimeRepositoryButton:!1,richPresenceShowAniListMediaButton:!1,richPresenceShowAniListProfileButton:!1,richPresenceUseMediaTitleStatus:!0},torrent:{defaultTorrentClient:e.defaultTorrentClient,qbittorrentPath:e.qbittorrentPath,qbittorrentHost:e.qbittorrentHost,qbittorrentPort:e.qbittorrentPort,qbittorrentPassword:e.qbittorrentPassword,qbittorrentUsername:e.qbittorrentUsername,qbittorrentTags:"",transmissionPath:e.transmissionPath,transmissionHost:e.transmissionHost,transmissionPort:e.transmissionPort,transmissionUsername:e.transmissionUsername,transmissionPassword:e.transmissionPassword,showActiveTorrentCount:!1,hideTorrentList:!1},anilist:{hideAudienceScore:!1,enableAdultContent:e.enableAdultContent,blurAdultContent:!1,disableCacheLayer:!1},enableTorrentStreaming:e.enableTorrentStreaming,enableTranscode:e.enableTranscode,notifications:{disableNotifications:!1,disableAutoDownloaderNotifications:!1,disableAutoScannerNotifications:!1},debridProvider:e.debridProvider,debridApiKey:e.debridApiKey});function m(){return{getDefaultVlcPath:e=>{switch(e){case"windows":default:return"C:\\Program Files\\VideoLAN\\VLC\\vlc.exe";case"linux":return"/usr/bin/vlc";case"darwin":return"/Applications/VLC.app/Contents/MacOS/VLC"}},getDefaultQBittorrentPath:e=>{switch(e){case"windows":default:return"C:/Program Files/qBittorrent/qbittorrent.exe";case"linux":return"/usr/bin/qbittorrent";case"darwin":return"/Applications/qbittorrent.app/Contents/MacOS/qbittorrent"}},getDefaultTransmissionPath:e=>{switch(e){case"windows":default:return"C:/Program Files/Transmission/transmission-qt.exe";case"linux":return"/usr/bin/transmission-gtk";case"darwin":return"/Applications/Transmission.app/Contents/MacOS/Transmission"}}}}function g(e){return"windows"===e?"\\\\.\\pipe\\mpv_ipc":"/tmp/mpv_socket"}function h(e){return"/tmp/iina_socket"}},35349:(e,n,t)=>{"use strict";t.d(n,{H5:()=>o,Q:()=>l,uQ:()=>s});var a=t(42500),r=t(47555),i=t(21842);let o=(0,r.E)(void 0),l=(0,a.eU)(!1),s=(0,i.tG)("sea-server-auth-token",void 0,void 0,{getOnInit:!0})},45886:(e,n,t)=>{"use strict";t.d(n,{M:()=>i});var a=t(21068),r=t(94077);function i(){var e,n,t,i,o,l,s,u;let d=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.X){let e=(a.q9,"http://127.0.0.1:43211");return d&&(e=e.replace("http://","").replace("https://","")),e}let c="".concat(null==(n=window)||null==(e=n.location)?void 0:e.protocol,"//")+("".concat(null==(i=window)||null==(t=i.location)?void 0:t.hostname,":").concat(a.q9),null==(l=window)||null==(o=l.location)?void 0:o.host);return d&&(c=c.replace("http://","").replace("https://","")),c}},50477:()=>{},91332:(e,n,t)=>{"use strict";t.d(n,{$O:()=>u,H4:()=>l,HK:()=>m,Ky:()=>g,Pw:()=>b,al:()=>f,kE:()=>d,px:()=>s,sx:()=>c});var a=t(19749),r=t(96826),i=t(12115),o=t(68090);let l=function(e){return e.Dynamic="dynamic",e.Custom="custom",e}({}),s=function(e){return e.Default="default",e.BlurWhenUnavailable="blur-when-unavailable",e.DimWhenUnavailable="dim-when-unavailable",e.HideWhenUnavailable="hide-when-unavailable",e.Blur="blur",e.Dim="dim",e.Hide="hide",e}({}),u=[{value:s.Default,label:"Default",description:"Always show a banner image. If not available, the cover image will be used instead."},{value:s.BlurWhenUnavailable,label:"Blur when unavailable",description:"Show the banner image if available. If not available, the cover image will be used and blurred."},{value:s.DimWhenUnavailable,label:"Dim if unavailable",description:"Show the banner image if available. If not available, the banner will be dimmed."},{value:s.HideWhenUnavailable,label:"Hide if unavailable",description:"Show the banner image if available. If not available, the banner will be hidden."},{value:s.Dim,label:"Dim",description:"Always dim the banner image."},{value:s.Blur,label:"Blur",description:"Always blur the banner image."},{value:s.Hide,label:"Hide",description:"Always hide the banner image."}],d=function(e){return e.Default="default",e.Small="small",e}({}),c=[{value:d.Default,label:"Large",description:"Fill a large portion of the screen."},{value:d.Small,label:"Smaller",description:"Use a smaller banner size, displaying more of the image."}],b=function(e){return e.Fluid="fluid",e.Boxed="boxed",e}({});b.Fluid,b.Boxed;let m={enableColorSettings:!1,animeEntryScreenLayout:"stacked",smallerEpisodeCarouselSize:!1,expandSidebarOnHover:!1,backgroundColor:"#070707",accentColor:"#6152df",sidebarBackgroundColor:"#070707",hideTopNavbar:!1,enableMediaCardBlurredBackground:!1,libraryScreenBannerType:l.Dynamic,libraryScreenCustomBannerImage:"",libraryScreenCustomBannerPosition:"50% 50%",libraryScreenCustomBannerOpacity:100,libraryScreenCustomBackgroundImage:"",libraryScreenCustomBackgroundOpacity:10,disableLibraryScreenGenreSelector:!1,libraryScreenCustomBackgroundBlur:"",enableMediaPageBlurredBackground:!1,disableSidebarTransparency:!1,useLegacyEpisodeCard:!1,disableCarouselAutoScroll:!1,mediaPageBannerType:s.Default,mediaPageBannerSize:d.Default,mediaPageBannerInfoBoxSize:b.Fluid,showEpisodeCardAnimeInfo:!1,continueWatchingDefaultSorting:"AIRDATE_DESC",animeLibraryCollectionDefaultSorting:"TITLE",mangaLibraryCollectionDefaultSorting:"TITLE",showAnimeUnwatchedCount:!1,showMangaUnreadCount:!0,hideEpisodeCardDescription:!1,hideDownloadedEpisodeCardFilename:!1,customCSS:"",mobileCustomCSS:"",unpinnedMenuItems:[]};function g(){var e,n,t;let i,o,l,s,u,d,c,b,g,f,S,v,y,P,C,z,w,k,A,B,T,L,D,H,M,O,E,U,I,N,q,x,R,_,F,W=(0,a.c)(104),Q=(0,r.v1)(),K=null==Q?void 0:Q.themeSettings;W[0]!==K?(i=p("enableColorSettings",K),W[0]=K,W[1]=i):i=W[1];let X=null==Q?void 0:Q.themeSettings;W[2]!==X?(o=p("animeEntryScreenLayout",X),W[2]=X,W[3]=o):o=W[3];let V=null==Q?void 0:Q.themeSettings;W[4]!==V?(l=p("smallerEpisodeCarouselSize",V),W[4]=V,W[5]=l):l=W[5];let G=null==Q?void 0:Q.themeSettings;W[6]!==G?(s=p("expandSidebarOnHover",G),W[6]=G,W[7]=s):s=W[7];let j=null==Q?void 0:Q.themeSettings;W[8]!==j?(u=p("backgroundColor",j),W[8]=j,W[9]=u):u=W[9];let $=null==Q?void 0:Q.themeSettings;W[10]!==$?(d=p("accentColor",$),W[10]=$,W[11]=d):d=W[11];let J=null==Q?void 0:Q.themeSettings;W[12]!==J?(c=p("hideTopNavbar",J),W[12]=J,W[13]=c):c=W[13];let Z=null==Q?void 0:Q.themeSettings;W[14]!==Z?(b=p("enableMediaCardBlurredBackground",Z),W[14]=Z,W[15]=b):b=W[15];let Y=null==Q?void 0:Q.themeSettings;W[16]!==Y?(g=p("sidebarBackgroundColor",Y),W[16]=Y,W[17]=g):g=W[17];let ee=null==Q?void 0:Q.themeSettings;W[18]!==ee?(f=p("libraryScreenBannerType",ee),W[18]=ee,W[19]=f):f=W[19];let en=null==Q?void 0:Q.themeSettings;W[20]!==en?(S=p("libraryScreenCustomBannerImage",en),W[20]=en,W[21]=S):S=W[21];let et=null==Q?void 0:Q.themeSettings;W[22]!==et?(v=p("libraryScreenCustomBannerPosition",et),W[22]=et,W[23]=v):v=W[23];let ea=null==Q?void 0:Q.themeSettings;W[24]!==ea?(y=p("libraryScreenCustomBannerOpacity",ea),W[24]=ea,W[25]=y):y=W[25];let er=null==Q?void 0:Q.themeSettings;W[26]!==er?(P=p("libraryScreenCustomBackgroundImage",er),W[26]=er,W[27]=P):P=W[27];let ei=null==Q?void 0:Q.themeSettings;W[28]!==ei?(C=p("libraryScreenCustomBackgroundOpacity",ei),W[28]=ei,W[29]=C):C=W[29];let eo=null==Q?void 0:Q.themeSettings;W[30]!==eo?(z=p("disableLibraryScreenGenreSelector",eo),W[30]=eo,W[31]=z):z=W[31];let el=null==Q?void 0:Q.themeSettings;W[32]!==el?(w=p("libraryScreenCustomBackgroundBlur",el),W[32]=el,W[33]=w):w=W[33];let es=null==Q?void 0:Q.themeSettings;W[34]!==es?(k=p("enableMediaPageBlurredBackground",es),W[34]=es,W[35]=k):k=W[35];let eu=null==Q?void 0:Q.themeSettings;W[36]!==eu?(A=p("disableSidebarTransparency",eu),W[36]=eu,W[37]=A):A=W[37];let ed=null==Q?void 0:Q.themeSettings;W[38]!==ed?(B=p("useLegacyEpisodeCard",ed),W[38]=ed,W[39]=B):B=W[39];let ec=null==Q?void 0:Q.themeSettings;W[40]!==ec?(T=p("disableCarouselAutoScroll",ec),W[40]=ec,W[41]=T):T=W[41];let eb=!!(null==Q||null==(e=Q.themeSettings)?void 0:e.backgroundColor)&&(null==Q||null==(n=Q.themeSettings)?void 0:n.backgroundColor)!==m.backgroundColor,em=null==Q?void 0:Q.themeSettings;W[42]!==em?(L=p("mediaPageBannerType",em),W[42]=em,W[43]=L):L=W[43];let eg=null==Q?void 0:Q.themeSettings;W[44]!==eg?(D=p("mediaPageBannerSize",eg),W[44]=eg,W[45]=D):D=W[45];let eh=null==Q?void 0:Q.themeSettings;W[46]!==eh?(H=p("showEpisodeCardAnimeInfo",eh),W[46]=eh,W[47]=H):H=W[47];let ep=null==Q?void 0:Q.themeSettings;W[48]!==ep?(M=p("continueWatchingDefaultSorting",ep),W[48]=ep,W[49]=M):M=W[49];let ef=null==Q?void 0:Q.themeSettings;W[50]!==ef?(O=p("animeLibraryCollectionDefaultSorting",ef),W[50]=ef,W[51]=O):O=W[51];let eS=null==Q?void 0:Q.themeSettings;W[52]!==eS?(E=p("mangaLibraryCollectionDefaultSorting",eS),W[52]=eS,W[53]=E):E=W[53];let ev=null==Q?void 0:Q.themeSettings;W[54]!==ev?(U=p("showAnimeUnwatchedCount",ev),W[54]=ev,W[55]=U):U=W[55];let ey=null==Q?void 0:Q.themeSettings;W[56]!==ey?(I=p("showMangaUnreadCount",ey),W[56]=ey,W[57]=I):I=W[57];let eP=null==Q?void 0:Q.themeSettings;W[58]!==eP?(N=p("hideEpisodeCardDescription",eP),W[58]=eP,W[59]=N):N=W[59];let eC=null==Q?void 0:Q.themeSettings;W[60]!==eC?(q=p("hideDownloadedEpisodeCardFilename",eC),W[60]=eC,W[61]=q):q=W[61];let ez=null==Q?void 0:Q.themeSettings;W[62]!==ez?(x=p("customCSS",ez),W[62]=ez,W[63]=x):x=W[63];let ew=null==Q?void 0:Q.themeSettings;return W[64]!==ew?(R=p("mobileCustomCSS",ew),W[64]=ew,W[65]=R):R=W[65],W[66]!==(null==Q?void 0:Q.themeSettings)?(_=null==(t=p("unpinnedMenuItems",null==Q?void 0:Q.themeSettings))?void 0:t.filter(h),W[66]=null==Q?void 0:Q.themeSettings,W[67]=_):_=W[67],W[68]!==i||W[69]!==d||W[70]!==c||W[71]!==b||W[72]!==g||W[73]!==f||W[74]!==S||W[75]!==v||W[76]!==y||W[77]!==P||W[78]!==C||W[79]!==o||W[80]!==z||W[81]!==w||W[82]!==k||W[83]!==A||W[84]!==B||W[85]!==T||W[86]!==eb||W[87]!==L||W[88]!==D||W[89]!==H||W[90]!==l||W[91]!==M||W[92]!==O||W[93]!==E||W[94]!==U||W[95]!==I||W[96]!==N||W[97]!==q||W[98]!==x||W[99]!==R||W[100]!==_||W[101]!==s||W[102]!==u?(F={enableColorSettings:i,animeEntryScreenLayout:o,smallerEpisodeCarouselSize:l,expandSidebarOnHover:s,backgroundColor:u,accentColor:d,hideTopNavbar:c,enableMediaCardBlurredBackground:b,sidebarBackgroundColor:g,libraryScreenBannerType:f,libraryScreenCustomBannerImage:S,libraryScreenCustomBannerPosition:v,libraryScreenCustomBannerOpacity:y,libraryScreenCustomBackgroundImage:P,libraryScreenCustomBackgroundOpacity:C,disableLibraryScreenGenreSelector:z,libraryScreenCustomBackgroundBlur:w,enableMediaPageBlurredBackground:k,disableSidebarTransparency:A,useLegacyEpisodeCard:B,disableCarouselAutoScroll:T,hasCustomBackgroundColor:eb,mediaPageBannerType:L,mediaPageBannerSize:D,mediaPageBannerInfoBoxSize:"fluid",showEpisodeCardAnimeInfo:H,continueWatchingDefaultSorting:M,animeLibraryCollectionDefaultSorting:O,mangaLibraryCollectionDefaultSorting:E,showAnimeUnwatchedCount:U,showMangaUnreadCount:I,hideEpisodeCardDescription:N,hideDownloadedEpisodeCardFilename:q,customCSS:x,mobileCustomCSS:R,unpinnedMenuItems:_},W[68]=i,W[69]=d,W[70]=c,W[71]=b,W[72]=g,W[73]=f,W[74]=S,W[75]=v,W[76]=y,W[77]=P,W[78]=C,W[79]=o,W[80]=z,W[81]=w,W[82]=k,W[83]=A,W[84]=B,W[85]=T,W[86]=eb,W[87]=L,W[88]=D,W[89]=H,W[90]=l,W[91]=M,W[92]=O,W[93]=E,W[94]=U,W[95]=I,W[96]=N,W[97]=q,W[98]=x,W[99]=R,W[100]=_,W[101]=s,W[102]=u,W[103]=F):F=W[103],F}function h(e){return"anilist"!==e&&"nakama"!==e&&"library"!==e}function p(e,n){let t=m[e];if(!n||"mediaPageBannerInfoBoxSize"===e&&(null==n?void 0:n.mediaPageBannerInfoBoxSize)!=="boxed")return t;let a=n[e],r=typeof t,i=typeof a;if(null==a)return t;switch(r){case"string":if("string"===i&&""===a&&""!==t||"string"!==i)return t;return a;case"number":if("number"!==i||isNaN(a))return t;return a;case"boolean":if("boolean"===i)return a;return t;case"object":if(Array.isArray(t)){if(!Array.isArray(a))return t;return a}if("object"!==i||null===a)return t;return a;default:return a}}function f(){let{width:e}=(0,o.A)();return{isMobile:i.useMemo(()=>e<1024,[e<1024])}}},91360:(e,n,t)=>{"use strict";t.d(n,{cn:()=>o,u:()=>i});var a=t(35403),r=t(59055);function i(e){return e}function o(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,r.QP)((0,a.$)(n))}},94077:(e,n,t)=>{"use strict";t.d(n,{Ck:()=>l,X:()=>r,nH:()=>i,qe:()=>o});var a=t(38310);let r="desktop"===a.env.NEXT_PUBLIC_PLATFORM,i="electron"===a.env.NEXT_PUBLIC_DESKTOP,o="tauri"===a.env.NEXT_PUBLIC_DESKTOP,l=!1},96826:(e,n,t)=>{"use strict";t.d(n,{iZ:()=>m,bV:()=>h,FA:()=>f,hK:()=>v,lJ:()=>g,E_:()=>p,OB:()=>P,S5:()=>S,OZ:()=>y,v1:()=>c,LX:()=>b});var a=t(19749),r=t(35349),i=t(84762);class o{async generateToken(e){let n=Math.floor(Date.now()/1e3),t=btoa(JSON.stringify({endpoint:e,iat:n,exp:n+this.ttl})).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),a=await this.generateHMACSignature(t);return"".concat(t,".").concat(a)}generateQueryParam(e,n){return this.generateToken(e).then(e=>"".concat(n||"?","token=").concat(encodeURIComponent(e)))}async generateHMACSignature(e){let n=i.HmacSHA256(e,this.secret);return i.enc.Base64.stringify(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}constructor(e,n){this.secret=e,this.ttl=n}}function l(e){return new o(e,86400)}function s(e){return new o(e,86400)}var u=t(24151),d=t(29724);function c(){return(0,d.md)(r.H5)}function b(){return(0,d.Xr)(r.H5)}function m(){let e=c();return null==e||e.user,null==e?void 0:e.user}function g(){var e,n,t,r,i,o;let l,s,d=(0,a.c)(2),b=c();return null==b||null==(n=b.settings)||null==(e=n.library)||e.torrentProvider,l=!!(null==b||null==(r=b.settings)||null==(t=r.library)?void 0:t.torrentProvider)&&(null==b||null==(o=b.settings)||null==(i=o.library)?void 0:i.torrentProvider)!==u.xF.NONE,d[0]!==l?(s={hasTorrentProvider:l},d[0]=l,d[1]=s):s=d[1],s}function h(){var e,n;let t,r,i=(0,a.c)(2),o=c();return null==o||o.debridSettings,t=!!(null==o||null==(e=o.debridSettings)?void 0:e.enabled)&&!!(null==o||null==(n=o.debridSettings)?void 0:n.provider),i[0]!==t?(r={hasDebridService:t},i[0]=t,i[1]=r):r=i[1],r}function p(){var e;let n,t,r=(0,a.c)(2),i=c();return null==i||i.torrentstreamSettings,n=!!(null==i||null==(e=i.torrentstreamSettings)?void 0:e.enabled),r[0]!==n?(t={hasTorrentStreaming:n},r[0]=n,r[1]=t):t=r[1],t}function f(){var e,n,t;let r,i,o=(0,a.c)(2),l=c();return null==l||null==(e=l.settings)||e.library,r=!!(null==l||null==(t=l.settings)||null==(n=t.library)?void 0:n.enableOnlinestream),o[0]!==r?(i={hasOnlineStreaming:r},o[0]=r,o[1]=i):i=o[1],i}function S(){var e;let n,t,r=(0,a.c)(2),i=c();return null==i||i.debridSettings,n=null==i||null==(e=i.debridSettings)?void 0:e.provider,r[0]!==n?(t={selectedDebridService:n},r[0]=n,r[1]=t):t=r[1],t}function v(){var e,n,t,r,i;let o,l,s=(0,a.c)(3),u=c(),{hasDebridService:d}=h(),{hasTorrentStreaming:b}=p(),{hasOnlineStreaming:m}=f(),g=m||b||d;return null==u||u.debridSettings,null==u||u.torrentstreamSettings,o=!!(null==u||null==(e=u.debridSettings)?void 0:e.enabled)&&!!(null==u||null==(n=u.debridSettings)?void 0:n.provider)&&!!(null==u||null==(t=u.debridSettings)?void 0:t.includeDebridStreamInLibrary)||!!(null==u||null==(r=u.torrentstreamSettings)?void 0:r.enabled)&&(null==u||null==(i=u.torrentstreamSettings)?void 0:i.includeInLibrary),s[0]!==g||s[1]!==o?(l={hasStreamingEnabled:g,hasTorrentOrDebridInclusion:o},s[0]=g,s[1]=o,s[2]=l):l=s[2],l}function y(){let e,n=(0,a.c)(3),t=c(),[i]=(0,d.fp)(r.uQ);return n[0]!==i||n[1]!==(null==t?void 0:t.serverHasPassword)?(e={getHMACTokenQueryParam:async(e,n)=>{if(!(null==t?void 0:t.serverHasPassword)||!i)return"";try{let t=l(i);return await t.generateQueryParam(e,n)}catch(e){return console.error("Failed to generate HMAC token:",e),""}},generateHMACToken:async e=>{if(!(null==t?void 0:t.serverHasPassword)||!i)return"";try{let n=l(i);return await n.generateToken(e)}catch(e){return console.error("Failed to generate HMAC token:",e),""}}},n[0]=i,n[1]=null==t?void 0:t.serverHasPassword,n[2]=e):e=n[2],e}function P(){var e,n,t,r,i,o,l,u,d,b;let m,g=(0,a.c)(3),h=c(),p=(null==h||null==(n=h.settings)||null==(e=n.nakama)?void 0:e.isHost)?null==h||null==(r=h.settings)||null==(t=r.nakama)?void 0:t.hostPassword:null==h||null==(o=h.settings)||null==(i=o.nakama)?void 0:i.remoteServerPassword;return g[0]!==p||g[1]!==(null==h||null==(u=h.settings)||null==(l=u.nakama)?void 0:l.enabled)?(m={getHMACTokenQueryParam:async(e,n)=>{var t,a;if(!(null==h||null==(a=h.settings)||null==(t=a.nakama)?void 0:t.enabled)||!p)return"";try{let t=s(p);return await t.generateQueryParam(e,n)}catch(e){return console.error("Failed to generate Nakama HMAC token:",e),""}},generateHMACToken:async e=>{var n,t;if(!(null==h||null==(t=h.settings)||null==(n=t.nakama)?void 0:n.enabled)||!p)return"";try{let n=s(p);return await n.generateToken(e)}catch(e){return console.error("Failed to generate Nakama HMAC token:",e),""}}},g[0]=p,g[1]=null==h||null==(b=h.settings)||null==(d=b.nakama)?void 0:d.enabled,g[2]=m):m=g[2],m}t(12115)}}]);