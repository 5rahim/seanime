"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[244,5565],{244:(e,t,n)=>{n.d(t,{e7:()=>h,VZ:()=>v,Ui:()=>A,yR:()=>C,KZ:()=>_,GK:()=>P,Xv:()=>M,Mz:()=>j,Jk:()=>k,kb:()=>S});var a=n(95155),l=n(19749),r=n(12115);function o(){var e;let t,n=(0,l.c)(1);return(null==(e=window.electron)?void 0:e.platform)!=="darwin"?null:(n[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)("div",{className:"h-4"}),n[0]=t):t=n[0],t)}var i=n(23925);function s(){let e,t,n,o=(0,l.c)(3),[s,d]=r.useState("");return(o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{d((0,i.iD)())},t=[],o[0]=e,o[1]=t):(e=o[0],t=o[1]),r.useEffect(e,t),"macos"!==s)?null:(o[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)("div",{className:"h-4"}),o[2]=n):n=o[2],n)}var d=n(94077),c=n(21335),m=n(91360);let u=(0,m.u)({root:(0,c.F)(["UI-AppLayout__root appLayout","flex w-full group/appLayout"],{variants:{withSidebar:{true:"flex-row with-sidebar",false:"flex-col"},sidebarSize:{slim:"sidebar-slim",sm:"sidebar-sm",md:"sidebar-md",lg:"sidebar-lg",xl:"sidebar-xl"}},defaultVariants:{withSidebar:!1,sidebarSize:"md"},compoundVariants:[{withSidebar:!0,sidebarSize:"slim",className:"lg:[&>.appLayout]:pl-20"},{withSidebar:!0,sidebarSize:"sm",className:"lg:[&>.appLayout]:pl-48"},{withSidebar:!0,sidebarSize:"md",className:"lg:[&>.appLayout]:pl-64"},{withSidebar:!0,sidebarSize:"lg",className:"lg:[&>.appLayout]:pl-[20rem]"},{withSidebar:!0,sidebarSize:"xl",className:"lg:[&>.appLayout]:pl-[25rem]"}]})}),p=(0,m.u)({root:(0,c.F)(["UI-AppLayoutHeader__root","relative w-full"])}),f=(0,m.u)({root:(0,c.F)(["UI-AppLayoutSidebar__root z-50","hidden lg:fixed lg:inset-y-0 lg:flex lg:flex-col grow-0 shrink-0 basis-0","group-[.sidebar-slim]/appLayout:w-20","group-[.sidebar-sm]/appLayout:w-48","group-[.sidebar-md]/appLayout:w-64","group-[.sidebar-lg]/appLayout:w-[20rem]","group-[.sidebar-xl]/appLayout:w-[25rem]"])}),g=(0,m.u)({root:(0,c.F)(["UI-AppLayoutContent__root","relative"])}),y=(0,m.u)({root:(0,c.F)(["UI-AppLayoutFooter__root","relative"])}),x=(0,m.u)({root:(0,c.F)(["UI-AppLayoutStack__root","relative"],{variants:{spacing:{sm:"space-y-2",md:"space-y-4",lg:"space-y-8",xl:"space-y-10"}},defaultVariants:{spacing:"md"}})}),b=(0,m.u)({root:(0,c.F)(["UI-AppLayoutGrid__root","relative flex flex-col"],{variants:{breakBelow:{sm:"sm:grid sm:space-y-0",md:"md:grid md:space-y-0",lg:"lg:grid lg:space-y-0",xl:"xl:grid xl:space-y-0","2xl":"2xl:grid 2xl:space-y-0"},spacing:{sm:"gap-2",md:"gap-4",lg:"gap-8",xl:"gap-10","2xl":"gap-12"},cols:{1:null,2:null,3:null,4:null,5:null,6:null}},defaultVariants:{breakBelow:"xl",spacing:"md",cols:3},compoundVariants:[{breakBelow:"sm",cols:1,className:"sm:grid-cols-1"},{breakBelow:"sm",cols:2,className:"sm:grid-cols-2"},{breakBelow:"sm",cols:3,className:"sm:grid-cols-3"},{breakBelow:"sm",cols:4,className:"sm:grid-cols-4"},{breakBelow:"sm",cols:5,className:"sm:grid-cols-5"},{breakBelow:"sm",cols:6,className:"sm:grid-cols-6"},{breakBelow:"md",cols:1,className:"md:grid-cols-1"},{breakBelow:"md",cols:2,className:"md:grid-cols-2"},{breakBelow:"md",cols:3,className:"md:grid-cols-3"},{breakBelow:"md",cols:4,className:"md:grid-cols-4"},{breakBelow:"md",cols:5,className:"md:grid-cols-5"},{breakBelow:"md",cols:6,className:"md:grid-cols-6"},{breakBelow:"lg",cols:1,className:"lg:grid-cols-1"},{breakBelow:"lg",cols:2,className:"lg:grid-cols-2"},{breakBelow:"lg",cols:3,className:"lg:grid-cols-3"},{breakBelow:"lg",cols:4,className:"lg:grid-cols-4"},{breakBelow:"lg",cols:5,className:"lg:grid-cols-5"},{breakBelow:"lg",cols:6,className:"lg:grid-cols-6"},{breakBelow:"xl",cols:1,className:"xl:grid-cols-1"},{breakBelow:"xl",cols:2,className:"xl:grid-cols-2"},{breakBelow:"xl",cols:3,className:"xl:grid-cols-3"},{breakBelow:"xl",cols:4,className:"xl:grid-cols-4"},{breakBelow:"xl",cols:5,className:"xl:grid-cols-5"},{breakBelow:"xl",cols:6,className:"xl:grid-cols-6"}]})}),h=r.forwardRef((e,t)=>{let n,o,i,s,c,p,f,g=(0,l.c)(16);g[0]!==e?({children:n,className:o,withSidebar:c,sidebarSize:s,...i}=e,g[0]=e,g[1]=n,g[2]=o,g[3]=i,g[4]=s,g[5]=c):(n=g[1],o=g[2],i=g[3],s=g[4],c=g[5]);let y=void 0!==c&&c,x=r.useContext(k);return g[6]!==o||g[7]!==x.size||g[8]!==s||g[9]!==y?(p=(0,m.cn)(u.root({withSidebar:y,sidebarSize:x.size||s}),d.X&&"pt-4 select-none",o),g[6]=o,g[7]=x.size,g[8]=s,g[9]=y,g[10]=p):p=g[10],g[11]!==n||g[12]!==t||g[13]!==i||g[14]!==p?(f=(0,a.jsx)("div",{ref:t,className:p,...i,children:n}),g[11]=n,g[12]=t,g[13]=i,g[14]=p,g[15]=f):f=g[15],f});h.displayName="AppLayout",r.forwardRef((e,t)=>{let n,r,o,i,s,d=(0,l.c)(11);return d[0]!==e?({children:n,className:r,...o}=e,d[0]=e,d[1]=n,d[2]=r,d[3]=o):(n=d[1],r=d[2],o=d[3]),d[4]!==r?(i=(0,m.cn)(p.root(),r),d[4]=r,d[5]=i):i=d[5],d[6]!==n||d[7]!==t||d[8]!==o||d[9]!==i?(s=(0,a.jsx)("header",{ref:t,className:i,...o,children:n}),d[6]=n,d[7]=t,d[8]=o,d[9]=i,d[10]=s):s=d[10],s}).displayName="AppLayoutHeader";let C=r.forwardRef((e,t)=>{let n,r,i,c,u,p,g,y=(0,l.c)(13);return y[0]!==e?({children:n,className:r,...i}=e,y[0]=e,y[1]=n,y[2]=r,y[3]=i):(n=y[1],r=y[2],i=y[3]),y[4]!==r?(c=(0,m.cn)(f.root(),r),y[4]=r,y[5]=c):c=y[5],y[6]===Symbol.for("react.memo_cache_sentinel")?(u=d.qe&&(0,a.jsx)(s,{}),p=d.nH&&(0,a.jsx)(o,{}),y[6]=u,y[7]=p):(u=y[6],p=y[7]),y[8]!==n||y[9]!==t||y[10]!==i||y[11]!==c?(g=(0,a.jsxs)("aside",{ref:t,className:c,...i,children:[u,p,n]}),y[8]=n,y[9]=t,y[10]=i,y[11]=c,y[12]=g):g=y[12],g});C.displayName="AppLayoutSidebar";let v=r.forwardRef((e,t)=>{let n,r,o,i,s,d=(0,l.c)(11);return d[0]!==e?({children:n,className:r,...o}=e,d[0]=e,d[1]=n,d[2]=r,d[3]=o):(n=d[1],r=d[2],o=d[3]),d[4]!==r?(i=(0,m.cn)(g.root(),r),d[4]=r,d[5]=i):i=d[5],d[6]!==n||d[7]!==t||d[8]!==o||d[9]!==i?(s=(0,a.jsx)("main",{ref:t,className:i,...o,children:n}),d[6]=n,d[7]=t,d[8]=o,d[9]=i,d[10]=s):s=d[10],s});v.displayName="AppLayoutContent";let A=r.forwardRef((e,t)=>{let n,r,o,i,s,d,c,u,p=(0,l.c)(17);return p[0]!==e?({children:r,className:o,breakBelow:n,cols:i,spacing:d,...s}=e,p[0]=e,p[1]=n,p[2]=r,p[3]=o,p[4]=i,p[5]=s,p[6]=d):(n=p[1],r=p[2],o=p[3],i=p[4],s=p[5],d=p[6]),p[7]!==n||p[8]!==o||p[9]!==i||p[10]!==d?(c=(0,m.cn)(b.root({breakBelow:n,cols:i,spacing:d}),o),p[7]=n,p[8]=o,p[9]=i,p[10]=d,p[11]=c):c=p[11],p[12]!==r||p[13]!==t||p[14]!==s||p[15]!==c?(u=(0,a.jsx)("section",{ref:t,className:c,...s,children:r}),p[12]=r,p[13]=t,p[14]=s,p[15]=c,p[16]=u):u=p[16],u});A.displayName="AppLayoutGrid",r.forwardRef((e,t)=>{let n,r,o,i,s,d=(0,l.c)(11);return d[0]!==e?({children:n,className:r,...o}=e,d[0]=e,d[1]=n,d[2]=r,d[3]=o):(n=d[1],r=d[2],o=d[3]),d[4]!==r?(i=(0,m.cn)(y.root(),r),d[4]=r,d[5]=i):i=d[5],d[6]!==n||d[7]!==t||d[8]!==o||d[9]!==i?(s=(0,a.jsx)("footer",{ref:t,className:i,...o,children:n}),d[6]=n,d[7]=t,d[8]=o,d[9]=i,d[10]=s):s=d[10],s}).displayName="AppLayoutFooter";let _=r.forwardRef((e,t)=>{let n,r,o,i,s,d,c=(0,l.c)(13);return c[0]!==e?({children:n,className:r,spacing:i,...o}=e,c[0]=e,c[1]=n,c[2]=r,c[3]=o,c[4]=i):(n=c[1],r=c[2],o=c[3],i=c[4]),c[5]!==r||c[6]!==i?(s=(0,m.cn)(x.root({spacing:i}),r),c[5]=r,c[6]=i,c[7]=s):s=c[7],c[8]!==n||c[9]!==t||c[10]!==o||c[11]!==s?(d=(0,a.jsx)("div",{ref:t,className:s,...o,children:n}),c[8]=n,c[9]=t,c[10]=o,c[11]=s,c[12]=d):d=c[12],d});_.displayName="AppLayoutStack";var w=n(15388);let k=r.createContext({open:!1,setOpen:()=>{},setSize:()=>{},size:"md",isBelowBreakpoint:!1});function S(){let e=r.useContext(k);if(!e)throw Error("useAppSidebarContext must be used within a AppSidebarProvider");return e}let N=(0,m.u)({sidebar:(0,c.F)(["UI-AppSidebar__sidebar","flex flex-grow flex-col overflow-y-auto border-r border-transparent bg-[--background]"])}),I=(0,m.u)({trigger:(0,c.F)(["UI-AppSidebarTrigger__trigger","block lg:hidden","items-center justify-center rounded-[--radius] p-2 text-[--muted] hover:bg-[--subtle] hover:text-[--foreground] transition-colors","focus:outline-none focus:ring-2 focus:ring-inset focus:ring-[--ring]"])}),P=r.forwardRef((e,t)=>{let n,o,i,s,d,c,u,p,f=(0,l.c)(20);f[0]!==e?({children:n,className:o,...i}=e,f[0]=e,f[1]=n,f[2]=o,f[3]=i):(n=f[1],o=f[2],i=f[3]);let g=r.useContext(k);return f[4]!==o?(s=(0,m.cn)(N.sidebar(),o),f[4]=o,f[5]=s):s=f[5],f[6]!==n||f[7]!==t||f[8]!==i||f[9]!==s?(d=(0,a.jsx)("div",{ref:t,className:s,...i,children:n}),f[6]=n,f[7]=t,f[8]=i,f[9]=s,f[10]=d):d=f[10],f[11]!==g?(c=e=>g.setOpen(e),f[11]=g,f[12]=c):c=f[12],f[13]!==n||f[14]!==g.open||f[15]!==c?(u=(0,a.jsx)(w._s,{open:g.open,onOpenChange:c,side:"left",children:n}),f[13]=n,f[14]=g.open,f[15]=c,f[16]=u):u=f[16],f[17]!==d||f[18]!==u?(p=(0,a.jsxs)(a.Fragment,{children:[d,u]}),f[17]=d,f[18]=u,f[19]=p):p=f[19],p});P.displayName="AppSidebar";let j=r.forwardRef((e,t)=>{let n,o,i,s,d,c,u,p=(0,l.c)(16);if(p[0]!==e){let{children:t,className:a,...l}=e;n=a,o=l,p[0]=e,p[1]=n,p[2]=o}else n=p[1],o=p[2];let f=r.useContext(k);return p[3]!==n?(i=(0,m.cn)(I.trigger(),n),p[3]=n,p[4]=i):i=p[4],p[5]!==f?(s=()=>f.setOpen(!f.open),p[5]=f,p[6]=s):s=p[6],p[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)("span",{className:"sr-only",children:"Open main menu"}),p[7]=d):d=p[7],p[8]!==f.open?(c=f.open?(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"block h-6 w-6",children:[(0,a.jsx)("line",{x1:"18",x2:"6",y1:"6",y2:"18"}),(0,a.jsx)("line",{x1:"6",x2:"18",y1:"6",y2:"18"})]}):(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"block h-6 w-6",children:[(0,a.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,a.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,a.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]}),p[8]=f.open,p[9]=c):c=p[9],p[10]!==t||p[11]!==o||p[12]!==i||p[13]!==s||p[14]!==c?(u=(0,a.jsxs)("button",{ref:t,className:i,onClick:s,...o,children:[d,c]}),p[10]=t,p[11]=o,p[12]=i,p[13]=s,p[14]=c,p[15]=u):u=p[15],u});j.displayName="AppSidebarTrigger";let M=e=>{let t,n,o,i,s,d,c=(0,l.c)(16),{children:m,onOpenChange:u,onSizeChange:p}=e,[f,g]=r.useState(!1),[y,x]=r.useState(void 0),[b,h]=r.useState(!1);return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{let e=()=>h(window.innerWidth<1024);return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},c[0]=t):t=c[0],c[1]!==b?(n=[b],c[1]=b,c[2]=n):n=c[2],r.useEffect(t,n),c[3]!==u?(o=e=>{null==u||u(e),g(e)},c[3]=u,c[4]=o):o=c[4],c[5]!==p?(i=e=>{null==p||p(e),x(e)},c[5]=p,c[6]=i):i=c[6],c[7]!==b||c[8]!==f||c[9]!==y||c[10]!==o||c[11]!==i?(s={open:f,setOpen:o,setSize:i,size:y,isBelowBreakpoint:b},c[7]=b,c[8]=f,c[9]=y,c[10]=o,c[11]=i,c[12]=s):s=c[12],c[13]!==m||c[14]!==s?(d=(0,a.jsx)(k.Provider,{value:s,children:m}),c[13]=m,c[14]=s,c[15]=d):d=c[15],d};M.displayName="AppSidebarProvider"},6773:(e,t,n)=>{n.d(t,{z:()=>c});var a=n(95155),l=n(19749),r=n(75722),o=n(21335),i=n(12115),s=n(91360);let d=(0,s.u)({root:(0,o.F)(["UI-ProgressBar__root","relative w-full overflow-hidden rounded-full bg-[--subtle] translate-z-0"],{variants:{size:{xs:"h-1",sm:"h-2",md:"h-3",lg:"h-4",xl:"h-6"}},defaultVariants:{size:"md"}}),indicator:(0,o.F)(["UI-ProgressBar__indicator","h-full w-full flex-1 bg-brand transition-all flex items-center justify-center relative"],{variants:{isIndeterminate:{true:"animate-indeterminate-progress origin-left-right",false:null}},defaultVariants:{isIndeterminate:!1}})}),c=i.forwardRef((e,t)=>{let n,o,i,c,m,u,p,f,g,y,x,b=(0,l.c)(24);b[0]!==e?({className:n,value:u,indicatorClass:o,size:m,isIndeterminate:i,...c}=e,b[0]=e,b[1]=n,b[2]=o,b[3]=i,b[4]=c,b[5]=m,b[6]=u):(n=b[1],o=b[2],i=b[3],c=b[4],m=b[5],u=b[6]),b[7]!==n||b[8]!==m?(p=(0,s.cn)(d.root({size:m}),n),b[7]=n,b[8]=m,b[9]=p):p=b[9],b[10]!==o||b[11]!==i?(f=(0,s.cn)(d.indicator({isIndeterminate:i}),o),b[10]=o,b[11]=i,b[12]=f):f=b[12];let h="translateX(-".concat(100-(u||0),"%)");return b[13]!==h?(g={transform:h},b[13]=h,b[14]=g):g=b[14],b[15]!==f||b[16]!==g||b[17]!==u?(y=(0,a.jsx)(r.C1,{className:f,style:g,"data-progress-value":u}),b[15]=f,b[16]=g,b[17]=u,b[18]=y):y=b[18],b[19]!==t||b[20]!==c||b[21]!==p||b[22]!==y?(x=(0,a.jsx)(r.bL,{"data-progress-bar":!0,ref:t,className:p,...c,children:y}),b[19]=t,b[20]=c,b[21]=p,b[22]=y,b[23]=x):x=b[23],x});c.displayName="ProgressBar"},10109:(e,t,n)=>{n.d(t,{Lq:()=>b,QQ:()=>u,R7:()=>c,YI:()=>f,a8:()=>C,gA:()=>y,gv:()=>d,mS:()=>A});var a=n(19749),l=n(7675),r=n(74889),o=n(96826),i=n(46278),s=n(69554);function d(){let e,t,n=(0,a.c)(3);(0,o.v1)();let s=(0,i.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[r.S.PLAYBACK_MANAGER.PlaybackSyncCurrentProgress.key],n[0]=e):e=n[0],n[1]!==s?(t={endpoint:r.S.PLAYBACK_MANAGER.PlaybackSyncCurrentProgress.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackSyncCurrentProgress.methods[0],mutationKey:e,onSuccess:async e=>{await s.invalidateQueries({queryKey:[r.S.ANIME_ENTRIES.GetAnimeEntry.key,String(e)]}),await s.invalidateQueries({queryKey:[r.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await s.invalidateQueries({queryKey:[r.S.ANILIST.GetAnimeCollection.key]})}},n[1]=s,n[2]=t):t=n[2],(0,l.qk)(t)}function c(){let e;for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];let i=(0,a.c)(2);return i[0]!==n?(e={endpoint:r.S.PLAYBACK_MANAGER.PlaybackPlayNextEpisode.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackPlayNextEpisode.methods[0],mutationKey:[r.S.PLAYBACK_MANAGER.PlaybackPlayNextEpisode.key,...n],onSuccess:m},i[0]=n,i[1]=e):e=i[1],(0,l.qk)(e)}async function m(){}function u(){let e;for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];let i=(0,a.c)(2);return i[0]!==n?(e={endpoint:r.S.PLAYBACK_MANAGER.PlaybackCancelCurrentPlaylist.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackCancelCurrentPlaylist.methods[0],mutationKey:[r.S.PLAYBACK_MANAGER.PlaybackCancelCurrentPlaylist.key,...n],onSuccess:p},i[0]=n,i[1]=e):e=i[1],(0,l.qk)(e)}async function p(){s.oR.info("Cancelling playlist")}function f(){let e;for(var t=arguments.length,n=Array(t),o=0;o<t;o++)n[o]=arguments[o];let i=(0,a.c)(2);return i[0]!==n?(e={endpoint:r.S.PLAYBACK_MANAGER.PlaybackPlaylistNext.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackPlaylistNext.methods[0],mutationKey:[r.S.PLAYBACK_MANAGER.PlaybackPlaylistNext.key,...n],onSuccess:g},i[0]=n,i[1]=e):e=i[1],(0,l.qk)(e)}async function g(){s.oR.info("Loading next file")}function y(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:r.S.PLAYBACK_MANAGER.PlaybackPlayVideo.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackPlayVideo.methods[0],mutationKey:[r.S.PLAYBACK_MANAGER.PlaybackPlayVideo.key],onSuccess:x},t[0]=e):e=t[0],(0,l.qk)(e)}async function x(){}function b(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:r.S.PLAYBACK_MANAGER.PlaybackPlayRandomVideo.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackPlayRandomVideo.methods[0],mutationKey:[r.S.PLAYBACK_MANAGER.PlaybackPlayRandomVideo.key],onSuccess:h},t[0]=e):e=t[0],(0,l.qk)(e)}async function h(){s.oR.success("Playing random episode")}function C(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:r.S.PLAYBACK_MANAGER.PlaybackStartManualTracking.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackStartManualTracking.methods[0],mutationKey:[r.S.PLAYBACK_MANAGER.PlaybackStartManualTracking.key],onSuccess:v},t[0]=e):e=t[0],(0,l.qk)(e)}async function v(){}function A(e){let t,n,o=(0,a.c)(3),{onSuccess:i}=e;return o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[r.S.PLAYBACK_MANAGER.PlaybackCancelManualTracking.key],o[0]=t):t=o[0],o[1]!==i?(n={endpoint:r.S.PLAYBACK_MANAGER.PlaybackCancelManualTracking.endpoint,method:r.S.PLAYBACK_MANAGER.PlaybackCancelManualTracking.methods[0],mutationKey:t,onSuccess:async()=>{null==i||i()}},o[1]=i,o[2]=n):n=o[2],(0,l.qk)(n)}},10653:(e,t,n)=>{n.d(t,{EW:()=>u,MF:()=>b,Ml:()=>f,QV:()=>g,bv:()=>x,qh:()=>p,tq:()=>y});var a=n(95155),l=n(19749),r=n(84127),o=n(47342),i=n(17934),s=n(12115),d=n(70376),c=n(31561);function m(e){return e.sort((e,t)=>e.label.localeCompare(t.label,void 0,{numeric:!0}))}function u(e){let t,n,o,i,d,u,p,f=(0,l.c)(15);f[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],f[0]=t):t=f[0];let[g,y]=(0,s.useState)(t),{sendActionRenderAnimePageButtonsEvent:x}=(0,c.vX)(),{sendActionClickedEvent:b}=(0,c.sp)();f[1]!==x?(n=()=>{x({},"")},f[1]=x,f[2]=n):n=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(o=[],f[3]=o):o=f[3],(0,s.useEffect)(n,o),f[4]===Symbol.for("react.memo_cache_sentinel")?(i=(e,t)=>{y(n=>m([...n.filter(e=>e.extensionId!==t),...e.buttons.map(e=>({...e,extensionId:t}))]))},f[4]=i):i=f[4],(0,c.uV)(i,""),f[5]!==e.media||f[6]!==b?(d=function(t){b({actionId:t.id,event:{media:e.media}},t.extensionId)},f[5]=e.media,f[6]=b,f[7]=d):d=f[7];let h=d;if(0===g.length)return null;if(f[8]!==g||f[9]!==h){let e;f[11]!==h?(e=e=>(0,a.jsx)(r.$n,{intent:e.intent||"white-subtle",onClick:()=>h(e),style:e.style,children:e.label||"???"},e.id),f[11]=h,f[12]=e):e=f[12],u=g.map(e),f[8]=g,f[9]=h,f[10]=u}else u=f[10];return f[13]!==u?(p=(0,a.jsx)(a.Fragment,{children:u}),f[13]=u,f[14]=p):p=f[14],p}function p(e){let t,n,o,i,d,u,p,f=(0,l.c)(15);f[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],f[0]=t):t=f[0];let[g,y]=(0,s.useState)(t),{sendActionRenderMangaPageButtonsEvent:x}=(0,c.$b)(),{sendActionClickedEvent:b}=(0,c.sp)();f[1]!==x?(n=()=>{x({},"")},f[1]=x,f[2]=n):n=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(o=[],f[3]=o):o=f[3],(0,s.useEffect)(n,o),f[4]===Symbol.for("react.memo_cache_sentinel")?(i=(e,t)=>{y(n=>m([...n.filter(e=>e.extensionId!==t),...e.buttons.map(e=>({...e,extensionId:t}))]))},f[4]=i):i=f[4],(0,c.ej)(i,""),f[5]!==e.media||f[6]!==b?(d=function(t){b({actionId:t.id,event:{media:e.media}},t.extensionId)},f[5]=e.media,f[6]=b,f[7]=d):d=f[7];let h=d;if(0===g.length)return null;if(f[8]!==g||f[9]!==h){let e;f[11]!==h?(e=e=>(0,a.jsx)(r.$n,{intent:e.intent||"white-subtle",onClick:()=>h(e),style:e.style,children:e.label||"???"},e.id),f[11]=h,f[12]=e):e=f[12],u=g.map(e),f[8]=g,f[9]=h,f[10]=u}else u=f[10];return f[13]!==u?(p=(0,a.jsx)(a.Fragment,{children:u}),f[13]=u,f[14]=p):p=f[14],p}function f(e){let t,n,r,i,d,u,p,f,g=(0,l.c)(17);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],g[0]=t):t=g[0];let[y,x]=(0,s.useState)(t),{sendActionRenderMediaCardContextMenuItemsEvent:b}=(0,c.HH)(),{sendActionClickedEvent:h}=(0,c.sp)();g[1]!==b?(n=()=>{b({},"")},g[1]=b,g[2]=n):n=g[2],g[3]===Symbol.for("react.memo_cache_sentinel")?(r=[],g[3]=r):r=g[3],(0,s.useEffect)(n,r),g[4]!==e.for?(i=(t,n)=>{x(a=>m([...a.filter(e=>e.extensionId!==n),...t.items.filter(t=>t.for===e.for||"both"===t.for).map(e=>({...e,extensionId:n}))]))},g[4]=e.for,g[5]=i):i=g[5],(0,c.or)(i,""),g[6]!==e.media||g[7]!==h?(d=function(t){h({actionId:t.id,event:{media:e.media}},t.extensionId)},g[6]=e.media,g[7]=h,g[8]=d):d=g[8];let C=d;if(0===y.length)return null;if(g[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(o.K5,{className:"!my-2"}),g[9]=u):u=g[9],g[10]!==C||g[11]!==y){let e;g[13]!==C?(e=e=>(0,a.jsx)(o.kt,{onClick:()=>C(e),style:e.style,children:e.label||"???"},e.id),g[13]=C,g[14]=e):e=g[14],p=y.map(e),g[10]=C,g[11]=y,g[12]=p}else p=g[12];return g[15]!==p?(f=(0,a.jsxs)(a.Fragment,{children:[u,p]}),g[15]=p,g[16]=f):f=g[16],f}function g(){let e,t,n,r,o,d,u,p,f=(0,l.c)(15);f[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],f[0]=e):e=f[0];let[g,y]=(0,s.useState)(e),{sendActionRenderAnimeLibraryDropdownItemsEvent:x}=(0,c.Vw)(),{sendActionClickedEvent:b}=(0,c.sp)();f[1]!==x?(t=()=>{x({},"")},f[1]=x,f[2]=t):t=f[2],f[3]===Symbol.for("react.memo_cache_sentinel")?(n=[],f[3]=n):n=f[3],(0,s.useEffect)(t,n),f[4]===Symbol.for("react.memo_cache_sentinel")?(r=(e,t)=>{y(n=>m([...n.filter(e=>e.extensionId!==t),...e.items.map(e=>({...e,extensionId:t}))]))},f[4]=r):r=f[4],(0,c.e_)(r,""),f[5]!==b?(o=function(e){b({actionId:e.id,event:{}},e.extensionId)},f[5]=b,f[6]=o):o=f[6];let h=o;if(0===g.length)return null;if(f[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(i.mB,{}),f[7]=d):d=f[7],f[8]!==h||f[9]!==g){let e;f[11]!==h?(e=e=>(0,a.jsx)(i._2,{onClick:()=>h(e),style:e.style,children:e.label||"???"},e.id),f[11]=h,f[12]=e):e=f[12],u=g.map(e),f[8]=h,f[9]=g,f[10]=u}else u=f[10];return f[13]!==u?(p=(0,a.jsxs)(a.Fragment,{children:[d,u]}),f[13]=u,f[14]=p):p=f[14],p}function y(e){let t,n,r,i,d,u,p,f,g=(0,l.c)(16);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],g[0]=t):t=g[0];let[y,x]=(0,s.useState)(t),{sendActionRenderEpisodeCardContextMenuItemsEvent:b}=(0,c.Uc)(),{sendActionClickedEvent:h}=(0,c.sp)();g[1]!==b?(n=()=>{b({},"")},g[1]=b,g[2]=n):n=g[2],g[3]===Symbol.for("react.memo_cache_sentinel")?(r=[],g[3]=r):r=g[3],(0,s.useEffect)(n,r),g[4]===Symbol.for("react.memo_cache_sentinel")?(i=(e,t)=>{x(n=>m([...n.filter(e=>e.extensionId!==t),...e.items.map(e=>({...e,extensionId:t}))]))},g[4]=i):i=g[4],(0,c.HY)(i,""),g[5]!==e.episode||g[6]!==h?(d=function(t){h({actionId:t.id,event:{episode:e.episode}},t.extensionId)},g[5]=e.episode,g[6]=h,g[7]=d):d=g[7];let C=d;if(0===y.length)return null;if(g[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(o.K5,{className:"!my-2"}),g[8]=u):u=g[8],g[9]!==C||g[10]!==y){let e;g[12]!==C?(e=e=>(0,a.jsx)(o.kt,{onClick:()=>C(e),style:e.style,children:e.label||"???"},e.id),g[12]=C,g[13]=e):e=g[13],p=y.map(e),g[9]=C,g[10]=y,g[11]=p}else p=g[11];return g[14]!==p?(f=(0,a.jsxs)(a.Fragment,{children:[u,p]}),g[14]=p,g[15]=f):f=g[15],f}function x(e){let t,n,o,u,p,f,g,y,x=(0,l.c)(25);x[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],x[0]=t):t=x[0];let[b,h]=(0,s.useState)(t),{sendActionRenderEpisodeGridItemMenuItemsEvent:C}=(0,c.y_)(),{sendActionClickedEvent:v}=(0,c.sp)();x[1]!==C?(n=()=>{C({},"")},x[1]=C,x[2]=n):n=x[2],x[3]===Symbol.for("react.memo_cache_sentinel")?(o=[],x[3]=o):o=x[3],(0,s.useEffect)(n,o),x[4]!==e.type?(u=(t,n)=>{h(a=>m([...a.filter(t=>t.extensionId!==n&&t.type===e.type),...t.items.filter(t=>t.type===e.type).map(e=>({...e,extensionId:n}))]))},x[4]=e.type,x[5]=u):u=x[5],(0,c.$2)(u,""),x[6]!==e.episode||x[7]!==v?(p=function(t){v({actionId:t.id,event:{episode:e.episode}},t.extensionId)},x[6]=e.episode,x[7]=v,x[8]=p):p=x[8];let A=p;if(0===b.length)return null;if(e.isDropdownMenu){let e,t,n;if(x[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(r.K0,{icon:(0,a.jsx)(d.sjm,{}),intent:"gray-basic",size:"xs"}),x[9]=e):e=x[9],x[10]!==A||x[11]!==b){let e;x[13]!==A?(e=e=>(0,a.jsx)(i._2,{onClick:()=>A(e),style:e.style,children:e.label||"???"},e.id),x[13]=A,x[14]=e):e=x[14],t=b.map(e),x[10]=A,x[11]=b,x[12]=t}else t=x[12];return x[15]!==t?(n=(0,a.jsx)(i.rI,{trigger:e,children:t}),x[15]=t,x[16]=n):n=x[16],n}if(x[17]===Symbol.for("react.memo_cache_sentinel")?(f=(0,a.jsx)(i.mB,{}),x[17]=f):f=x[17],x[18]!==A||x[19]!==b){let e;x[21]!==A?(e=e=>(0,a.jsx)(i._2,{onClick:()=>A(e),style:e.style,children:e.label||"???"},e.id),x[21]=A,x[22]=e):e=x[22],g=b.map(e),x[18]=A,x[19]=b,x[20]=g}else g=x[20];return x[23]!==g?(y=(0,a.jsxs)(a.Fragment,{children:[f,g]}),x[23]=g,x[24]=y):y=x[24],y}function b(e){let t,n,r,o,d,u,p,f,g=(0,l.c)(16);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],g[0]=t):t=g[0];let[y,x]=(0,s.useState)(t),{sendActionRenderAnimePageDropdownItemsEvent:b}=(0,c.$S)(),{sendActionClickedEvent:h}=(0,c.sp)();g[1]!==b?(n=()=>{b({},"")},g[1]=b,g[2]=n):n=g[2],g[3]===Symbol.for("react.memo_cache_sentinel")?(r=[],g[3]=r):r=g[3],(0,s.useEffect)(n,r),g[4]===Symbol.for("react.memo_cache_sentinel")?(o=(e,t)=>{x(n=>m([...n.filter(e=>e.extensionId!==t),...e.items.map(e=>({...e,extensionId:t}))]))},g[4]=o):o=g[4],(0,c.GU)(o,""),g[5]!==e.media||g[6]!==h?(d=function(t){h({actionId:t.id,event:{media:e.media}},t.extensionId)},g[5]=e.media,g[6]=h,g[7]=d):d=g[7];let C=d;if(0===y.length)return null;if(g[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,a.jsx)(i.mB,{}),g[8]=u):u=g[8],g[9]!==C||g[10]!==y){let e;g[12]!==C?(e=e=>(0,a.jsx)(i._2,{onClick:()=>C(e),style:e.style,children:e.label||"???"},e.id),g[12]=C,g[13]=e):e=g[13],p=y.map(e),g[9]=C,g[10]=y,g[11]=p}else p=g[11];return g[14]!==p?(f=(0,a.jsxs)(a.Fragment,{children:[u,p]}),g[14]=p,g[15]=f):f=g[15],f}},26589:(e,t,n)=>{n.d(t,{X:()=>p});var a=n(95155),l=n(96826),r=n(35656),o=n(14680),i=n(63717),s=n(91360),d=n(6773),c=n(90711),m=n(91332);n(12115);var u=n(78453);let p=e=>{var t,n,p,f;let{children:g,action:y,image:x,onClick:b,episodeTitle:h,description:C,title:v,fileName:A,media:_,isWatched:w,isSelected:k,unoptimizedImage:S,isInvalid:N,imageClassName:I,imageContainerClassName:P,className:j,disabled:M,isFiller:R,length:E,actionIcon:L=null!==e.actionIcon?(0,a.jsx)(u.G2B,{"data-episode-grid-item-action-icon":!0,className:"opacity-70 text-4xl"}):void 0,episodeTitleClassName:B,percentageComplete:T,minutesRemaining:F,episodeNumber:Y,progressNumber:G,...U}=e,O=(0,l.v1)(),K=(0,m.Ky)();return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{"data-episode-grid-item":!0,"data-media-id":_.id,"data-media-type":_.type,"data-filename":A,"data-episode-number":Y,"data-progress-number":G,"data-is-watched":w,"data-description":C,"data-episode-title":h,"data-title":v,"data-file-name":A,"data-is-invalid":N,"data-is-filler":R,className:(0,s.cn)("max-w-full","rounded-lg relative transition group/episode-list-item select-none",K.libraryScreenCustomBackgroundImage&&K.libraryScreenCustomBackgroundOpacity>5?"bg-[--background] p-3":"py-3","pr-12",M&&"cursor-not-allowed opacity-50 pointer-events-none",j),...U,children:[R&&(0,a.jsx)(i.E,{"data-episode-grid-item-filler-badge":!0,className:(0,s.cn)("font-semibold absolute top-3 left-0 z-[5] text-white bg-orange-800 !bg-opacity-100 rounded-[--radius-md] text-base rounded-bl-none rounded-tr-none",!!K.libraryScreenCustomBackgroundImage&&K.libraryScreenCustomBackgroundOpacity>5&&"top-3  left-3"),intent:"gray",size:"lg",children:"Filler"}),(0,a.jsxs)("div",{"data-episode-grid-item-container":!0,className:(0,s.cn)("flex gap-4 relative"),children:[(0,a.jsxs)("div",{"data-episode-grid-item-image-container":!0,className:(0,s.cn)("w-36 h-28 lg:w-44 lg:h-32",K.hideEpisodeCardDescription&&"w-36 h-28 lg:w-40 lg:h-28","flex-none rounded-[--radius-md] object-cover object-center relative overflow-hidden","group/ep-item-img-container",b&&"cursor-pointer",{"border-2 border-red-700":N,"border-2 border-yellow-900":R,"border-2 border-[--brand]":k},P),onClick:b,children:[(0,a.jsx)("div",{"data-episode-grid-item-image-overlay":!0,className:"absolute z-[1] rounded-[--radius-md] w-full h-full"}),(0,a.jsx)("div",{"data-episode-grid-item-image-background":!0,className:"bg-[--background] absolute z-[0] rounded-[--radius-md] w-full h-full"}),!!b&&(0,a.jsx)("div",{"data-episode-grid-item-action-overlay":!0,className:(0,s.cn)("absolute inset-0 bg-gray-950 bg-opacity-60 z-[1] flex items-center justify-center","transition-opacity opacity-0 group-hover/ep-item-img-container:opacity-100"),children:L&&L}),(x||(null==(t=_.coverImage)?void 0:t.medium))&&(0,a.jsx)(o.r,{"data-episode-grid-item-image":!0,src:(0,c.VG)(x||(null==(n=_.coverImage)?void 0:n.medium)||""),alt:"episode image",fill:!0,quality:60,placeholder:(0,r.r)(700,475),sizes:"10rem",className:(0,s.cn)("object-cover object-center transition select-none",{"opacity-25 lg:group-hover/episode-list-item:opacity-100":w&&!k},I),"data-src":x}),(null==O||null==(f=O.settings)||null==(p=f.library)?void 0:p.enableWatchContinuity)&&!!T&&!w&&(0,a.jsx)("div",{"data-episode-grid-item-progress-bar-container":!0,className:"absolute bottom-0 left-0 w-full z-[3]",children:(0,a.jsx)(d.z,{value:T,size:"xs"})})]}),(0,a.jsxs)("div",{"data-episode-grid-item-content":!0,className:"relative overflow-hidden",children:[N&&(0,a.jsxs)("p",{"data-episode-grid-item-invalid-metadata":!0,className:"flex gap-2 text-red-300 items-center",children:[(0,a.jsx)(u.mRc,{className:"text-lg text-red-500"})," Unidentified"]}),N&&(0,a.jsx)("p",{"data-episode-grid-item-invalid-metadata":!0,className:"flex gap-2 text-red-200 text-sm items-center",children:"No metadata found"}),(0,a.jsxs)("p",{className:(0,s.cn)(!h&&"text-lg font-semibold",!!h&&"transition line-clamp-2 text-base text-[--muted]"),"data-episode-grid-item-title":!0,children:[(0,a.jsx)("span",{className:(0,s.cn)("font-medium text-[--foreground]",k&&"text-[--brand]"),children:null==v?void 0:v.replaceAll("`","'")}),!!h&&!!E&&(0,a.jsxs)("span",{className:"ml-4",children:[E,"m"]})]}),!!h&&(0,a.jsx)("p",{"data-episode-grid-item-episode-title":!0,className:(0,s.cn)("text-md font-medium lg:text-lg text-gray-300 line-clamp-2 lg:!leading-6",B),children:null==h?void 0:h.replaceAll("`","'")}),!!C&&!K.hideEpisodeCardDescription&&(0,a.jsx)("p",{"data-episode-grid-item-episode-description":!0,className:"text-sm text-[--muted] line-clamp-2",children:C.replaceAll("`","'")}),!!A&&!K.hideDownloadedEpisodeCardFilename&&(0,a.jsx)("p",{"data-episode-grid-item-filename":!0,className:"text-xs tracking-wider opacity-75 line-clamp-1 mt-1",children:A}),g&&g]})]}),y&&(0,a.jsx)("div",{"data-episode-grid-item-action":!0,className:"absolute right-1 top-1 flex flex-col items-center",children:y})]})})}},31561:(e,t,n)=>{n.d(t,{$2:()=>H,$M:()=>d,$S:()=>C,$b:()=>v,$n:()=>F,$w:()=>s,B8:()=>j,Ce:()=>U,FS:()=>x,Fp:()=>$,GU:()=>z,HH:()=>A,HY:()=>q,KD:()=>Z,KQ:()=>T,NM:()=>O,Ql:()=>X,UH:()=>i,Uc:()=>w,Vw:()=>_,Y8:()=>E,Zf:()=>y,Zp:()=>ee,_L:()=>P,_n:()=>u,aY:()=>f,d8:()=>I,e_:()=>Q,ej:()=>D,fP:()=>b,iA:()=>W,kF:()=>Y,l9:()=>R,lg:()=>M,mL:()=>p,mU:()=>G,ob:()=>c,of:()=>B,or:()=>V,q_:()=>N,sn:()=>o,sp:()=>S,uV:()=>K,vM:()=>g,vX:()=>h,y_:()=>k,yi:()=>L,z0:()=>m,zO:()=>J});var a=n(19749),l=n(14490),r=n(12115);let o=function(e){return e.RenderTray="tray:render",e.ListTrayIcons="tray:list-icons",e.TrayOpened="tray:opened",e.TrayClosed="tray:closed",e.TrayClicked="tray:clicked",e.ListCommandPalettes="command-palette:list",e.CommandPaletteOpened="command-palette:opened",e.CommandPaletteClosed="command-palette:closed",e.RenderCommandPalette="command-palette:render",e.CommandPaletteInput="command-palette:input",e.CommandPaletteItemSelected="command-palette:item-selected",e.ActionRenderAnimePageButtons="action:anime-page-buttons:render",e.ActionRenderAnimePageDropdownItems="action:anime-page-dropdown-items:render",e.ActionRenderMangaPageButtons="action:manga-page-buttons:render",e.ActionRenderMediaCardContextMenuItems="action:media-card-context-menu-items:render",e.ActionRenderAnimeLibraryDropdownItems="action:anime-library-dropdown-items:render",e.ActionRenderEpisodeCardContextMenuItems="action:episode-card-context-menu-items:render",e.ActionRenderEpisodeGridItemMenuItems="action:episode-grid-item-menu-items:render",e.ActionClicked="action:clicked",e.FormSubmitted="form:submitted",e.ScreenChanged="screen:changed",e.EventHandlerTriggered="handler:triggered",e.FieldRefSendValue="field-ref:send-value",e.DOMQueryResult="dom:query-result",e.DOMQueryOneResult="dom:query-one-result",e.DOMObserveResult="dom:observe-result",e.DOMStopObserve="dom:stop-observe",e.DOMCreateResult="dom:create-result",e.DOMElementUpdated="dom:element-updated",e.DOMEventTriggered="dom:event-triggered",e.DOMReady="dom:ready",e}({}),i=function(e){return e.TrayUpdated="tray:updated",e.TrayIcon="tray:icon",e.TrayBadgeUpdated="tray:badge-updated",e.TrayOpen="tray:open",e.TrayClose="tray:close",e.CommandPaletteInfo="command-palette:info",e.CommandPaletteUpdated="command-palette:updated",e.CommandPaletteOpen="command-palette:open",e.CommandPaletteClose="command-palette:close",e.CommandPaletteGetInput="command-palette:get-input",e.CommandPaletteSetInput="command-palette:set-input",e.ActionRenderAnimePageButtons="action:anime-page-buttons:updated",e.ActionRenderAnimePageDropdownItems="action:anime-page-dropdown-items:updated",e.ActionRenderMangaPageButtons="action:manga-page-buttons:updated",e.ActionRenderMediaCardContextMenuItems="action:media-card-context-menu-items:updated",e.ActionRenderEpisodeCardContextMenuItems="action:episode-card-context-menu-items:updated",e.ActionRenderEpisodeGridItemMenuItems="action:episode-grid-item-menu-items:updated",e.ActionRenderAnimeLibraryDropdownItems="action:anime-library-dropdown-items:updated",e.FormReset="form:reset",e.FormSetValues="form:set-values",e.FieldRefSetValue="field-ref:set-value",e.FatalError="fatal-error",e.ScreenNavigateTo="screen:navigate-to",e.ScreenReload="screen:reload",e.ScreenGetCurrent="screen:get-current",e.DOMQuery="dom:query",e.DOMQueryOne="dom:query-one",e.DOMObserve="dom:observe",e.DOMStopObserve="dom:stop-observe",e.DOMCreate="dom:create",e.DOMManipulate="dom:manipulate",e.DOMObserveInView="dom:observe-in-view",e}({});function s(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendRenderTrayEvent:(0,r.useCallback)((t,n)=>{e(o.RenderTray,t,n)},[])}}function d(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendListTrayIconsEvent:(0,r.useCallback)((t,n)=>{e(o.ListTrayIcons,t,n)},[])}}function c(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendTrayOpenedEvent:(0,r.useCallback)((t,n)=>{e(o.TrayOpened,t,n)},[])}}function m(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendTrayClosedEvent:(0,r.useCallback)((t,n)=>{e(o.TrayClosed,t,n)},[])}}function u(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendTrayClickedEvent:(0,r.useCallback)((t,n)=>{e(o.TrayClicked,t,n)},[])}}function p(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendListCommandPalettesEvent:(0,r.useCallback)((t,n)=>{e(o.ListCommandPalettes,t,n)},[])}}function f(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendCommandPaletteOpenedEvent:(0,r.useCallback)((t,n)=>{e(o.CommandPaletteOpened,t,n)},[])}}function g(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendCommandPaletteClosedEvent:(0,r.useCallback)((t,n)=>{e(o.CommandPaletteClosed,t,n)},[])}}function y(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendRenderCommandPaletteEvent:(0,r.useCallback)((t,n)=>{e(o.RenderCommandPalette,t,n)},[])}}function x(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendCommandPaletteInputEvent:(0,r.useCallback)((t,n)=>{e(o.CommandPaletteInput,t,n)},[])}}function b(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendCommandPaletteItemSelectedEvent:(0,r.useCallback)((t,n)=>{e(o.CommandPaletteItemSelected,t,n)},[])}}function h(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderAnimePageButtonsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderAnimePageButtons,t,n)},[])}}function C(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderAnimePageDropdownItemsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderAnimePageDropdownItems,t,n)},[])}}function v(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderMangaPageButtonsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderMangaPageButtons,t,n)},[])}}function A(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderMediaCardContextMenuItemsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderMediaCardContextMenuItems,t,n)},[])}}function _(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderAnimeLibraryDropdownItemsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderAnimeLibraryDropdownItems,t,n)},[])}}function w(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderEpisodeCardContextMenuItemsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderEpisodeCardContextMenuItems,t,n)},[])}}function k(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionRenderEpisodeGridItemMenuItemsEvent:(0,r.useCallback)((t,n)=>{e(o.ActionRenderEpisodeGridItemMenuItems,t,n)},[])}}function S(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendActionClickedEvent:(0,r.useCallback)((t,n)=>{e(o.ActionClicked,t,n)},[])}}function N(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendFormSubmittedEvent:(0,r.useCallback)((t,n)=>{e(o.FormSubmitted,t,n)},[])}}function I(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendScreenChangedEvent:(0,r.useCallback)((t,n)=>{e(o.ScreenChanged,t,n)},[])}}function P(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendEventHandlerTriggeredEvent:(0,r.useCallback)((t,n)=>{e(o.EventHandlerTriggered,t,n)},[])}}function j(){let{sendPluginMessage:e}=(0,l.Y0)();return{sendFieldRefSendValueEvent:(0,r.useCallback)((t,n)=>{e(o.FieldRefSendValue,t,n)},[])}}function M(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.TrayUpdated,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function R(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.TrayIcon,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function E(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.TrayBadgeUpdated,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function L(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.TrayOpen,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function B(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.TrayClose,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function T(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.CommandPaletteInfo,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function F(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.CommandPaletteUpdated,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function Y(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.CommandPaletteOpen,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function G(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.CommandPaletteClose,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function U(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.CommandPaletteGetInput,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function O(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.CommandPaletteSetInput,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function K(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderAnimePageButtons,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function z(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderAnimePageDropdownItems,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function D(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderMangaPageButtons,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function V(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderMediaCardContextMenuItems,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function q(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderEpisodeCardContextMenuItems,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function H(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderEpisodeGridItemMenuItems,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function Q(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ActionRenderAnimeLibraryDropdownItems,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function $(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.FormReset,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function W(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.FormSetValues,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function X(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.FieldRefSetValue,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function Z(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ScreenNavigateTo,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function J(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ScreenReload,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}function ee(e,t){let n,r=(0,a.c)(3);return r[0]!==e||r[1]!==t?(n={extensionId:t,type:i.ScreenGetCurrent,onMessage:e},r[0]=e,r[1]=t,r[2]=n):n=r[2],(0,l.hn)(n)}},43756:(e,t,n)=>{n.d(t,{A:()=>o,l:()=>i});var a=n(94077),l=n(99475),r=n.n(l);function o(e){if(a.qe){let{open:t}=n(34908);t(e)}else window.open(e,"_blank")}async function i(e){var t;if(a.qe){let{writeText:t}=n(18626);await t(e)}else a.nH&&(null==(t=window.electron)?void 0:t.clipboard)?await window.electron.clipboard.writeText(e):r()(e)}},47342:(e,t,n)=>{n.d(t,{Ip:()=>u,Q2:()=>p,kt:()=>f,F7:()=>g,K5:()=>y,Rc:()=>m});var a=n(95155),l=n(19749),r=n(62816),o=n(21335),i=n(12115),s=n(91360);let d=(0,s.u)({subTrigger:(0,o.F)(["UI-ContextMenu__subTrigger","focus:bg-[--subtle] data-[state=open]:bg-[--subtle]"]),subContent:(0,o.F)(["UI-ContextMenu__subContent","z-50 min-w-[12rem] overflow-hidden rounded-xl border bg-[--background] p-2 text-[--foreground] shadow-sm","data-[state=open]:animate-in","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-100 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"]),trigger:(0,o.F)(["UI-ContextMenu__trigger"]),content:(0,o.F)(["UI-ContextMenu__content"]),root:(0,o.F)(["UI-ContextMenu__root","z-50 min-w-[15rem] overflow-hidden rounded-xl border bg-[--background] p-2 text-[--foreground] shadow-sm","data-[state=open]:animate-in","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-100 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"]),item:(0,o.F)(["UI-ContextMenu__item","relative flex cursor-default select-none items-center rounded-[--radius] cursor-pointer px-2 py-2 text-sm outline-none transition-colors","focus:bg-[--subtle] data-[disabled]:pointer-events-none","data-[disabled]:opacity-50","[&>svg]:mr-2 [&>svg]:text-lg"]),group:(0,o.F)(["UI-ContextMenu__group"]),label:(0,o.F)(["UI-ContextMenu__label","px-2 py-1.5 text-sm font-semibold text-[--muted]"]),separator:(0,o.F)(["UI-ContextMenu__separator","-mx-1 my-1 h-px bg-[--border]"]),shortcut:(0,o.F)(["UI-ContextMenu__shortcut","ml-auto text-xs tracking-widest opacity-60"])}),c=i.createContext({});i.forwardRef((e,t)=>{let n,o,i,s,d,m,u,p,f,g,y,x,b,h,C,v=(0,l.c)(30);if(v[0]!==e){let{children:t,trigger:a,onOpenChange:l,dir:r,allowOutsideInteraction:c,className:b,subContentClass:h,subTriggerClass:C,shortcutClass:A,itemClass:_,labelClass:w,separatorClass:k,groupClass:S,...N}=e;o=t,s=r,n=c,i=b,y=h,x=C,g=A,m=_,u=w,f=k,d=S,p=N,v[0]=e,v[1]=n,v[2]=o,v[3]=i,v[4]=s,v[5]=d,v[6]=m,v[7]=u,v[8]=p,v[9]=f,v[10]=g,v[11]=y,v[12]=x}else n=v[1],o=v[2],i=v[3],s=v[4],d=v[5],m=v[6],u=v[7],p=v[8],f=v[9],g=v[10],y=v[11],x=v[12];v[13]!==i||v[14]!==d||v[15]!==m||v[16]!==u||v[17]!==f||v[18]!==g||v[19]!==y||v[20]!==x?(b={className:i,subContentClass:y,subTriggerClass:x,shortcutClass:g,itemClass:m,labelClass:u,separatorClass:f,groupClass:d},v[13]=i,v[14]=d,v[15]=m,v[16]=u,v[17]=f,v[18]=g,v[19]=y,v[20]=x,v[21]=b):b=v[21];let A=!n;return v[22]!==o||v[23]!==s||v[24]!==p||v[25]!==A?(h=(0,a.jsx)(r.bL,{dir:s,modal:A,...p,children:o}),v[22]=o,v[23]=s,v[24]=p,v[25]=A,v[26]=h):h=v[26],v[27]!==b||v[28]!==h?(C=(0,a.jsx)(c.Provider,{value:b,children:h}),v[27]=b,v[28]=h,v[29]=C):C=v[29],C}).displayName="ContextMenu";let m=i.forwardRef((e,t)=>{let n,o,d,m,u=(0,l.c)(10);u[0]!==e?({className:n,...o}=e,u[0]=e,u[1]=n,u[2]=o):(n=u[1],o=u[2]);let{triggerClass:p}=i.useContext(c);return u[3]!==n||u[4]!==p?(d=(0,s.cn)(p,n),u[3]=n,u[4]=p,u[5]=d):d=u[5],u[6]!==t||u[7]!==o||u[8]!==d?(m=(0,a.jsx)(r.l9,{ref:t,className:d,...o}),u[6]=t,u[7]=o,u[8]=d,u[9]=m):m=u[9],m}),u=i.forwardRef((e,t)=>{let n,o,m,u,p=(0,l.c)(11);p[0]!==e?({className:n,...o}=e,p[0]=e,p[1]=n,p[2]=o):(n=p[1],o=p[2]);let{className:f,contentClass:g}=i.useContext(c);return p[3]!==n||p[4]!==g||p[5]!==f?(m=(0,s.cn)(d.root(),f,g,n),p[3]=n,p[4]=g,p[5]=f,p[6]=m):m=p[6],p[7]!==t||p[8]!==o||p[9]!==m?(u=(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.UC,{ref:t,className:m,...o})}),p[7]=t,p[8]=o,p[9]=m,p[10]=u):u=p[10],u}),p=i.forwardRef((e,t)=>{let n,o,m,u,p=(0,l.c)(10);p[0]!==e?({className:n,...o}=e,p[0]=e,p[1]=n,p[2]=o):(n=p[1],o=p[2]);let{groupClass:f}=i.useContext(c);return p[3]!==n||p[4]!==f?(m=(0,s.cn)(d.group(),f,n),p[3]=n,p[4]=f,p[5]=m):m=p[5],p[6]!==t||p[7]!==o||p[8]!==m?(u=(0,a.jsx)(r.YJ,{ref:t,className:m,...o}),p[6]=t,p[7]=o,p[8]=m,p[9]=u):u=p[9],u});p.displayName="ContextMenuGroup",i.forwardRef((e,t)=>{let n,o,m,u,p,f,g,y,x,b,h,C,v,A,_=(0,l.c)(32);if(_[0]!==e){let{children:t,triggerContent:a,triggerProps:l,triggerInset:r,defaultOpen:i,open:s,onOpenChange:d,sideOffset:c,className:x,subTriggerClass:b,...h}=e;n=t,f=a,y=l,g=r,p=c,o=x,u=b,m=h,_[0]=e,_[1]=n,_[2]=o,_[3]=m,_[4]=u,_[5]=p,_[6]=f,_[7]=g,_[8]=y}else n=_[1],o=_[2],m=_[3],u=_[4],p=_[5],f=_[6],g=_[7],y=_[8];let w=void 0===p?8:p,{subTriggerClass:k,subContentClass:S}=i.useContext(c);return _[9]!==k||_[10]!==o||_[11]!==u||_[12]!==g?(x=(0,s.cn)(d.item(),d.subTrigger(),g&&"pl-8",k,u,o),_[9]=k,_[10]=o,_[11]=u,_[12]=g,_[13]=x):x=_[13],_[14]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,s.cn)(d.shortcut(),"w-4 h-4 ml-auto"),children:(0,a.jsx)("path",{d:"m9 18 6-6-6-6"})}),_[14]=b):b=_[14],_[15]!==x||_[16]!==f||_[17]!==y?(h=(0,a.jsxs)(r.ZP,{className:x,...y,children:[f,b]}),_[15]=x,_[16]=f,_[17]=y,_[18]=h):h=_[18],_[19]!==o||_[20]!==S?(C=(0,s.cn)(d.subContent(),S,o),_[19]=o,_[20]=S,_[21]=C):C=_[21],_[22]!==n||_[23]!==t||_[24]!==m||_[25]!==w||_[26]!==C?(v=(0,a.jsx)(r.ZL,{children:(0,a.jsx)(r.G5,{ref:t,sideOffset:w,className:C,...m,children:n})}),_[22]=n,_[23]=t,_[24]=m,_[25]=w,_[26]=C,_[27]=v):v=_[27],_[28]!==m||_[29]!==h||_[30]!==v?(A=(0,a.jsxs)(r.Pb,{...m,children:[h,v]}),_[28]=m,_[29]=h,_[30]=v,_[31]=A):A=_[31],A}).displayName="ContextMenuSub";let f=i.forwardRef((e,t)=>{let n,o,m,u,p,f=(0,l.c)(12);f[0]!==e?({className:n,inset:o,...m}=e,f[0]=e,f[1]=n,f[2]=o,f[3]=m):(n=f[1],o=f[2],m=f[3]);let{itemClass:g}=i.useContext(c);return f[4]!==n||f[5]!==o||f[6]!==g?(u=(0,s.cn)(d.item(),o&&"pl-8",g,n),f[4]=n,f[5]=o,f[6]=g,f[7]=u):u=f[7],f[8]!==t||f[9]!==m||f[10]!==u?(p=(0,a.jsx)(r.q7,{ref:t,className:u,...m}),f[8]=t,f[9]=m,f[10]=u,f[11]=p):p=f[11],p});f.displayName="ContextMenuItem";let g=i.forwardRef((e,t)=>{let n,o,m,u,p,f=(0,l.c)(12);f[0]!==e?({className:n,inset:o,...m}=e,f[0]=e,f[1]=n,f[2]=o,f[3]=m):(n=f[1],o=f[2],m=f[3]);let{labelClass:g}=i.useContext(c);return f[4]!==n||f[5]!==o||f[6]!==g?(u=(0,s.cn)(d.label(),o&&"pl-8",g,n),f[4]=n,f[5]=o,f[6]=g,f[7]=u):u=f[7],f[8]!==t||f[9]!==m||f[10]!==u?(p=(0,a.jsx)(r.JU,{ref:t,className:u,...m}),f[8]=t,f[9]=m,f[10]=u,f[11]=p):p=f[11],p});g.displayName="ContextMenuLabel";let y=i.forwardRef((e,t)=>{let n,o,m,u,p=(0,l.c)(10);p[0]!==e?({className:n,...o}=e,p[0]=e,p[1]=n,p[2]=o):(n=p[1],o=p[2]);let{separatorClass:f}=i.useContext(c);return p[3]!==n||p[4]!==f?(m=(0,s.cn)(d.separator(),f,n),p[3]=n,p[4]=f,p[5]=m):m=p[5],p[6]!==t||p[7]!==o||p[8]!==m?(u=(0,a.jsx)(r.wv,{ref:t,className:m,...o}),p[6]=t,p[7]=o,p[8]=m,p[9]=u):u=p[9],u});y.displayName="ContextMenuSeparator",i.forwardRef((e,t)=>{let n,r,o,m,u=(0,l.c)(10);u[0]!==e?({className:n,...r}=e,u[0]=e,u[1]=n,u[2]=r):(n=u[1],r=u[2]);let{shortcutClass:p}=i.useContext(c);return u[3]!==n||u[4]!==p?(o=(0,s.cn)(d.shortcut(),p,n),u[3]=n,u[4]=p,u[5]=o):o=u[5],u[6]!==t||u[7]!==r||u[8]!==o?(m=(0,a.jsx)("span",{ref:t,className:o,...r}),u[6]=t,u[7]=r,u[8]=o,u[9]=m):m=u[9],m}).displayName="ContextMenuShortcut"},56859:(e,t,n)=>{n.d(t,{R:()=>i});var a=n(45886),l=n(93715),r=n(94077);let o=(0,l.v)("EXTERNAL PLAYER LINK");class i{setUrl(e){this._urlToSend=e}setEpisodeNumber(e){this._episodeNumber=null!=e?e:null}setMediaTitle(e){this._mediaTitle=null!=e?e:null}async to(e){let t=(0,a.M)()+e.endpoint;e.onTokenQueryParam&&(t+=await e.onTokenQueryParam()),(0,l.v)("MEDIALINKS").info("Formatted URL to send",t),this._urlToSend=t}getFullUrl(){let e=this._getUrlToSend();return o.info("Sending URL to external player",e),this._formatFinalUrl(e)}_getUrlToSend(){let e=this._urlToSend;return(e=(e=e.replace("{{SCHEME}}",window.location.protocol.replace(":",""))).replace("{{HOST}}",window.location.host),this._playerLink.includes("?"))?encodeURIComponent(e):e}_cleanTitle(e){return e.replace(/[\\/:*?"<>|]/g,"")}_formatFinalUrl(e){var t,n,a,l,i;let s=this._playerLink;if((s=(s=(s=(s=(s=(s=s.replace("{scheme}",window.location.protocol.replace(":",""))).replace("{host}",window.location.host)).replace("{hostname}",window.location.hostname)).replace("{mediaTitle}",this._cleanTitle(null!=(a=this._mediaTitle)?a:""))).replace("{episodeNumber}",null!=(l=null==(n=this._episodeNumber)||null==(t=n.toString)?void 0:t.call(n))?l:"")).replace("{mime}","video/webm")).includes("{formattedTitle}")){let e=null!=(i=this._mediaTitle)?i:"";null!==this._episodeNumber&&e.length&&(e="Episode ".concat(this._episodeNumber," - ").concat(e)),s=s.replace("{formattedTitle}",this._cleanTitle(null!=e?e:""))}if(o.info("Formatted external player link",s),r.X){let t=s.replace("{url}",e);return s.startsWith("intent://")&&(t=t.replace("intent://http://","intent://").replace("intent://https://","intent://")),t}let d=s.replace("{url}",e).replace("127.0.0.1",window.location.hostname).replace("localhost",window.location.hostname);return s.startsWith("intent://")&&(d=d.replace("intent://http://","intent://").replace("intent://https://","intent://")),d}constructor(e){this._playerLink="",this._urlToSend="",this._episodeNumber=null,this._mediaTitle=null,this._playerLink=e}}},65539:(e,t,n)=>{n.d(t,{i:()=>s,n:()=>d});var a=n(95155),l=n(19749),r=n(91360),o=n(70170),i=n(12115);function s(e){let t,n,o,i,s=(0,l.c)(7);return s[0]!==e?({children:t,...n}=e,s[0]=e,s[1]=t,s[2]=n):(t=s[1],n=s[2]),s[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.cn)("grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 min-[2000px]:grid-cols-4","gap-4"),s[3]=o):o=s[3],s[4]!==t||s[5]!==n?(i=(0,a.jsx)("div",{className:o,...n,"data-episode-list-grid":!0,children:t}),s[4]=t,s[5]=n,s[6]=i):i=s[6],i}function d(e){let t,n,s,d,c,m,u,p,f,g=(0,l.c)(31),{length:y,renderItem:x,itemsPerPage:b,minLengthBeforePagination:h,shouldDefaultToPageWithEpisode:C}=e,v=void 0===b?24:b,A=void 0===h?29:h,[_,w]=(0,i.useState)(1);g[0]!==v||g[1]!==y||g[2]!==A||g[3]!==C?(t=()=>{C&&y>=A?w(Math.min(Math.max(1,Math.ceil(C/v)),Math.ceil(y/v))):w(1)},g[0]=v,g[1]=y,g[2]=A,g[3]=C,g[4]=t):t=g[4],g[5]!==C?(n=[C],g[5]=C,g[6]=n):n=g[6],i.useEffect(t,n);let k=y>=A,S=k?Math.ceil(y/v):1,N=k?(_-1)*v:0,I=k?Math.min(N+v,y):y;if(g[7]!==I||g[8]!==x||g[9]!==N){let e;g[11]!==x||g[12]!==N?(e=(e,t)=>x(N+t),g[11]=x,g[12]=N,g[13]=e):e=g[13],s=Array.from({length:I-N},e),g[7]=I,g[8]=x,g[9]=N,g[10]=s}else s=g[10];let P=s;g[14]!==_||g[15]!==S?(d=()=>{let e=[];if(S<=5)for(let t=1;t<=S;t++)e.push(t);else if(e.push(1),_<=3){for(let t=2;t<=4;t++)e.push(t);S>4&&(e.push("ellipsis"),e.push(S))}else if(_>=S-2){e.push("ellipsis");for(let t=S-3;t<=S;t++)t>1&&e.push(t)}else e.push("ellipsis"),e.push(_-1),e.push(_),e.push(_+1),e.push("ellipsis"),e.push(S);return e},g[14]=_,g[15]=S,g[16]=d):d=g[16];let j=d;g[17]!==S?(c=e=>{e>=1&&e<=S&&w(e)},g[17]=S,g[18]=c):c=g[18];let M=c;return 0===y?null:(g[19]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.cn)("grid grid-cols-1 lg:grid-cols-2 2xl:grid-cols-3 min-[2000px]:grid-cols-4","gap-4"),g[19]=m):m=g[19],g[20]!==P?(u=(0,a.jsx)("div",{className:m,"data-episode-list-grid":!0,children:P}),g[20]=P,g[21]=u):u=g[21],g[22]!==j||g[23]!==M||g[24]!==_||g[25]!==k||g[26]!==S?(p=k&&S>1&&(0,a.jsx)("div",{className:"flex justify-center mt-6",children:(0,a.jsxs)(o.dK,{children:[(0,a.jsx)(o.lJ,{direction:"previous","data-disabled":1===_,onClick:()=>M(_-1)}),j().map((e,t)=>"ellipsis"===e?(0,a.jsx)(o.M_,{},"ellipsis-".concat(t)):(0,a.jsx)(o.cU,{value:e,"data-selected":_===e,onClick:()=>M(e)},e)),(0,a.jsx)(o.lJ,{direction:"next","data-disabled":_===S,onClick:()=>M(_+1)})]})}),g[22]=j,g[23]=M,g[24]=_,g[25]=k,g[26]=S,g[27]=p):p=g[27],g[28]!==u||g[29]!==p?(f=(0,a.jsxs)(a.Fragment,{children:[u,p]}),g[28]=u,g[29]=p,g[30]=f):f=g[30],f)}},71689:(e,t,n)=>{n.d(t,{NY:()=>p,bx:()=>m,ju:()=>d});var a=n(19749),l=n(96826),r=n(29724),o=n(21842),i=n(12115);let s=(0,o.tG)("sea-mediastream-filepath",void 0,void 0,{getOnInit:!0});function d(){let e,t=(0,a.c)(3),[n,l]=(0,r.fp)(s);return t[0]!==n||t[1]!==l?(e={filePath:n,setFilePath:l},t[0]=n,t[1]=l,t[2]=e):e=t[2],e}let c=(0,o.tG)("sea-mediastream-jassub-offscreen-render",!1,void 0,{getOnInit:!0});function m(){let e,t=(0,a.c)(3),[n,l]=(0,r.fp)(c);return t[0]!==n||t[1]!==l?(e={jassubOffscreenRender:n,setJassubOffscreenRender:l},t[0]=n,t[1]=l,t[2]=e):e=t[2],e}let u=(0,o.tG)("sea-mediastream-active-on-device",null,void 0,{getOnInit:!0});function p(){let e,t,n,o=(0,a.c)(10),s=(0,l.v1)(),[d,c]=(0,r.fp)(u);o[0]!==d||o[1]!==s||o[2]!==c?(e=()=>{s&&null===d&&((null==s?void 0:s.clientDevice)!=="desktop"?c(!0):c(!1))},o[0]=d,o[1]=s,o[2]=c,o[3]=e):e=o[3];let m=null==s?void 0:s.clientUserAgent;return o[4]!==d||o[5]!==m?(t=[m,d],o[4]=d,o[5]=m,o[6]=t):t=o[6],i.useLayoutEffect(e,t),o[7]!==d||o[8]!==c?(n={activeOnDevice:d,setActiveOnDevice:c},o[7]=d,o[8]=c,o[9]=n):n=o[9],n}},77166:(e,t,n)=>{n.d(t,{H:()=>f});var a=n(95155),l=n(19749),r=n(14680),o=n(84127),i=n(76049),s=n(75435),d=n(57073);n(12115);var c=n(78453),m=n(41452),u=n(68090);function p(e){let t,n,r,o,d=(0,l.c)(11);d[0]!==e?({title:r,children:t,...n}=e,d[0]=e,d[1]=t,d[2]=n,d[3]=r):(t=d[1],n=d[2],r=d[3]);let{width:c}=(0,u.A)();if(c&&c>1024){let e;return d[4]!==t||d[5]!==n?(e=(0,a.jsx)(s.A,{...n,className:"max-w-xl !w-full overflow-clip min-w-[400px] min-h-[9rem]",children:t}),d[4]=t,d[5]=n,d[6]=e):e=d[6],e}return d[7]!==t||d[8]!==n||d[9]!==r?(o=(0,a.jsx)(i.a,{...n,title:r,titleClass:"text-xl",contentClass:"max-w-2xl overflow-hidden",children:t}),d[7]=t,d[8]=n,d[9]=r,d[10]=o):o=d[10],o}function f(e){let t,n,i,s,u,f,g,y,x,b,h,C=(0,l.c)(28),{title:v,image:A,episodeTitle:_,airDate:w,length:k,summary:S,isInvalid:N,filename:I}=e;if(!_&&!I&&!S)return null;C[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,a.jsx)(o.K0,{icon:(0,a.jsx)(m.MJW,{}),className:"opacity-30 hover:opacity-100 transform-opacity",intent:"gray-basic",size:"xs"}),C[0]=t):t=C[0];let P=v||"Episode";return C[1]!==A?(n=A&&(0,a.jsxs)("div",{"data-media-episode-info-modal-image-container":!0,className:"h-[8rem] rounded-t-xl w-full flex-none border border-transparent object-cover object-center overflow-hidden absolute left-0 top-0 z-[0]",children:[(0,a.jsx)(r.r,{"data-media-episode-info-modal-image":!0,src:A,alt:"banner",fill:!0,quality:80,priority:!0,sizes:"20rem",className:"object-cover object-center opacity-30"}),(0,a.jsx)("div",{"data-media-episode-info-modal-image-gradient":!0,className:"z-[5] absolute bottom-0 w-full h-[80%] bg-gradient-to-t from-[--background] to-transparent"})]}),C[1]=A,C[2]=n):n=C[2],C[3]!==_?(i=null==_?void 0:_.replaceAll("`","'"),C[3]=_,C[4]=i):i=C[4],C[5]!==N?(s=N&&(0,a.jsx)(c.mRc,{}),C[5]=N,C[6]=s):s=C[6],C[7]!==i||C[8]!==s?(u=(0,a.jsxs)("p",{"data-media-episode-info-modal-content-title":!0,className:"text-lg line-clamp-2 font-semibold",children:[i,s]}),C[7]=i,C[8]=s,C[9]=u):u=C[9],C[10]!==w||C[11]!==k?(f=!(!w&&!k)&&(0,a.jsxs)("p",{className:"text-[--muted]",children:[w||"Unknown airing date"," - ",k||"N/A"," minutes"]}),C[10]=w,C[11]=k,C[12]=f):f=C[12],C[13]!==S?(g=(null==S?void 0:S.replaceAll("`","'"))||"No summary",C[13]=S,C[14]=g):g=C[14],C[15]!==g?(y=(0,a.jsx)("p",{className:"text-gray-300",children:g}),C[15]=g,C[16]=y):y=C[16],C[17]!==I?(x=I&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.w,{}),(0,a.jsx)("p",{className:"text-[--muted] line-clamp-2",children:I})]}),C[17]=I,C[18]=x):x=C[18],C[19]!==u||C[20]!==f||C[21]!==y||C[22]!==x?(b=(0,a.jsxs)("div",{"data-media-episode-info-modal-content":!0,className:"space-y-4 z-[5] relative",children:[u,f,y,x]}),C[19]=u,C[20]=f,C[21]=y,C[22]=x,C[23]=b):b=C[23],C[24]!==P||C[25]!==b||C[26]!==n?(h=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(p,{"data-media-episode-info-modal":!0,trigger:t,title:P,children:[n,b]})}),C[24]=P,C[25]=b,C[26]=n,C[27]=h):h=C[27],h}},78216:(e,t,n)=>{n.d(t,{Dc:()=>m,Ft:()=>d,_V:()=>b,kG:()=>p,p$:()=>C,zw:()=>g}),n(95155);var a=n(19749),l=n(42500),r=n(29724),o=n(21842),i=n(19022),s=n(28002);let d=function(e){return e.NativePlayer="nativePlayer",e.Default="default",e}({}),c=(0,o.tG)("sea-playback-electron-playback-method",d.NativePlayer),m=function(e){return e.Default="default",e.ExternalPlayerLink="externalPlayerLink",e}({});s.WYA,m.Default,i.Upx,m.ExternalPlayerLink;let u=(0,o.tG)("sea-playback-downloaded-media",m.Default),p=function(e){return e.Default="default",e.ExternalPlayerLink="externalPlayerLink",e}({});s.WYA,p.Default,i.Upx,p.ExternalPlayerLink;let f=(0,o.tG)("sea-playback-torrentstream",p.Default);function g(){let e,t=(0,a.c)(7),[n,l]=(0,r.fp)(u),[o,i]=(0,r.fp)(f),[s,d]=(0,r.fp)(c);return t[0]!==n||t[1]!==s||t[2]!==l||t[3]!==d||t[4]!==i||t[5]!==o?(e={downloadedMediaPlayback:n,setDownloadedMediaPlayback:l,torrentStreamingPlayback:o,setTorrentStreamingPlayback:i,electronPlaybackMethod:s,setElectronPlaybackMethod:d},t[0]=n,t[1]=s,t[2]=l,t[3]=d,t[4]=i,t[5]=o,t[6]=e):e=t[6],e}let y=(0,o.tG)("sea-playback-external-player-link",""),x=(0,o.tG)("sea-playback-external-player-link-encode-path",!1);function b(){let e,t=(0,a.c)(5),[n,l]=(0,r.fp)(y),[o,i]=(0,r.fp)(x);return t[0]!==o||t[1]!==n||t[2]!==i||t[3]!==l?(e={externalPlayerLink:n,setExternalPlayerLink:l,encodePath:o,setEncodePath:i},t[0]=o,t[1]=n,t[2]=i,t[3]=l,t[4]=e):e=t[4],e}let h=(0,l.eU)(null);function C(){let e,t,n,l=(0,a.c)(8),[o,i]=(0,r.fp)(h);l[0]!==i?(e=function(e,t){e&&(i(e),t())},l[0]=i,l[1]=e):e=l[1];let s=e;return l[2]!==i?(t=()=>i(null),l[2]=i,l[3]=t):t=l[3],l[4]!==o||l[5]!==s||l[6]!==t?(n={playNext:o,setPlayNext:s,resetPlayNext:t},l[4]=o,l[5]=s,l[6]=t,l[7]=n):n=l[7],n}}}]);