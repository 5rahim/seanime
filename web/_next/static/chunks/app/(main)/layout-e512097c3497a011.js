(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[95],{98268:function(e,t,n){Promise.resolve().then(n.bind(n,33729))},33729:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Layout}});var r=n(57437),a=n(93054),i=n(2265),s=n(28811),l=n.n(s),o=n(54487),c=n(96061),d=n(18743),u=n(61396),m=n.n(u),h=n(6469);let p=(0,o.xH)({nav:(0,c.j)(["UI-VerticalNav__nav","block space-y-1"]),item:(0,c.j)(["UI-VerticalNav__tab","group/vnav flex flex-none truncate items-center px-4 py-2 text-sm font-[600] rounded-[--radius] transition cursor-pointer","hover:bg-[--highlight] hover:text-[--text-color]","focus-visible:ring-2 ring-[--ring] outline-none","text-[--muted]","data-[selected=true]:bg-[--highlight]"]),parentItem:(0,c.j)(["UI-VerticalNav__parentItem","cursor-pointer"]),parentItemChevron:(0,c.j)(["UI-VerticalNav__parentItemChevron","w-5 h-5 transition-transform data-[open=true]:rotate-90"]),icon:(0,c.j)(["UI-VerticalNav__icon","flex-shrink-0 -ml-1 mr-3 h-6 w-6","text-[--muted]","group-hover/vnav:text-[--text-color] data-[selected=true]:text-white data-[selected=true]:group-hover/vnav:text-white"]),subList:(0,c.j)(["UI-VerticalNav__subList","pl-2"])}),x=i.forwardRef((e,t)=>{let{children:n,navClassName:a,itemClassName:s,iconClassName:l,parentItemClassName:c,subListClassName:u,parentItemChevronClassName:x,className:f,items:g,...v}=e;return(0,r.jsx)("nav",{ref:t,className:(0,o.cn)(p.nav(),a,f),...v,children:g.map((e,t)=>{var n;return e.content?(0,r.jsx)(d.p,{as:i.Fragment,children:n=>{let{open:a}=n;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.p.Button,{as:"div",tabIndex:t,className:(0,o.cn)(p.item(),p.parentItem(),s,c),"aria-current":e.isCurrent?"page":void 0,"data-selected":e.isCurrent,onClick:e.onClick,children:[(0,r.jsxs)("div",{className:"w-full flex items-center",children:[e.icon&&(0,r.jsx)(e.icon,{className:(0,o.cn)(p.icon(),l),"aria-hidden":"true","data-selected":e.isCurrent}),(0,r.jsx)("span",{children:e.name})]}),(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:(0,o.cn)(p.parentItemChevron(),x),"data-open":"".concat(a),children:(0,r.jsx)("polyline",{points:"9 18 15 12 9 6"})})]},e.name),(0,r.jsx)(d.p.Panel,{className:(0,o.cn)(p.subList(),u),children:e.content&&e.content})]})}},e.name):(0,r.jsx)(h.u,{side:"right",sideOffset:4,align:"start",trigger:(0,r.jsxs)(m(),{href:null!==(n=e.href)&&void 0!==n?n:"#",className:(0,o.cn)(p.item(),s),"aria-current":e.isCurrent?"page":void 0,"data-selected":e.isCurrent,onClick:e.onClick,children:[e.icon&&(0,r.jsx)(e.icon,{className:(0,o.cn)(p.icon(),l),"aria-hidden":"true","data-selected":e.isCurrent}),(0,r.jsx)("span",{children:e.name}),e.addon]}),children:e.name},e.name)})})});x.displayName="VerticalNav";let f=(0,o.xH)({body:(0,c.j)(["UI-Avatar__body","inline-flex rounded-full justify-center align-center flex-shrink-0 bg-gray-400"],{variants:{size:{xs:"w-6 h-6",sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16",xl:"w-24 h-24","2xl":"w-32 h-32"}},defaultVariants:{size:"md"}}),fallbackIcon:(0,c.j)(["UI-Avatar__fallback-icon fill-gray-500"]),image:(0,c.j)(["UI-Avatar__image","w-full h-full object-cover rounded-full"]),placeholder:(0,c.j)(["UI-Avatar__placeholder","uppercase flex w-full h-full items-center justify-center","bg-gray-600 text-gray-50 font-semibold rounded-full"],{variants:{size:{xs:"text-xs",sm:"text-sm",md:"text-md",lg:"text-lg",xl:"text-xl","2xl":"text-2xl"}},defaultVariants:{size:"md"}})}),g=i.forwardRef((e,t)=>{let{children:n,className:a,size:s,src:l,placeholder:c,bodyClassName:d,fallbackIconClassName:u,imageClassName:m,placeholderClassName:h,...p}=e,[x,g]=(0,i.useState)(!!l&&(null==l?void 0:l.length)>0);(0,i.useEffect)(()=>{g(!!l&&(null==l?void 0:l.length)>0)},[l]);let v=(0,i.useRef)(null);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:(0,o.cn)(f.body({size:s}),d,a),...p,ref:t,children:[!x&&!c&&(0,r.jsxs)("svg",{viewBox:"0 0 128 128",className:(0,o.cn)(f.fallbackIcon(),u),role:"img","aria-label":"avatar",children:[(0,r.jsx)("path",{className:"fill-gray-200",d:"M103,102.1388 C93.094,111.92 79.3504,118 64.1638,118 C48.8056,118 34.9294,111.768 25,101.7892 L25,95.2 C25,86.8096 31.981,80 40.6,80 L87.4,80 C96.019,80 103,86.8096 103,95.2 L103,102.1388 Z"}),(0,r.jsx)("path",{className:"fill-gray-200",d:"M63.9961647,24 C51.2938136,24 41,34.2938136 41,46.9961647 C41,59.7061864 51.2938136,70 63.9961647,70 C76.6985159,70 87,59.7061864 87,46.9961647 C87,34.2938136 76.6985159,24 63.9961647,24"})]}),!x&&c&&(0,r.jsx)("span",{className:(0,o.cn)(f.placeholder({size:s}),h),children:c}),x&&(0,r.jsx)("img",{ref:v,src:null!=l?l:"",className:(0,o.cn)(f.image(),m),onError:e=>{e.currentTarget.style.display="none",g(!1)},onLoad:e=>{e.currentTarget.style.display="block",g(!0)}})]})})});(0,o.xH)({container:(0,c.j)("UI-AvatarShowcase__container group/container flex items-center"),name:(0,c.j)("UI-AvatarShowcase__name font-medium text-base text-[--text-color] tracking-tight"),description:(0,c.j)("UI-AvatarShowcase__description block text-sm text-[--muted]"),detailsContainer:(0,c.j)("UI-AvatarShowcase__detailsContainer ml-3")});var v=n(59123),y=n(16979),b=n(37122),j=n(33538),N=n(97622),w=n(53677),_=n(48761),C=n(24033),L=n(5472),S=n(88356),I=n(8538),A=n(23890),k=n(16846),E=n(59179),T=n(35590),M=n(86321),O=n(751),P=n(51472),U=n(57638),F=n(70226),z=n(37376);function MainSidebar(){var e;let{user:t}=(0,_.x)(),n=(0,C.usePathname)(),s=(0,A.b9)(O.X),l=(0,F.VK)(),{mutate:o,data:c,isPending:d}=(0,P.$U)({endpoint:U.E.LOGOUT,mutationKey:["logout"]});(0,i.useEffect)(()=>{d||s(c)},[d,c]);let u=(0,A.b9)(k.__globalSearch_isOpenAtom),m=(0,b.q)(!1),h=(0,i.useMemo)(()=>t?[{icon:M.m,name:"My lists",href:"/anilist",isCurrent:"/anilist"===n}]:[],[t,n]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(a.S8,{className:"p-4 h-full flex flex-col justify-between",sidebarClassName:"h-full",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-4 flex justify-center w-full",children:(0,r.jsx)("img",{src:"/logo.png",alt:"logo",className:"w-15 h-10"})}),(0,r.jsx)(x,{itemClassName:"relative",items:[{icon:E.Q,name:"Library",href:"/",isCurrent:"/"===n},{icon:T.c,name:"Schedule",href:"/schedule",isCurrent:"/schedule"===n,addon:l>0?(0,r.jsx)(z.C,{className:"absolute right-0 top-0",size:"sm",intent:"alert-solid",children:l}):void 0},...h,{icon:S.j,name:"Search",onClick:()=>u(!0)},{icon:I.y,name:"Torrent list",href:"/torrent-list",isCurrent:"/torrent-list"===n}]})]}),(0,r.jsxs)("div",{className:"flex w-full gap-2 flex-col",children:[(0,r.jsx)("div",{children:(0,r.jsx)(x,{items:[{icon:L.n,name:"Settings",href:"/settings",isCurrent:n.includes("/settings")}]})}),!t&&(0,r.jsx)("div",{children:(0,r.jsx)(x,{items:[{icon:y._,name:"Login",onClick:()=>window.open(v.kd,"_self")}]})}),!!t&&(0,r.jsx)("div",{className:"flex w-full gap-2 flex-col",children:(0,r.jsx)(w.h_,{trigger:(0,r.jsx)("div",{className:"pt-1 w-full flex justify-center",children:(0,r.jsx)(g,{size:"sm",className:"cursor-pointer",src:(null==t?void 0:null===(e=t.avatar)||void 0===e?void 0:e.medium)||""})}),children:(0,r.jsx)(w.Xi,{onClick:()=>o(),children:"Sign out"})})})]})]}),(0,r.jsx)(j.u_,{title:"Login",isOpen:m.isOpen,onClose:m.close,isClosable:!0,children:(0,r.jsx)("div",{className:"mt-5 text-center space-y-4",children:(0,r.jsx)(N.zx,{onClick:()=>{window.open(v.kd)},intent:"primary-outline",children:"Login with AniList"})})})]})}let H=l()(()=>Promise.resolve().then(n.bind(n,16846)).then(e=>e.GlobalSearch),{loadableGenerated:{webpack:()=>[16846]}}),MainLayout=e=>{let{children:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.FV,{children:(0,r.jsxs)(a.LN,{withSidebar:!0,sidebarSize:"slim",children:[(0,r.jsx)(a.LN.Sidebar,{children:(0,r.jsx)(MainSidebar,{})}),(0,r.jsx)(a.LN,{children:(0,r.jsx)(a.LN.Content,{children:t})})]})}),(0,r.jsx)(H,{})]})};var R=n(76732);let TopNavbar=e=>{let{children:t,...n}=e,a=(0,C.usePathname)(),s=(0,F.VK)(),l=(0,i.useMemo)(()=>[{href:"/",isCurrent:"/"===a,name:"My library"},{href:"/schedule",icon:null,isCurrent:a.startsWith("/schedule"),name:"Schedule",addon:s>0?(0,r.jsx)(z.C,{className:"absolute top-4 right-2 h-2 w-2 p-0",size:"sm",intent:"alert-solid"}):void 0},{href:"/anilist",icon:null,isCurrent:a.startsWith("/anilist"),name:"My lists"},{href:"/discover",icon:null,isCurrent:a.startsWith("/discover")||a.startsWith("/search"),name:"Discover"}],[a,s]);return(0,r.jsx)(R.ks,{className:"p-0",iconClassName:"",tabClassName:"text-xl",items:l})};var D=n(60060),K=n(68260);let RefreshAnilistButton=e=>{let{children:t,...n}=e,{refreshAnilistCollection:a,isPending:i}=(0,K.du)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(N.zx,{onClick:()=>a(),intent:"warning-subtle",rightIcon:(0,r.jsx)(D.A,{}),isLoading:i,leftIcon:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",width:"24",height:"24",viewBox:"0 0 24 24",role:"img",children:(0,r.jsx)("path",{d:"M6.361 2.943 0 21.056h4.942l1.077-3.133H11.4l1.052 3.133H22.9c.71 0 1.1-.392 1.1-1.101V17.53c0-.71-.39-1.101-1.1-1.101h-6.483V4.045c0-.71-.392-1.102-1.101-1.102h-2.422c-.71 0-1.101.392-1.101 1.102v1.064l-.758-2.166zm2.324 5.948 1.688 5.018H7.144z"})}),className:"",children:"Refresh AniList"})})};var V=n(16691),$=n.n(V);function DynamicHeaderBackground(){let e=(0,C.usePathname)();return(0,r.jsx)(r.Fragment,{children:!e.startsWith("/entry")&&(0,r.jsxs)(r.Fragment,{children:[!e.startsWith("/anilist")&&(0,r.jsx)($(),{src:"/landscape-beach.jpg",alt:"tenki no ko",fill:!0,priority:!0,className:"object-cover object-center z-[-2]"}),e.startsWith("/anilist")&&(0,r.jsx)($(),{src:"/landscape-tenki-no-ko.jpg",alt:"tenki no ko",fill:!0,priority:!0,className:"object-cover z-[-2]"}),(0,r.jsx)("div",{className:"w-full absolute bottom-0 h-[20rem] bg-gradient-to-t from-[--background-color] to-transparent z-[-2]"})]})})}var q=n(95518);function Layout(e){let{children:t}=e;return(0,q.Iw)(),(0,F.Oh)(),(0,K.Tc)(),(0,r.jsx)(MainLayout,{children:(0,r.jsxs)("div",{className:"min-h-screen",children:[(0,r.jsxs)("div",{className:"w-full md:h-[8rem] relative overflow-hidden pt-[--titlebar-h]",children:[(0,r.jsxs)("div",{className:"relative z-10 px-4 w-full flex flex-col md:flex-row justify-between md:items-center",children:[(0,r.jsxs)("div",{className:"flex items-center w-full gap-2",children:[(0,r.jsx)(a.AO,{}),(0,r.jsx)(TopNavbar,{})]}),(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsx)(RefreshAnilistButton,{})})]}),(0,r.jsx)(DynamicHeaderBackground,{})]}),(0,r.jsx)("div",{children:t})]})})}},95518:function(e,t,n){"use strict";n.d(t,{Iw:function(){return useAtomicLibraryCollectionLoader},uN:function(){return d},yh:function(){return c}});var r=n(77665),a=n(97726),i=n(23890),s=n(2265),l=n(51472),o=n(57638);let c=(0,a.O4)("sea-library-collection",void 0,void 0,{unstable_getOnInit:!0}),d=(0,r.cn)(e=>e(c),(e,t,n)=>{var r;let a=null===(r=e(c))||void 0===r?void 0:r.lists;if(a)return a.flatMap(e=>e.entries).find(e=>e.mediaId===n)});function useAtomicLibraryCollectionLoader(){let e=(0,i.b9)(c),{data:t,status:n}=(0,l.tZ)({endpoint:o.E.LIBRARY_COLLECTION,queryKey:["get-library-collection"]});return(0,s.useEffect)(()=>{"success"===n&&e(t)},[t,n]),null}},70226:function(e,t,n){"use strict";n.d(t,{Oh:function(){return useListenToMissingEpisodes},VK:function(){return useMissingEpisodeCount},wS:function(){return c}});var r=n(57638),a=n(77665),i=n(23890),s=n(51472),l=n(2265),o=n(24033);let c=(0,a.cn)([]),d=(0,a.cn)(e=>e(c).length);function useMissingEpisodeCount(){return(0,i.Dv)(d)}function useListenToMissingEpisodes(){let e=(0,o.usePathname)(),t=(0,i.b9)(c),{data:n}=(0,s.tZ)({endpoint:r.E.MISSING_EPISODES,queryKey:["get-missing-episodes"],enabled:"/schedule"!==e});return(0,l.useEffect)(()=>{t(null!=n?n:[])},[n]),null}},48761:function(e,t,n){"use strict";n.d(t,{L:function(){return s},x:function(){return useCurrentUser}});var r=n(23890),a=n(751),i=n(77665);let s=(0,i.cn)(e=>{var t;let n=e(a.X);return null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.viewer});function useCurrentUser(){let[e,t]=(0,r.KO)(s);return{user:e,setUser:t}}},67998:function(e,t,n){"use strict";n.d(t,{DN:function(){return i},SN:function(){return useWebsocketMessageListener},oJ:function(){return s}});var r=n(2265),a=n(77665);let i=(0,r.createContext)(null),s=(0,a.cn)(null);function useWebsocketMessageListener(e){let{type:t,onMessage:n}=e,a=(0,r.useContext)(i);return(0,r.useEffect)(()=>{if(a){let messageHandler=e=>{try{let r=JSON.parse(e.data);r.type&&r.type===t&&n(r.payload)}catch(e){}};return a.addEventListener("message",messageHandler),()=>{a.removeEventListener("message",messageHandler)}}},[a,n]),null}},16846:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalSearch:function(){return GlobalSearch},__globalSearch_isOpenAtom:function(){return C}});var r=n(57437),a=n(2265),i=n(9805),s=n(32240),l=n(27679),o=n(54487),c=n(88356),d=n(77665),u=n(23890),m=n(57487),h=n(34654),p=n(94152),x=n(16691),f=n.n(x),g=n(97622),v=n(61396),y=n.n(v),b=n(11305),j=n(24033),N=n(45652),w=n.n(N),_=n(6025);let C=(0,d.cn)(!1),GlobalSearch=e=>{let{children:t,...n}=e,[d,x]=(0,a.useState)(""),v=(0,h.N)(d,500),N=(0,j.useRouter)(),[L,S]=(0,u.KO)(C),{data:I,isLoading:A,isFetching:k,fetchStatus:E}=(0,p.a)({queryKey:["global-search",v,v.length],queryFn:async()=>{var e,t,n;let r=await (0,_.z)({search:v,page:1,perPage:10,status:["FINISHED","CANCELLED","NOT_YET_RELEASED","RELEASING"],sort:["SEARCH_MATCH"]});return null!==(n=null==r?void 0:null===(t=r.Page)||void 0===t?void 0:null===(e=t.media)||void 0===e?void 0:e.filter(Boolean))&&void 0!==n?n:[]},enabled:v.length>0,refetchOnWindowFocus:!1,retry:0});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.u.Root,{show:L,as:a.Fragment,afterLeave:()=>x(""),appear:!0,children:(0,r.jsxs)(s.V,{as:"div",className:"relative z-[99]",onClose:S,children:[(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 transition-opacity backdrop-blur-sm"})}),(0,r.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto p-4 sm:p-6 md:p-20",children:(0,r.jsx)(i.u.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,r.jsx)(s.V.Panel,{className:"mx-auto max-w-3xl transform overflow-hidden space-y-4 transition-all",children:(0,r.jsx)(l.h,{children:e=>{var t,n,a,i,s,d;let{activeOption:u}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"relative bg-gray-900 shadow-2xl ring-1 ring-black ring-opacity-5 w-full rounded-lg ",children:[(0,r.jsx)(c.j,{className:"pointer-events-none absolute top-5 left-4 h-6 w-6 text-[--muted]","aria-hidden":"true"}),(0,r.jsx)(l.h.Input,{className:"h-16 w-full border-0 bg-transparent pl-14 pr-4 text-white placeholder-[--muted] focus:ring-0 sm:text-md",placeholder:"Search...",onChange:e=>x(e.target.value)}),(0,r.jsx)(y(),{href:"/search",onClick:()=>S(!1),children:(0,r.jsx)(g.zx,{className:"absolute top-3 right-2 z-1",intent:"white-basic",children:"Advanced search"})})]}),!!I&&I.length>0&&(0,r.jsxs)(l.h.Options,{as:"div",static:!0,hold:!0,className:"flex divide-[--border] bg-gray-900 shadow-2xl ring-1 ring-black ring-opacity-5 rounded-lg border border-[--border]",children:[(0,r.jsx)("div",{className:(0,o.cn)("max-h-96 min-w-0 flex-auto scroll-py-2 overflow-y-auto px-6 py-2 my-2",{"sm:h-96":u}),children:(0,r.jsx)("div",{className:"-mx-2 text-sm text-[--text-color]",children:I.map(e=>(0,r.jsx)(l.h.Option,{as:"div",value:e,onClick:()=>{N.push("/entry?id=".concat(e.id)),S(!1)},className:e=>{let{active:t}=e;return(0,o.cn)("flex select-none items-center rounded-md p-2 text-[--muted] cursor-pointer",t&&"bg-gray-800 text-white")},children:t=>{var n,a,i;let{active:s}=t;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"h-10 w-10 flex-none rounded-md object-cover object-center relative overflow-hidden",children:(null===(n=e.coverImage)||void 0===n?void 0:n.medium)&&(0,r.jsx)(f(),{src:null===(a=e.coverImage)||void 0===a?void 0:a.medium,alt:"",fill:!0,quality:50,priority:!0,sizes:"10rem",className:"object-cover object-center"})}),(0,r.jsx)("span",{className:"ml-3 flex-auto truncate",children:null===(i=e.title)||void 0===i?void 0:i.userPreferred}),s&&(0,r.jsx)(m.l,{className:"ml-3 h-7 w-7 flex-none text-gray-400","aria-hidden":"true"})]})}},e.id))})}),u&&(0,r.jsxs)("div",{className:"hidden min-h-96 w-1/2 flex-none flex-col overflow-y-auto sm:flex p-4",children:[(0,r.jsxs)("div",{className:"flex-none p-6 text-center",children:[(0,r.jsx)("div",{className:"h-40 w-32 mx-auto flex-none rounded-md object-cover object-center relative overflow-hidden",children:(null===(t=u.coverImage)||void 0===t?void 0:t.large)&&(0,r.jsx)(f(),{src:null===(n=u.coverImage)||void 0===n?void 0:n.large,alt:"",fill:!0,quality:100,priority:!0,sizes:"10rem",className:"object-cover object-center"})}),(0,r.jsx)("h4",{className:"mt-3 font-semibold text-[--text-color] line-clamp-3",children:null===(a=u.title)||void 0===a?void 0:a.userPreferred}),(0,r.jsxs)("p",{className:"text-sm leading-6 text-[--muted]",children:[u.format,u.season?" - ".concat(w()(u.season)," "):" - ",(null===(i=u.startDate)||void 0===i?void 0:i.year)?new Intl.DateTimeFormat("en-US",{year:"numeric"}).format(new Date((null===(s=u.startDate)||void 0===s?void 0:s.year)||0,(null===(d=u.startDate)||void 0===d?void 0:d.month)||0)):"-"]})]}),(0,r.jsx)(y(),{href:"/entry?id=".concat(u.id),onClick:()=>S(!1),children:(0,r.jsx)(g.zx,{type:"button",className:"w-full",intent:"white-subtle",children:"Open"})})]})]}),""!==v&&(!I||0===I.length)&&(A||k)&&(0,r.jsx)(b.TK,{}),""!==v&&!A&&!k&&(!I||0===I.length)&&(0,r.jsxs)("div",{className:"py-14 px-6 text-center text-sm sm:px-14",children:[(0,r.jsx)("div",{className:"h-[10rem] w-[10rem] mx-auto flex-none rounded-md object-cover object-center relative overflow-hidden",children:(0,r.jsx)(f(),{src:"/luffy-01.png",alt:"",fill:!0,quality:100,priority:!0,sizes:"10rem",className:"object-contain object-top"})}),(0,r.jsx)("h5",{className:"mt-4 font-semibold text-[--text-color]",children:"Nothing found"}),(0,r.jsx)("p",{className:"mt-2 text-[--muted]",children:"We couldn't find anything with that name. Please try again."})]})]})}})})})})]})})})}},93054:function(e,t,n){"use strict";n.d(t,{LN:function(){return b},RD:function(){return g},ce:function(){return y},S8:function(){return C},FV:function(){return AppSidebarProvider},AO:function(){return L}});var r=n(57437),a=n(2265),i=n(54487),s=n(96061);let l=(0,i.xH)({root:(0,s.j)(["UI-AppLayout__root","flex w-full min-h-screen group","group-[.with-sidebar]:group-[.sidebar-slim]:md:pl-20","group-[.with-sidebar]:group-[.sidebar-sm]:md:pl-48","group-[.with-sidebar]:group-[.sidebar-md]:md:pl-64","group-[.with-sidebar]:group-[.sidebar-lg]:md:pl-[20rem]","group-[.with-sidebar]:group-[.sidebar-xl]:md:pl-[25rem]"],{variants:{withSidebar:{true:"flex-row with-sidebar",false:"flex-col"},sidebarSize:{slim:"sidebar-slim",sm:"sidebar-sm",md:"sidebar-md",lg:"sidebar-lg",xl:"sidebar-xl"}},defaultVariants:{withSidebar:!1,sidebarSize:"md"}})}),o=(0,i.xH)({root:(0,s.j)(["UI-AppLayoutHeader__root","block w-full"])}),c=(0,i.xH)({root:(0,s.j)(["UI-AppLayoutSidebar__root","hidden md:fixed md:inset-y-0 md:flex md:flex-col grow-0 shrink-0 basis-0 z-[10]","group-[.sidebar-slim]:md:w-20","group-[.sidebar-sm]:md:w-48","group-[.sidebar-md]:md:w-64","group-[.sidebar-lg]:md:w-[20rem]","group-[.sidebar-xl]:md:w-[25rem]"])}),d=(0,i.xH)({root:(0,s.j)(["UI-AppLayoutContent__root"])}),u=(0,i.xH)({root:(0,s.j)(["UI-AppLayoutFooter__root"])}),m=(0,i.xH)({root:(0,s.j)(["UI-AppLayoutStack__root"],{variants:{spacing:{sm:"space-y-2",md:"space-y-4",lg:"space-y-8",xl:"space-y-10"}},defaultVariants:{spacing:"md"}})}),h=(0,i.xH)({root:(0,s.j)(["UI-AppLayoutGrid__root","block"],{variants:{breakBelow:{sm:"sm:grid sm:space-y-0",md:"md:grid md:space-y-0",lg:"lg:grid lg:space-y-0",xl:"xl:grid xl:space-y-0"},spacing:{sm:"space-y-2 gap-2",md:"space-y-4 gap-4",lg:"space-y-8 gap-8",xl:"space-y-10 gap-10"},cols:{1:"grid-cols-1",2:"grid-cols-2",3:"grid-cols-3",4:"grid-cols-4",5:"grid-cols-5",6:"grid-cols-6"}},defaultVariants:{breakBelow:"xl",spacing:"md",cols:3}})}),_AppLayout=e=>{let{children:t,rootClassName:n,className:a,ref:s,withSidebar:o,sidebarSize:c,...d}=e;return(0,r.jsx)("div",{className:(0,i.cn)(l.root({withSidebar:o,sidebarSize:c}),n,a),...d,ref:s,children:t})};_AppLayout.displayName="AppLayout";let p=a.forwardRef((e,t)=>{let{children:n,rootClassName:a,className:s,...l}=e;return(0,r.jsx)("header",{className:(0,i.cn)(o.root(),a,s),...l,ref:t,children:n})});p.displayName="AppLayoutHeader";let x=a.forwardRef((e,t)=>{let{children:n,rootClassName:a,className:s,...l}=e;return(0,r.jsx)("aside",{className:(0,i.cn)(c.root(),a,s),...l,ref:t,children:n})});x.displayName="AppLayoutSidebar";let f=a.forwardRef((e,t)=>{let{children:n,rootClassName:a,className:s,...l}=e;return(0,r.jsx)("main",{className:(0,i.cn)(d.root(),a,s),...l,ref:t,children:n})});f.displayName="AppLayoutContent";let g=a.forwardRef((e,t)=>{let{children:n,rootClassName:a,className:s,breakBelow:l,cols:o,spacing:c,...d}=e;return(0,r.jsx)("section",{className:(0,i.cn)(h.root({breakBelow:l,cols:o,spacing:c}),a,s),...d,ref:t,children:n})});g.displayName="AppLayoutGrid";let v=a.forwardRef((e,t)=>{let{children:n,rootClassName:a,className:s,...l}=e;return(0,r.jsx)("footer",{className:(0,i.cn)(u.root(),a,s),...l,ref:t,children:n})});v.displayName="AppLayoutFooter";let y=a.forwardRef((e,t)=>{let{children:n,rootClassName:a,className:s,spacing:l,...o}=e;return(0,r.jsx)("div",{className:(0,i.cn)(m.root({spacing:l}),a,s),...o,ref:t,children:n})});y.displayName="AppLayoutStack",_AppLayout.Header=p,_AppLayout.Sidebar=x,_AppLayout.Content=f,_AppLayout.Footer=v,_AppLayout.Grid=g,_AppLayout.Stack=y;let b=(0,i.Fm)(_AppLayout);b.displayName="AppLayout";var j=n(33538);let N=a.createContext({open:!1,setOpen:()=>{}}),useAppSidebarContext=()=>a.useContext(N),w=(0,i.xH)({sidebar:(0,s.j)(["UI-AppSidebar__sidebar","flex flex-grow flex-col"])}),_=(0,i.xH)({trigger:(0,s.j)(["UI-AppSidebarTrigger__trigger","block md:hidden","items-center justify-center rounded-[--radius] p-2 text-[--muted] hover:bg-[--highlight] hover:text-[--text-color]","focus:outline-none focus:ring-2 focus:ring-inset focus:ring-[--ring]"])}),C=a.forwardRef((e,t)=>{let{children:n,sidebarClassName:a,className:s,...l}=e,o=useAppSidebarContext();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:(0,i.cn)(w.sidebar(),a),...l,ref:t,children:(0,r.jsx)("div",{className:(0,i.cn)(s),children:n})}),(0,r.jsx)(j.dy,{isOpen:o.open,onClose:()=>o.setOpen(!1),placement:"left",isClosable:!0,className:"md:hidden",containerClassName:"w-[85%]",bodyClassName:(0,i.cn)("p-0 md:p-0",s),headerClassName:"absolute p-2 sm:p-2 md:p-2 lg:p-2 right-0",closeButtonIntent:"white-outline",children:n})]})});C.displayName="AppSidebar";let L=a.forwardRef((e,t)=>{let{children:n,triggerClassName:a,className:s,...l}=e,o=useAppSidebarContext();return(0,r.jsxs)("button",{className:(0,i.cn)(_.trigger(),a,s),onClick:()=>o.setOpen(e=>!e),...l,ref:t,children:[(0,r.jsx)("span",{className:"sr-only",children:"Open main menu"}),o.open?(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"block h-6 w-6",children:[(0,r.jsx)("line",{x1:"18",x2:"6",y1:"6",y2:"18"}),(0,r.jsx)("line",{x1:"6",x2:"18",y1:"6",y2:"18"})]}):(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"block h-6 w-6",children:[(0,r.jsx)("line",{x1:"4",x2:"20",y1:"12",y2:"12"}),(0,r.jsx)("line",{x1:"4",x2:"20",y1:"6",y2:"6"}),(0,r.jsx)("line",{x1:"4",x2:"20",y1:"18",y2:"18"})]})]})});L.displayName="AppSidebarTrigger";let AppSidebarProvider=e=>{let{children:t,open:n}=e,[i,s]=(0,a.useState)(null!=n&&n);return(0,a.useEffect)(()=>{void 0!==n&&s(n)},[n]),(0,r.jsx)(N.Provider,{value:{open:i,setOpen:s},children:t})}},76732:function(e,t,n){"use strict";n.d(t,{ks:function(){return d},nP:function(){return g}});var r=n(57437),a=n(2265),i=n(54487),s=n(96061),l=n(61396),o=n.n(l);let c=(0,i.xH)({nav:(0,s.j)(["UI-NavigationTabs__nav","flex w-full overflow-hidden overflow-x-auto"]),tab:(0,s.j)(["UI-NavigationTabs__tab","group/navtabs inline-flex flex-none shrink-0 basis-auto items-center py-4 px-2 font-normal text-sm transition outline-none px-4 min-w-0 justify-center relative","focus-visible:bg-[--highlight]","text-[--muted]","hover:text-[--text-color] hover:bg-[--highlight] rounded-md","data-[selected=true]:border-[--brand] data-[selected=true]:font-semibold data-[selected=true]:text-white"]),icon:(0,s.j)(["UI-NavigationTabs__icon","-ml-0.5 mr-2 h-5 w-5"])}),d=a.forwardRef((e,t)=>{let{children:n,className:a,navClassName:s,tabClassName:l,iconClassName:d,items:u,...m}=e;return(0,r.jsx)("nav",{ref:t,className:(0,i.cn)(c.nav(),s,a),...m,children:u.map(e=>{var t;return(0,r.jsxs)(o(),{href:null!==(t=e.href)&&void 0!==t?t:"#",className:(0,i.cn)(c.tab(),l),"aria-current":e.isCurrent?"page":void 0,"data-selected":e.isCurrent,children:[e.icon&&(0,r.jsx)(e.icon,{className:(0,i.cn)(c.icon(),d),"aria-hidden":"true","data-selected":e.isCurrent}),(0,r.jsx)("span",{children:e.name}),e.addon]},e.name)})})});d.displayName="NavigationTabs";var u=n(82817);let m=(0,i.xH)({panels:(0,s.j)(["UI-TabPanels__panels"])}),h=(0,i.xH)({nav:(0,s.j)(["UI-TabNav__nav","isolate flex border-b"])}),p=(0,i.xH)({tab:(0,s.j)(["UI-Tab__tab","relative min-w-0 flex-1 overflow-hidden py-4 px-4 text-sm font-medium text-center focus:z-10","flex items-center justify-center gap-2 border-b-2 -mb-px","text-[--muted] data-[selected=true]:text-[--brand] data-[selected=true]:border-brand dark:data-[selected=true]:border-brand-200","border-[--border] hover:border-gray-300 dark:hover:border-gray-600","focus-visible:bg-[--highlight] outline-none","cursor-pointer"])}),_TabPanels=e=>{let{children:t,panelsClassName:n,navClassName:s,tabClassName:l,className:o,selectedIndex:c,onIndexChange:d,ref:h,...p}=e,x=a.Children.map(t,e=>a.isValidElement(e)&&"TabNav"===(0,i.C2)(e)?a.cloneElement(e,{tabClassName:l,navClassName:s}):e);return(0,r.jsx)(u.O.Group,{selectedIndex:c,onChange:d,children:(0,r.jsx)("div",{className:(0,i.cn)(m.panels(),n),...p,ref:h,children:x})})};_TabPanels.displayName="TabPanels";let x=a.forwardRef((e,t)=>{let{children:n,className:s,navClassName:l,tabClassName:o,...c}=e,d=a.Children.map(n,e=>a.isValidElement(e)&&"Tab"===(0,i.C2)(e)?a.cloneElement(e,{tabClassName:o}):e);return(0,r.jsx)(u.O.List,{className:(0,i.cn)(h.nav(),l,s),...c,ref:t,children:d})});x.displayName="TabNav";let f=a.forwardRef((e,t)=>{let{children:n,className:s,tabClassName:l,...o}=e;return(0,r.jsx)(u.O,{as:a.Fragment,children:e=>{let{selected:a}=e;return(0,r.jsx)("div",{className:(0,i.cn)(p.tab(),l,s),...o,ref:t,"data-selected":a,children:n})}})});f.displayName="Tab",_TabPanels.Tab=f,_TabPanels.Nav=x,_TabPanels.Container=a.memo(u.O.Panels),u.O.Panels,_TabPanels.Panel=u.O.Panel,u.O.Panel,_TabPanels.Container.displayName="TabContainer",_TabPanels.Panel.displayName="TabPanel";let g=(0,i.Fm)(_TabPanels)},6469:function(e,t,n){"use strict";n.d(t,{u:function(){return c}});var r=n(57437),a=n(2265),i=n(54487),s=n(96061),l=n(98265);let o=(0,i.xH)({tooltip:(0,s.j)(["UI-Tooltip__tooltip","z-50 overflow-hidden rounded-[--radius] px-3 py-1.5 text-sm shadow-md animate-in fade-in-50","bg-gray-800 text-white","data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1"])}),c=a.forwardRef((e,t)=>{let{children:n,tooltipClassName:a,className:s,trigger:c,...d}=e;return(0,r.jsx)(l.zt,{delayDuration:50,children:(0,r.jsxs)(l.fC,{children:[(0,r.jsx)(l.xz,{asChild:!0,children:c}),(0,r.jsx)(l.VY,{className:(0,i.cn)(o.tooltip(),a,s),...d,ref:t,children:n})]})})});c.displayName="Tooltip",l.zt},34654:function(e,t,n){"use strict";n.d(t,{E:function(){return useDebounceWithSet},N:function(){return useDebounce}});var r=n(2265);function useDebounce(e,t){let[n,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let n=setTimeout(()=>a(e),t||500);return()=>{clearTimeout(n)}},[e,t]),n}function useDebounceWithSet(e,t){let[n,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let n=setTimeout(()=>a(e),t||500);return()=>{clearTimeout(n)}},[e,t]),[n,a]}},59123:function(e,t,n){"use strict";n.d(t,{kd:function(){return r}});let r="https://anilist.co/api/v2/oauth/authorize?client_id=15168&response_type=token"},6025:function(e,t,n){"use strict";n.d(t,{z:function(){return searchAnilistMediaList}});var r=n(29222);async function searchAnilistMediaList(e){let{page:t,search:n,perPage:a,sort:i,status:s,genres:l,averageScoreGreater:o,season:c,seasonYear:d,format:u}=e;try{var m;let e=await r.Z.post("https://graphql.anilist.co",{query:"\n    query ListMedia(\n      $page: Int\n      $search: String\n      $perPage: Int\n      $sort: [MediaSort]\n      $status: [MediaStatus]\n      $genres: [String]\n      $averageScore_greater: Int\n      $season: MediaSeason\n      $seasonYear: Int\n      $format: MediaFormat\n    ) {\n      Page(page: $page, perPage: $perPage) {\n        pageInfo {\n          hasNextPage\n          total\n          perPage\n          currentPage\n          lastPage\n        }\n        media(\n          type: ANIME\n          search: $search\n          sort: $sort\n          status_in: $status\n          isAdult: false\n          format: $format\n          genre_in: $genres\n          averageScore_greater: $averageScore_greater\n          season: $season\n          seasonYear: $seasonYear\n          format_not: MUSIC\n        ) {\n          ...basicMedia\n        }\n      }\n    }\n    fragment basicMedia on Media {\n      id\n      idMal\n      siteUrl\n      status(version: 2)\n      season\n      type\n      format\n      bannerImage\n      episodes\n      synonyms\n      isAdult\n      countryOfOrigin\n      title {\n        userPreferred\n        romaji\n        english\n        native\n      }\n      coverImage {\n        extraLarge\n        large\n        medium\n        color\n      }\n      startDate {\n        year\n        month\n        day\n      }\n      endDate {\n        year\n        month\n        day\n      }\n      nextAiringEpisode {\n        airingAt\n        timeUntilAiring\n        episode\n      }\n    }\n  ",variables:{page:t,search:n,perPage:a,sort:i,status:s,genres:l,averageScore_greater:o,season:c,seasonYear:d,format:u}});return null===(m=e.data)||void 0===m?void 0:m.data}catch(e){console.error(e);return}}},68260:function(e,t,n){"use strict";n.d(t,{Jg:function(){return useMediaDetails},Pe:function(){return useManuallyMatchLocalFiles},Tc:function(){return useAnilistCollectionListener},X7:function(){return useMediaEntry},bo:function(){return useFetchMediaEntrySuggestions},du:function(){return useRefreshAnilistCollection},uJ:function(){return useAnilistCollection}});var r=n(51472),a=n(57638),i=n(38038),s=n(5925),l=n(67998);function useAnilistCollectionListener(){let e=(0,i.NL)();(0,l.SN)({type:a.f.REFRESHED_ANILIST_COLLECTION,onMessage:t=>{(async()=>{await e.refetchQueries({queryKey:["get-library-collection"]}),await e.refetchQueries({queryKey:["get-anilist-collection"]}),await e.refetchQueries({queryKey:["get-missing-episodes"]})})()}})}function useMediaEntry(e){let t="string"==typeof e?Number(e):e,{data:n,isLoading:i}=(0,r.tZ)({endpoint:a.E.MEDIA_ENTRY.replace("{id}",String(t)),queryKey:["get-media-entry",t],enabled:!!t});return{mediaEntry:n,mediaEntryLoading:i}}function useAnilistCollection(){var e,t;let{data:n,isLoading:i}=(0,r.tZ)({endpoint:a.E.ANILIST_COLLECTION,queryKey:["get-anilist-collection"]});return{anilistLists:null!==(t=null==n?void 0:null===(e=n.MediaListCollection)||void 0===e?void 0:e.lists)&&void 0!==t?t:[],isLoading:i}}function useRefreshAnilistCollection(){let e=(0,i.NL)(),{mutate:t,isPending:n}=(0,r.$U)({endpoint:a.E.ANILIST_COLLECTION,mutationKey:["refresh-anilist-collection"],onSuccess:async()=>{s.ZP.success("AniList is up-to-date"),await e.refetchQueries({queryKey:["get-library-collection"]}),await e.refetchQueries({queryKey:["get-anilist-collection"]}),await e.refetchQueries({queryKey:["get-missing-episodes"]})}});return{refreshAnilistCollection:t,isPending:n}}function useMediaDetails(e){let t="string"==typeof e?Number(e):e,{data:n,isLoading:i}=(0,r.tZ)({endpoint:a.E.ANILIST_MEDIA_DETAILS.replace("{id}",String(t)),queryKey:["get-anilist-media-details",t],enabled:!!t});return{mediaDetails:n,mediaDetailsLoading:i}}function useFetchMediaEntrySuggestions(){let{mutate:e,data:t,isPending:n,reset:i}=(0,r.$U)({endpoint:a.E.MEDIA_ENTRY_SUGGESTIONS,mutationKey:["media-entry-suggestions"]});return{fetchSuggestions:t=>e({dir:t}),suggestions:null!=t?t:[],isPending:n,resetSuggestions:i}}function useManuallyMatchLocalFiles(){let e=(0,i.NL)(),{mutate:t,isPending:n}=(0,r.$U)({endpoint:a.E.MEDIA_ENTRY_MANUAL_MATCH,mutationKey:["media-entry-manual-match"],onSuccess:async()=>{await e.refetchQueries({queryKey:["get-library-collection"]})}});return{manuallyMatchEntry:(n,r)=>{t(n,{onSuccess:async()=>{n.mediaId&&await e.refetchQueries({queryKey:["get-media-entry",n.mediaId]}),r()}})},isPending:n}}}},function(e){e.O(0,[492,890,999,685,702,17,265,726,766,912,430,971,472,744],function(){return e(e.s=98268)}),_N_E=e.O()}]);