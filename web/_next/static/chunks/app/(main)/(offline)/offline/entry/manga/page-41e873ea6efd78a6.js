(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9270],{10083:(e,r,t)=>{"use strict";t.d(r,{UC:()=>ei,Y9:()=>en,q7:()=>ea,bL:()=>et,l9:()=>el});var a=t(12115),n=t(99602),l=t(20602),i=t(15896),o=t(83990),s=t(77396),d=t(74372),c=t(49903),u=t(80400),m=t(25704),f=t(95155),p="Collapsible",[v,h]=(0,n.A)(p),[g,x]=v(p),b=a.forwardRef((e,r)=>{let{__scopeCollapsible:t,open:n,defaultOpen:l,disabled:i,onOpenChange:o,...c}=e,[u,v]=(0,s.i)({prop:n,defaultProp:null!=l&&l,onChange:o,caller:p});return(0,f.jsx)(g,{scope:t,disabled:i,contentId:(0,m.B)(),open:u,onOpenToggle:a.useCallback(()=>v(e=>!e),[v]),children:(0,f.jsx)(d.sG.div,{"data-state":I(u),"data-disabled":i?"":void 0,...c,ref:r})})});b.displayName=p;var j="CollapsibleTrigger",y=a.forwardRef((e,r)=>{let{__scopeCollapsible:t,...a}=e,n=x(j,t);return(0,f.jsx)(d.sG.button,{type:"button","aria-controls":n.contentId,"aria-expanded":n.open||!1,"data-state":I(n.open),"data-disabled":n.disabled?"":void 0,disabled:n.disabled,...a,ref:r,onClick:(0,o.m)(e.onClick,n.onOpenToggle)})});y.displayName=j;var w="CollapsibleContent",C=a.forwardRef((e,r)=>{let{forceMount:t,...a}=e,n=x(w,e.__scopeCollapsible);return(0,f.jsx)(u.C,{present:t||n.open,children:e=>{let{present:t}=e;return(0,f.jsx)(N,{...a,ref:r,present:t})}})});C.displayName=w;var N=a.forwardRef((e,r)=>{let{__scopeCollapsible:t,present:n,children:l,...o}=e,s=x(w,t),[u,m]=a.useState(n),p=a.useRef(null),v=(0,i.s)(r,p),h=a.useRef(0),g=h.current,b=a.useRef(0),j=b.current,y=s.open||u,C=a.useRef(y),N=a.useRef(void 0);return a.useEffect(()=>{let e=requestAnimationFrame(()=>C.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,c.N)(()=>{let e=p.current;if(e){N.current=N.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let r=e.getBoundingClientRect();h.current=r.height,b.current=r.width,C.current||(e.style.transitionDuration=N.current.transitionDuration,e.style.animationName=N.current.animationName),m(n)}},[s.open,n]),(0,f.jsx)(d.sG.div,{"data-state":I(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!y,...o,ref:v,style:{"--radix-collapsible-content-height":g?"".concat(g,"px"):void 0,"--radix-collapsible-content-width":j?"".concat(j,"px"):void 0,...e.style},children:y&&l})});function I(e){return e?"open":"closed"}var _=t(93052),A="Accordion",D=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[R,k,S]=(0,l.N)(A),[T,F]=(0,n.A)(A,[S,h]),M=h(),P=a.forwardRef((e,r)=>{let{type:t,...a}=e;return(0,f.jsx)(R.Provider,{scope:e.__scopeAccordion,children:"multiple"===t?(0,f.jsx)(K,{...a,ref:r}):(0,f.jsx)(G,{...a,ref:r})})});P.displayName=A;var[z,E]=T(A),[L,O]=T(A,{collapsible:!1}),G=a.forwardRef((e,r)=>{let{value:t,defaultValue:n,onValueChange:l=()=>{},collapsible:i=!1,...o}=e,[d,c]=(0,s.i)({prop:t,defaultProp:null!=n?n:"",onChange:l,caller:A});return(0,f.jsx)(z,{scope:e.__scopeAccordion,value:a.useMemo(()=>d?[d]:[],[d]),onItemOpen:c,onItemClose:a.useCallback(()=>i&&c(""),[i,c]),children:(0,f.jsx)(L,{scope:e.__scopeAccordion,collapsible:i,children:(0,f.jsx)(q,{...o,ref:r})})})}),K=a.forwardRef((e,r)=>{let{value:t,defaultValue:n,onValueChange:l=()=>{},...i}=e,[o,d]=(0,s.i)({prop:t,defaultProp:null!=n?n:[],onChange:l,caller:A}),c=a.useCallback(e=>d(function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[...r,e]}),[d]),u=a.useCallback(e=>d(function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return r.filter(r=>r!==e)}),[d]);return(0,f.jsx)(z,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:(0,f.jsx)(L,{scope:e.__scopeAccordion,collapsible:!0,children:(0,f.jsx)(q,{...i,ref:r})})})}),[U,H]=T(A),q=a.forwardRef((e,r)=>{let{__scopeAccordion:t,disabled:n,dir:l,orientation:s="vertical",...c}=e,u=a.useRef(null),m=(0,i.s)(u,r),p=k(t),v="ltr"===(0,_.jH)(l),h=(0,o.m)(e.onKeyDown,e=>{var r;if(!D.includes(e.key))return;let t=e.target,a=p().filter(e=>{var r;return!(null==(r=e.ref.current)?void 0:r.disabled)}),n=a.findIndex(e=>e.ref.current===t),l=a.length;if(-1===n)return;e.preventDefault();let i=n,o=l-1,d=()=>{(i=n+1)>o&&(i=0)},c=()=>{(i=n-1)<0&&(i=o)};switch(e.key){case"Home":i=0;break;case"End":i=o;break;case"ArrowRight":"horizontal"===s&&(v?d():c());break;case"ArrowDown":"vertical"===s&&d();break;case"ArrowLeft":"horizontal"===s&&(v?c():d());break;case"ArrowUp":"vertical"===s&&c()}null==(r=a[i%l].ref.current)||r.focus()});return(0,f.jsx)(U,{scope:t,disabled:n,direction:l,orientation:s,children:(0,f.jsx)(R.Slot,{scope:t,children:(0,f.jsx)(d.sG.div,{...c,"data-orientation":s,ref:m,onKeyDown:n?void 0:h})})})}),B="AccordionItem",[Q,X]=T(B),Y=a.forwardRef((e,r)=>{let{__scopeAccordion:t,value:a,...n}=e,l=H(B,t),i=E(B,t),o=M(t),s=(0,m.B)(),d=a&&i.value.includes(a)||!1,c=l.disabled||e.disabled;return(0,f.jsx)(Q,{scope:t,open:d,disabled:c,triggerId:s,children:(0,f.jsx)(b,{"data-orientation":l.orientation,"data-state":er(d),...o,...n,ref:r,disabled:c,open:d,onOpenChange:e=>{e?i.onItemOpen(a):i.onItemClose(a)}})})});Y.displayName=B;var Z="AccordionHeader",V=a.forwardRef((e,r)=>{let{__scopeAccordion:t,...a}=e,n=H(A,t),l=X(Z,t);return(0,f.jsx)(d.sG.h3,{"data-orientation":n.orientation,"data-state":er(l.open),"data-disabled":l.disabled?"":void 0,...a,ref:r})});V.displayName=Z;var $="AccordionTrigger",J=a.forwardRef((e,r)=>{let{__scopeAccordion:t,...a}=e,n=H(A,t),l=X($,t),i=O($,t),o=M(t);return(0,f.jsx)(R.ItemSlot,{scope:t,children:(0,f.jsx)(y,{"aria-disabled":l.open&&!i.collapsible||void 0,"data-orientation":n.orientation,id:l.triggerId,...o,...a,ref:r})})});J.displayName=$;var W="AccordionContent",ee=a.forwardRef((e,r)=>{let{__scopeAccordion:t,...a}=e,n=H(A,t),l=X(W,t),i=M(t);return(0,f.jsx)(C,{role:"region","aria-labelledby":l.triggerId,"data-orientation":n.orientation,...i,...a,ref:r,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function er(e){return e?"open":"closed"}ee.displayName=W;var et=P,ea=Y,en=V,el=J,ei=ee},20396:(e,r,t)=>{"use strict";t.d(r,{EN:()=>u,L7:()=>p,FX:()=>m,Qd:()=>f});var a=t(95155),n=t(19749),l=t(10083),i=t(21335),o=t(12115),s=t(91360);let d=(0,s.u)({item:(0,i.F)(["UI-Disclosure__item"]),contentContainer:(0,i.F)(["UI-Disclosure__contentContainer","overflow-hidden transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"]),content:(0,i.F)(["UI-Disclosure__content"])}),c=o.createContext({}),u=o.forwardRef((e,r)=>{let t,i,o,s,d,u,m,f=(0,n.c)(15);return f[0]!==e?({contentContainerClass:i,contentClass:t,itemClass:o,...s}=e,f[0]=e,f[1]=t,f[2]=i,f[3]=o,f[4]=s):(t=f[1],i=f[2],o=f[3],s=f[4]),f[5]!==t||f[6]!==i||f[7]!==o?(d={itemClass:o,contentContainerClass:i,contentClass:t},f[5]=t,f[6]=i,f[7]=o,f[8]=d):d=f[8],f[9]!==r||f[10]!==s?(u=(0,a.jsx)(l.bL,{ref:r,...s}),f[9]=r,f[10]=s,f[11]=u):u=f[11],f[12]!==d||f[13]!==u?(m=(0,a.jsx)(c.Provider,{value:d,children:u}),f[12]=d,f[13]=u,f[14]=m):m=f[14],m});u.displayName="Disclosure";let m=o.forwardRef((e,r)=>{let t,i,u,m,f=(0,n.c)(10);f[0]!==e?({className:t,...i}=e,f[0]=e,f[1]=t,f[2]=i):(t=f[1],i=f[2]);let{itemClass:p}=o.useContext(c);return f[3]!==t||f[4]!==p?(u=(0,s.cn)(d.item(),p,t),f[3]=t,f[4]=p,f[5]=u):u=f[5],f[6]!==r||f[7]!==i||f[8]!==u?(m=(0,a.jsx)(l.q7,{ref:r,className:u,...i}),f[6]=r,f[7]=i,f[8]=u,f[9]=m):m=f[9],m});m.displayName="DisclosureItem";let f=o.forwardRef((e,r)=>{let t,i=(0,n.c)(3);return i[0]!==e||i[1]!==r?(t=(0,a.jsx)(l.Y9,{asChild:!0,children:(0,a.jsx)(l.l9,{ref:r,asChild:!0,...e})}),i[0]=e,i[1]=r,i[2]=t):t=i[2],t});f.displayName="DisclosureTrigger";let p=o.forwardRef((e,r)=>{let t,i,u,m,f,p,v,h,g=(0,n.c)(19);g[0]!==e?({className:i,contentContainerClass:u,children:t,...m}=e,g[0]=e,g[1]=t,g[2]=i,g[3]=u,g[4]=m):(t=g[1],i=g[2],u=g[3],m=g[4]);let{contentContainerClass:x,contentClass:b}=o.useContext(c);return g[5]!==x||g[6]!==u?(f=(0,s.cn)(d.contentContainer(),x,u),g[5]=x,g[6]=u,g[7]=f):f=g[7],g[8]!==b||g[9]!==i?(p=(0,s.cn)(d.content(),b,i),g[8]=b,g[9]=i,g[10]=p):p=g[10],g[11]!==t||g[12]!==p?(v=(0,a.jsx)("div",{className:p,children:t}),g[11]=t,g[12]=p,g[13]=v):v=g[13],g[14]!==r||g[15]!==m||g[16]!==f||g[17]!==v?(h=(0,a.jsx)(l.UC,{ref:r,className:f,...m,children:v}),g[14]=r,g[15]=m,g[16]=f,g[17]=v,g[18]=h):h=g[18],h});p.displayName="DisclosureContent"},34720:(e,r,t)=>{"use strict";t.d(r,{y:()=>o});var a=t(95155),n=t(19749),l=t(25305),i=t(90168);function o(e){var r,t,o,s,d,c,u,m,f,p,v,h,g,x,b,j,y,w,C,N,I,_;let A,D,R,k,S=(0,n.c)(22),{type:T,entry:F}=e;if(!(null==F?void 0:F.media))return null;let M=null==(r=F.media)?void 0:r.bannerImage,P=null==(o=F.media)||null==(t=o.coverImage)?void 0:t.extraLarge,z=(null==(d=F.media)||null==(s=d.coverImage)?void 0:s.extraLarge)||(null==(u=F.media)||null==(c=u.coverImage)?void 0:c.large),E=null==(f=F.media)||null==(m=f.title)?void 0:m.userPreferred,L=null==(v=F.media)||null==(p=v.coverImage)?void 0:p.color,O=null==(g=F.media)||null==(h=g.title)?void 0:h.english,G=null==(b=F.media)||null==(x=b.title)?void 0:x.romaji,K=null==(j=F.media)?void 0:j.startDate,U=null==(y=F.media)?void 0:y.season,H="anime"===T?null==(w=F.media)?void 0:w.episodes:null==(C=F.media)?void 0:C.chapters,q=null==(N=F.media)?void 0:N.status,B=null==(I=F.media)?void 0:I.description;S[0]!==F.listData||S[1]!==F.media||S[2]!==q||S[3]!==B||S[4]!==z||S[5]!==E||S[6]!==L||S[7]!==O||S[8]!==G||S[9]!==K||S[10]!==U||S[11]!==H?(A=(0,a.jsx)(i.xN,{coverImage:z,title:E,color:L,englishTitle:O,romajiTitle:G,startDate:K,season:U,progressTotal:H,status:q,description:B,listData:F.listData,media:F.media,type:"anime"}),S[0]=F.listData,S[1]=F.media,S[2]=q,S[3]=B,S[4]=z,S[5]=E,S[6]=L,S[7]=O,S[8]=G,S[9]=K,S[10]=U,S[11]=H,S[12]=A):A=S[12];let Q=null==(_=F.media)?void 0:_.meanScore;return S[13]!==Q?(D=(0,a.jsx)("div",{className:"flex gap-2 items-center",children:(0,a.jsx)(l.H2,{meanScore:Q,badgeClass:"bg-transparent"})}),S[13]=Q,S[14]=D):D=S[14],S[15]!==A||S[16]!==D?(R=(0,a.jsxs)(i.In,{children:[A,D]}),S[15]=A,S[16]=D,S[17]=R):R=S[17],S[18]!==M||S[19]!==P||S[20]!==R?(k=(0,a.jsx)(i.ZM,{backgroundImage:M,coverImage:P,children:R}),S[18]=M,S[19]=P,S[20]=R,S[21]=k):k=S[21],k}t(12115)},61078:(e,r,t)=>{Promise.resolve().then(t.bind(t,70521))},70521:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>C});var a=t(95155),n=t(19749),l=t(38900),i=t(34720),o=t(39575),s=t(11983),d=t(39076),c=t(50548),u=t(59271),m=t(84127),f=t(63352),p=t(81036),v=t(2091),h=t(29724),g=t(12115),x=t(27647);function b(e){let{entry:r,children:t,...n}=e,{data:i,isLoading:b}=(0,l.TA)(null==r?void 0:r.mediaId),j=(0,h.Xr)(s.f1);(0,d.Sv)(null==r?void 0:r.mediaId);let y=g.useMemo(()=>{var e,r;return null!=(r=null==i||null==(e=i.flatMap(e=>e.chapters))?void 0:e.filter(Boolean))?r:[]},[i]),w=g.useMemo(()=>{let e=new Map;for(let r of y)e.set(r.id,(0,c.QO)(r.chapter));return e},[i]),[C,N]=g.useState(void 0),I=g.useMemo(()=>(0,p.$f)(()=>[{accessorKey:"title",header:"Name",size:90},{accessorKey:"provider",header:"Provider",size:10,enableSorting:!0},{id:"number",header:"Number",size:10,enableSorting:!0,accessorFn:e=>w.get(e.id)},{id:"_actions",size:5,enableSorting:!1,enableGlobalFilter:!1,cell:e=>{let{row:t}=e;return(0,a.jsx)("div",{className:"flex justify-end gap-2 items-center w-full",children:(0,a.jsx)(m.K0,{intent:"gray-subtle",size:"sm",onClick:()=>{N(null==i?void 0:i.find(e=>e.provider===t.original.provider)),g.startTransition(()=>{j({chapterId:t.original.id,chapterNumber:t.original.chapter,provider:t.original.provider,mediaId:Number(null==r?void 0:r.mediaId)})})},icon:(0,a.jsx)(x.mGD,{})})})}}]),[r,w]),[_,A]=g.useState(!1),D=g.useCallback(e=>{var t,a;if(!(null==r?void 0:r.listData)||!w.has(e.id)||!(null==r||null==(t=r.listData)?void 0:t.progress))return!0;let n=w.get(e.id);return!!n&&n>(null==(a=r.listData)?void 0:a.progress)},[w,i,r]),R=g.useMemo(()=>{var e;return null!=(e=y.filter(e=>D(e)))?e:[]},[y,r]);g.useEffect(()=>{A(!!R.length)},[R]);let k=g.useMemo(()=>_?R:y,[_,y,R]);return!r||b?(0,a.jsx)(v.kt,{}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"space-y-4 border rounded-[--radius-md] bg-[--paper] p-4",children:[(0,a.jsx)("div",{className:"flex flex-wrap items-center gap-4",children:(0,a.jsx)(f.Sc,{label:"Show unread",value:_,onValueChange:e=>A(e),fieldClass:"w-fit",...u.Zn})}),(0,a.jsx)(p.zh,{columns:I,data:k,rowCount:(null==k?void 0:k.length)||0,isLoading:!k,rowSelectionPrimaryKey:"id",initialState:{pagination:{pageIndex:0,pageSize:10},sorting:[{id:"number",desc:!1}]},className:""}),!!C&&(0,a.jsx)(o.A,{entry:r,chapterIdToNumbersMap:w,chapterContainer:C})]})})}var j=t(29260),y=t(45754),w=t(6066);function C(){let e,r,t,o,s,d,c,u=(0,n.c)(19),m=(0,w.useRouter)(),f=(0,w.useSearchParams)();u[0]!==f?(e=f.get("id"),u[0]=f,u[1]=e):e=u[1];let p=e,{data:v,isLoading:h}=(0,l.Kq)(p);if(u[2]!==v||u[3]!==h||u[4]!==p||u[5]!==m?(r=()=>{p&&(h||v)||m.push("/offline")},u[2]=v,u[3]=h,u[4]=p,u[5]=m,u[6]=r):r=u[6],u[7]!==v||u[8]!==h?(t=[v,h],u[7]=v,u[8]=h,u[9]=t):t=u[9],g.useEffect(r,t),h){let e;return u[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(j.C,{}),u[10]=e):e=u[10],e}return v?(u[11]!==v?(o=(0,a.jsx)(i.y,{type:"manga",entry:v}),u[11]=v,u[12]=o):o=u[12],u[13]===Symbol.for("react.memo_cache_sentinel")?(s=(0,a.jsx)("h2",{children:"Chapters"}),u[13]=s):s=u[13],u[14]!==v?(d=(0,a.jsxs)(y.f,{className:"p-4 space-y-6",children:[s,(0,a.jsx)(b,{entry:v})]}),u[14]=v,u[15]=d):d=u[15],u[16]!==o||u[17]!==d?(c=(0,a.jsxs)(a.Fragment,{children:[o,d]}),u[16]=o,u[17]=d,u[18]=c):c=u[18],c):null}},93715:(e,r,t)=>{"use strict";t.d(r,{v:()=>a});let a=e=>({info:function(){for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];console.log("[".concat(e,"]")+" ",...t)},warning:function(){for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];console.log("[".concat(e,"]")+" ",...t)},success:function(){for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];console.log("[".concat(e,"]")+" ",...t)},error:function(){for(var r=arguments.length,t=Array(r),a=0;a<r;a++)t[a]=arguments[a];console.log("[".concat(e,"]")+" ",...t)}})}},e=>{var r=r=>e(e.s=r);e.O(0,[3873,5271,3380,844,9204,6446,2150,6711,5479,4506,5897,7672,7825,1805,5290,4762,4218,4791,1626,6905,9986,1597,7528,5045,9690,9325,9360,1298,5340,1078,1683,5334,6862,4033,9832,9575,8441,6891,7358],()=>r(61078)),_N_E=e.O()}]);