(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[17],{1382:(e,a,l)=>{"use strict";l.d(a,{z:()=>h});var t=l(95155),n=l(19749),r=l(99639),s=l(91360),i=l(90711),o=l(91332),c=l(94077),d=l(84218),u=l(12115),m=l(37178);function h(e){let a,l,h,b,g,x,p,y,f,v,S,j,C,w,P,N,k,_,D,T,A,M=(0,n.c)(47),{discrete:L,isLibraryScreen:I,isHomeScreen:R}=e,E=(0,o.Ky)();a=E.libraryScreenCustomBannerImage?(0,i.sU)(E.libraryScreenCustomBannerImage):"";let[H,B]=u.useState(!1),{y:U}=(0,m.A)();M[0]!==U?(l=()=>{U>100?B(!0):B(!1)},M[0]=U,M[1]=l):l=M[1];let K=U>100;if(M[2]!==K?(h=[K],M[2]=K,M[3]=h):h=M[3],(0,u.useEffect)(l,h),I&&E.libraryScreenBannerType!==o.H4.Custom||L&&E.libraryScreenCustomBackgroundImage||!a)return null;M[4]!==L||M[5]!==R||M[6]!==E.hideTopNavbar?(b=!L&&!R&&(0,t.jsx)("div",{"data-custom-library-banner-top-spacer":!0,className:(0,s.cn)("py-20",E.hideTopNavbar&&"py-28")}),M[4]=L,M[5]=R,M[6]=E.hideTopNavbar,M[7]=b):b=M[7];let O=L&&"opacity-20",F=!!E.libraryScreenCustomBackgroundImage&&"absolute",G=!E.libraryScreenCustomBackgroundImage&&H&&"opacity-5",q=!E.disableSidebarTransparency&&r.j,V=E.disableSidebarTransparency?"scroll-locked-offset-fixed":"scroll-locked-offset-custom-library-banner";M[8]!==O||M[9]!==F||M[10]!==G||M[11]!==q||M[12]!==V?(g=(0,s.cn)("__header h-[30rem] z-[1] top-0 w-full fixed group/library-header transition-opacity duration-1000",O,F,G,q,c.X&&"top-[-2rem]",V),M[8]=O,M[9]=F,M[10]=G,M[11]=q,M[12]=V,M[13]=g):g=M[13],M[14]!==L||M[15]!==E.disableSidebarTransparency?(x=!E.disableSidebarTransparency&&!L&&(0,t.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:"hidden lg:block h-full absolute z-[2] w-[20rem] opacity-70 left-0 top-0 bg-gradient bg-gradient-to-r from-[var(--background)] to-transparent"}),M[14]=L,M[15]=E.disableSidebarTransparency,M[16]=x):x=M[16],M[17]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:"w-full z-[3] absolute bottom-[-5rem] h-[5rem] bg-gradient-to-b from-[--background] via-transparent via-100% to-transparent"}),M[17]=p):p=M[17],M[18]===Symbol.for("react.memo_cache_sentinel")?(y={opacity:0},f={opacity:1,y:0},v={opacity:0},S={duration:1,delay:.2},j=(0,s.cn)("h-[30rem] z-[0] w-full flex-none absolute top-0 overflow-hidden","scroll-locked-offset"),M[18]=y,M[19]=f,M[20]=v,M[21]=S,M[22]=j):(y=M[18],f=M[19],v=M[20],S=M[21],j=M[22]);let z=L&&"opacity-70";M[23]!==z?(C=(0,s.cn)("CUSTOM_LIB_BANNER_TOP_FADE w-full absolute z-[2] top-0 h-[5rem] opacity-40 bg-gradient-to-b from-[--background] to-transparent via",z),M[23]=z,M[24]=C):C=M[24],M[25]!==C?(w=(0,t.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:C}),M[25]=C,M[26]=w):w=M[26],M[27]===Symbol.for("react.memo_cache_sentinel")?(P=(0,s.cn)("CUSTOM_LIB_BANNER_IMG z-[1] absolute inset-0 w-full h-full bg-cover bg-no-repeat transition-opacity duration-1000","scroll-locked-offset"),M[27]=P):P=M[27];let $="url(".concat(c.Ck?"/no-cover.png":a,")"),W=E.libraryScreenCustomBannerPosition||"50% 50%",X=(E.libraryScreenCustomBannerOpacity||100)/100;M[28]!==$||M[29]!==W||M[30]!==X?(N=(0,t.jsx)("div",{"data-custom-library-banner-image":!0,className:P,style:{backgroundImage:$,backgroundPosition:W,opacity:X,backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),M[28]=$,M[29]=W,M[30]=X,M[31]=N):N=M[31];let Z=L&&"via-50% via-opacity-100 h-[40rem]";return M[32]!==Z?(k=(0,s.cn)("CUSTOM_LIB_BANNER_BOTTOM_FADE w-full z-[2] absolute bottom-0 h-[20rem] bg-gradient-to-t from-[--background] via-opacity-50 via-10% to-transparent via",Z),M[32]=Z,M[33]=k):k=M[33],M[34]!==k?(_=(0,t.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:k}),M[34]=k,M[35]=_):_=M[35],M[36]!==w||M[37]!==N||M[38]!==_?(D=(0,t.jsxs)(d.P.div,{initial:y,animate:f,exit:v,transition:S,className:j,"data-custom-library-banner-inner-container":!0,children:[w,N,_]}),M[36]=w,M[37]=N,M[38]=_,M[39]=D):D=M[39],M[40]!==g||M[41]!==x||M[42]!==D?(T=(0,t.jsxs)("div",{"data-custom-library-banner-container":!0,className:g,children:[x,p,D]}),M[40]=g,M[41]=x,M[42]=D,M[43]=T):T=M[43],M[44]!==T||M[45]!==b?(A=(0,t.jsxs)(t.Fragment,{children:[b,T]}),M[44]=T,M[45]=b,M[46]=A):A=M[46],A}},7013:(e,a,l)=>{"use strict";l.d(a,{JW:()=>d,M$:()=>m,Ok:()=>u});var t=l(19749),n=l(7675),r=l(74889),s=l(35349),i=l(46278),o=l(29724),c=l(69554);function d(){let e,a,l=(0,t.c)(4),c=(0,i.jE)(),d=(0,o.Xr)(s.Q);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=[r.S.SETTINGS.GettingStarted.key],l[0]=e):e=l[0],l[1]!==c||l[2]!==d?(a={endpoint:r.S.SETTINGS.GettingStarted.endpoint,method:r.S.SETTINGS.GettingStarted.methods[0],mutationKey:e,onSuccess:async()=>{await c.invalidateQueries({queryKey:[r.S.SETTINGS.GetSettings.key]}),await c.invalidateQueries({queryKey:[r.S.STATUS.GetStatus.key]}),d(!0)}},l[1]=c,l[2]=d,l[3]=a):a=l[3],(0,n.qk)(a)}function u(){let e,a,l=(0,t.c)(3),s=(0,i.jE)();return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=[r.S.SETTINGS.SaveSettings.key],l[0]=e):e=l[0],l[1]!==s?(a={endpoint:r.S.SETTINGS.SaveSettings.endpoint,method:r.S.SETTINGS.SaveSettings.methods[0],mutationKey:e,onSuccess:async()=>{await s.invalidateQueries({queryKey:[r.S.SETTINGS.GetSettings.key]}),await s.invalidateQueries({queryKey:[r.S.STATUS.GetStatus.key]}),c.oR.success("Settings saved")}},l[1]=s,l[2]=a):a=l[2],(0,n.qk)(a)}function m(){let e,a,l=(0,t.c)(3),s=(0,i.jE)();return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=[r.S.SETTINGS.SaveAutoDownloaderSettings.key],l[0]=e):e=l[0],l[1]!==s?(a={endpoint:r.S.SETTINGS.SaveAutoDownloaderSettings.endpoint,method:r.S.SETTINGS.SaveAutoDownloaderSettings.methods[0],mutationKey:e,onSuccess:async()=>{await s.invalidateQueries({queryKey:[r.S.SETTINGS.GetSettings.key]}),await s.invalidateQueries({queryKey:[r.S.STATUS.GetStatus.key]}),c.oR.success("Settings saved")}},l[1]=s,l[2]=a):a=l[2],(0,n.qk)(a)}},8713:(e,a,l)=>{Promise.resolve().then(l.bind(l,78533))},39758:(e,a,l)=>{"use strict";l.d(a,{G:()=>d,a:()=>u});var t=l(95155),n=l(19749),r=l(29724),s=l(21842),i=l(12115),o=l(68090);let c=(0,s.tG)("sea-custom-css",{customCSS:"",mobileCustomCSS:""},void 0,{getOnInit:!0});function d(e){let a,l,s,d,u,m=(0,n.c)(8),{children:h}=e,[b]=(0,r.fp)(c),[g,x]=(0,i.useState)(!1),{width:p}=(0,o.A)();return a=p<1024?b.mobileCustomCSS:b.customCSS,m[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{x(!0)},s=[],m[0]=l,m[1]=s):(l=m[0],s=m[1]),(0,i.useEffect)(l,s),m[2]!==g||m[3]!==a?(d=g&&a&&(0,t.jsx)("style",{id:"sea-custom-css",dangerouslySetInnerHTML:{__html:a}}),m[2]=g,m[3]=a,m[4]=d):d=m[4],m[5]!==h||m[6]!==d?(u=(0,t.jsxs)(t.Fragment,{children:[h,d]}),m[5]=h,m[6]=d,m[7]=u):u=m[7],u}function u(){let e,a=(0,n.c)(3),[l,t]=(0,r.fp)(c);return a[0]!==l||a[1]!==t?(e={customCSS:l,setCustomCSS:t},a[0]=l,a[1]=t,a[2]=e):e=a[2],e}},44304:(e,a,l)=>{"use strict";l.d(a,{O4:()=>d,kA:()=>c,lC:()=>o,nP:()=>u});var t=l(19749),n=l(7675),r=l(74889),s=l(46278),i=l(69554);function o(e){let a,l,s=(0,t.c)(3);return s[0]===Symbol.for("react.memo_cache_sentinel")?(a=[r.S.MEDIASTREAM.GetMediastreamSettings.key],s[0]=a):a=s[0],s[1]!==e?(l={endpoint:r.S.MEDIASTREAM.GetMediastreamSettings.endpoint,method:r.S.MEDIASTREAM.GetMediastreamSettings.methods[0],queryKey:a,enabled:e},s[1]=e,s[2]=l):l=s[2],(0,n.fl)(l)}function c(){let e,a,l=(0,t.c)(3),o=(0,s.jE)();return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=[r.S.MEDIASTREAM.SaveMediastreamSettings.key],l[0]=e):e=l[0],l[1]!==o?(a={endpoint:r.S.MEDIASTREAM.SaveMediastreamSettings.endpoint,method:r.S.MEDIASTREAM.SaveMediastreamSettings.methods[0],mutationKey:e,onSuccess:async()=>{await o.invalidateQueries({queryKey:[r.S.MEDIASTREAM.GetMediastreamSettings.key]}),await o.invalidateQueries({queryKey:[r.S.STATUS.GetStatus.key]}),i.oR.success("Settings saved")}},l[1]=o,l[2]=a):a=l[2],(0,n.qk)(a)}function d(e,a){let l,s,i=(0,t.c)(7),o=null==e?void 0:e.path,c=null==e?void 0:e.streamType;i[0]!==o||i[1]!==c?(l=[r.S.MEDIASTREAM.RequestMediastreamMediaContainer.key,o,c],i[0]=o,i[1]=c,i[2]=l):l=i[2];let d=!!e.path&&!!e.streamType&&a;return i[3]!==l||i[4]!==e||i[5]!==d?(s={endpoint:r.S.MEDIASTREAM.RequestMediastreamMediaContainer.endpoint,method:r.S.MEDIASTREAM.RequestMediastreamMediaContainer.methods[0],queryKey:l,data:e,enabled:d},i[3]=l,i[4]=e,i[5]=d,i[6]=s):s=i[6],(0,n.fl)(s)}function u(){let e,a=(0,t.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:r.S.MEDIASTREAM.MediastreamShutdownTranscodeStream.endpoint,method:r.S.MEDIASTREAM.MediastreamShutdownTranscodeStream.methods[0],mutationKey:[r.S.MEDIASTREAM.MediastreamShutdownTranscodeStream.key],onSuccess:m},a[0]=e):e=a[0],(0,n.qk)(e)}async function m(){}},68585:(e,a,l)=>{"use strict";l.d(a,{Gb:()=>d,KT:()=>c,Xw:()=>o});var t=l(95155),n=l(19749),r=l(52963),s=l(91360),i=l(12115);function o(e){let a,l,r,s=(0,n.c)(4),{children:o}=e;s[0]===Symbol.for("react.memo_cache_sentinel")?(a={x:0,y:0},s[0]=a):a=s[0];let[,c]=(0,i.useState)(a),d=(0,i.useRef)(null);s[1]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{if(!d.current)return;let a=d.current.getBoundingClientRect();c({x:e.clientX-a.left,y:e.clientY-a.top})},s[1]=l):l=s[1];let u=l;return s[2]!==o?(r=(0,t.jsx)("div",{className:"pb-4",children:(0,t.jsx)("div",{ref:d,onMouseMove:u,className:"p-0",children:o})}),s[2]=o,s[3]=r):r=s[3],r}function c(e){let a,l,o,c,d,u,m,h=(0,n.c)(16),{title:b,description:g,children:x,className:p}=e;h[0]===Symbol.for("react.memo_cache_sentinel")?(a={x:0,y:0},h[0]=a):a=h[0];let[,y]=(0,i.useState)(a);(0,i.useState)(!1);let f=(0,i.useRef)(null);h[1]===Symbol.for("react.memo_cache_sentinel")?(l=e=>{if(!f.current)return;let a=f.current.getBoundingClientRect();y({x:e.clientX-a.left,y:e.clientY-a.top})},h[1]=l):l=h[1];let v=l;h[2]!==p?(o=(0,s.cn)("group/settings-card relative lg:bg-gray-950/80 rounded-xl",p),h[2]=p,h[3]=o):o=h[3],h[4]!==g||h[5]!==b?(c=b&&(0,t.jsxs)(r.aR,{className:"p-0 pb-2 flex flex-row items-center gap-0 mx-3 mt-3 space-y-0",children:[(0,t.jsx)(r.ZB,{className:(0,s.cn)("font-semibold text-[1rem] tracking-wide transition-colors duration-300 px-4 py-1 border w-fit rounded-xl bg-gray-800/40","group-hover/settings-card:bg-brand-500/10 group-hover/settings-card:text-white"),children:b}),g&&(0,t.jsx)(r.BT,{className:"px-4 w-fit",children:g})]}),h[4]=g,h[5]=b,h[6]=c):c=h[6];let S=!b&&"pt-4";return h[7]!==S?(d=(0,s.cn)(S,"space-y-3 flex-wrap"),h[7]=S,h[8]=d):d=h[8],h[9]!==x||h[10]!==d?(u=(0,t.jsx)(r.Wu,{className:d,children:x}),h[9]=x,h[10]=d,h[11]=u):u=h[11],h[12]!==o||h[13]!==c||h[14]!==u?(m=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(r.Zp,{ref:f,className:o,onMouseMove:v,children:[c,u]})}),h[12]=o,h[13]=c,h[14]=u,h[15]=m):m=h[15],m}function d(e){let a,l,r,s,i,o=(0,n.c)(12),{title:c,description:d,icon:u}=e;return o[0]!==u?(a=(0,t.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br from-brand-500/10 to-purple-500/10 border border-brand-500/15",children:(0,t.jsx)(u,{className:"text-2xl text-brand-600 dark:text-brand-400"})}),o[0]=u,o[1]=a):a=o[1],o[2]!==c?(l=(0,t.jsx)("h3",{className:"text-xl font-semibold",children:c}),o[2]=c,o[3]=l):l=o[3],o[4]!==d?(r=(0,t.jsx)("p",{className:"text-base text-[--muted]",children:d}),o[4]=d,o[5]=r):r=o[5],o[6]!==l||o[7]!==r?(s=(0,t.jsxs)("div",{children:[l,r]}),o[6]=l,o[7]=r,o[8]=s):s=o[8],o[9]!==a||o[10]!==s?(i=(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[a,s]}),o[9]=a,o[10]=s,o[11]=i):i=o[11],i}},78533:(e,a,l)=>{"use strict";l.r(a),l.d(a,{default:()=>at,dynamic:()=>al});var t=l(95155),n=l(19749),r=l(58092),s=l(17946),i=l(7013),o=l(55014),c=l(1382),d=l(76793),u=l(96826),m=l(78216),h=l(68585),b=l(50558),g=l(84127),x=l(91360),p=l(14033),y=l(42500),f=l(29724),v=l(12115),S=l(21410),j=l(75780);let C=(0,y.eU)(!1);function w(e){let a,l,r,s,i,o=(0,n.c)(11),{isPending:c}=e,{isDirty:d}=(0,S.lN)(),u=(0,f.Xr)(C);o[0]!==d||o[1]!==u?(a=()=>{u(d)},o[0]=d,o[1]=u,o[2]=a):a=o[2],o[3]!==d?(l=[d],o[3]=d,o[4]=l):l=o[4],v.useEffect(a,l);let m=d&&"animate-pulse";return o[5]!==m?(r=(0,x.cn)("text-md transition-all group",m),o[5]=m,o[6]=r):r=o[6],o[7]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(j.Bc_,{className:"transition-transform duration-200 group-hover:scale-110"}),o[7]=s):s=o[7],o[8]!==c||o[9]!==r?(i=(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(p.D0.Submit,{role:"save",size:"md",className:r,intent:"white",rounded:!0,loading:c,leftIcon:s,children:"Save"})}),o[8]=c,o[9]=r,o[10]=i):i=o[10],i}function P(e){let a,l=(0,n.c)(7),{className:r}=e,{isDirty:s,isLoading:i,isSubmitting:o,isValidating:c}=(0,S.lN)(),{reset:d}=(0,S.xW)();return l[0]!==r||l[1]!==s||l[2]!==i||l[3]!==o||l[4]!==c||l[5]!==d?(a=s?(0,t.jsx)(b.F,{intent:"info",className:(0,x.cn)("fixed right-4 z-[50] h-auto w-fit p-5 !mt-0 hidden lg:block rounded-xl bg-[--background] border shadow-2xl mx-auto animate-in slide-in-from-top-2 duration-300",r,"top-[2rem]"),children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-sm",children:"You have unsaved changes."}),(0,t.jsx)(g.$n,{role:"save",size:"md",className:(0,x.cn)("text-md text-[--muted] py-0 h-6 px-2 transition-all duration-200 hover:scale-105 group"),intent:"white-link",onClick:()=>d(),leftIcon:(0,t.jsx)(j.cO3,{className:"transition-transform duration-200 group-hover:rotate-180"}),children:"Reset"}),(0,t.jsx)(p.D0.Submit,{role:"save",size:"md",className:(0,x.cn)("text-md py-0 h-6 px-2 transition-all duration-200 hover:scale-105 group"),intent:"white-link",disabled:i||o||c,leftIcon:(0,t.jsx)(j.Bc_,{className:"transition-transform duration-200 group-hover:scale-110"}),children:"Save"})]})}):null,l[0]=r,l[1]=s,l[2]=i,l[3]=o,l[4]=c,l[5]=d,l[6]=a):a=l[6],a}var N=l(15155),k=l(60695),_=l(53712),D=l(24151),T=l(28718),A=l(73594),M=l(38628),L=l(43994),I=l(40568);function R(e){var a,l,r,s;let i,o,c,d,m,g,x,y,f,v,j,C,P,k,_,I,R,E,H,B,U,K,O,F,G,q,V,z,$=(0,n.c)(45),{isPending:W}=e,X=(0,u.v1)();$[0]===Symbol.for("react.memo_cache_sentinel")?(i={name:"defaultPlayer"},$[0]=i):i=$[0];let Z=(0,S.FH)(i);$[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(h.Gb,{title:"Desktop Media Player",description:"Seanime has built-in support for MPV, VLC, IINA, and MPC-HC.",icon:L.UUB}),$[1]=o):o=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(p.D0.Select,{name:"defaultPlayer",label:"Default player",leftIcon:(0,t.jsx)(T.R8s,{}),options:[{label:"MPV",value:"mpv"},{label:"VLC",value:"vlc"},{label:"MPC-HC (Windows)",value:"mpc-hc"},{label:"IINA (macOS)",value:"iina"}],help:"Player that will be used to open files and track your progress automatically."}),$[2]=c):c=$[2],$[3]!==Z?(d="iina"===Z&&(0,t.jsx)(b.F,{intent:"info-basic",description:(0,t.jsxs)("p",{children:["For IINA to work correctly with Seanime, make sure ",(0,t.jsx)("strong",{children:"Quit after all windows are closed"})," is ",(0,t.jsx)("span",{className:"underline",children:"checked"})," and ",(0,t.jsx)("strong",{children:"Keep window open after playback finishes"})," is ",(0,t.jsx)("span",{className:"underline",children:"unchecked"})," in your IINA general settings."]})}),$[3]=Z,$[4]=d):d=$[4],$[5]!==d?(m=(0,t.jsxs)(h.KT,{children:[c,d]}),$[5]=d,$[6]=m):m=$[6],$[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(h.KT,{title:"Playback",children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoPlayNextEpisode",label:"Automatically play next episode",help:"If enabled, Seanime will play the next episode after a delay when the current episode is completed."})}),$[7]=g):g=$[7],$[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(p.D0.Text,{name:"mediaPlayerHost",label:"Host",help:"VLC/MPC-HC"}),$[8]=x):x=$[8];let Q=null==X||null==(l=X.settings)||null==(a=l.mediaPlayer)?void 0:a.defaultPlayer;$[9]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)(N.$m,{children:(0,t.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,t.jsx)(T.FKC,{})," VLC"]})}),$[9]=y):y=$[9],$[10]===Symbol.for("react.memo_cache_sentinel")?(v=(0,t.jsx)(p.D0.Text,{name:"vlcUsername",label:"Username"}),f=(0,t.jsx)(p.D0.Text,{name:"vlcPassword",label:"Password"}),$[10]=f,$[11]=v):(f=$[10],v=$[11]),$[12]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsxs)(N.As,{value:"vlc",children:[y,(0,t.jsxs)(N.ub,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[v,f,(0,t.jsx)(p.D0.Number,{name:"vlcPort",label:"Port",formatOptions:{useGrouping:!1},hideControls:!0})]}),(0,t.jsx)(p.D0.Text,{name:"vlcPath",label:"Application path"})]})]}),$[12]=j):j=$[12],$[13]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)(N.$m,{children:(0,t.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,t.jsx)(T.vVs,{})," MPC-HC"]})}),$[13]=C):C=$[13],$[14]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsxs)(N.As,{value:"mpc-hc",children:[C,(0,t.jsx)(N.ub,{children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)(p.D0.Number,{name:"mpcPort",label:"Port",formatOptions:{useGrouping:!1},hideControls:!0}),(0,t.jsx)(p.D0.Text,{name:"mpcPath",label:"Application path"})]})})]}),$[14]=P):P=$[14],$[15]===Symbol.for("react.memo_cache_sentinel")?(k=(0,t.jsx)(N.$m,{children:(0,t.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,t.jsx)(A.UfV,{className:"mr-1 text-purple-100"})," MPV"]})}),$[15]=k):k=$[15];let J="Default: '".concat((0,D.Cc)(null!=(r=null==X?void 0:X.os)?r:""),"'");$[16]!==J?(_=(0,t.jsx)(p.D0.Text,{name:"mpvSocket",label:"Socket",placeholder:J}),$[16]=J,$[17]=_):_=$[17];let Y=(null==X?void 0:X.os)==="windows"?"e.g. C:/Program Files/mpv/mpv.exe":(null==X?void 0:X.os)==="darwin"?"e.g. /Applications/mpv.app/Contents/MacOS/mpv":"Defaults to CLI";$[18]!==Y?(I=(0,t.jsx)(p.D0.Text,{name:"mpvPath",label:"Application path",placeholder:Y,help:"Leave empty to use the CLI."}),$[18]=Y,$[19]=I):I=$[19],$[20]!==_||$[21]!==I?(R=(0,t.jsxs)("div",{className:"flex gap-4",children:[_,I]}),$[20]=_,$[21]=I,$[22]=R):R=$[22],$[23]===Symbol.for("react.memo_cache_sentinel")?(E=(0,t.jsx)("div",{children:(0,t.jsx)(p.D0.Text,{name:"mpvArgs",label:"Options",placeholder:"e.g. --no-config --mute=yes"})}),$[23]=E):E=$[23],$[24]!==R?(H=(0,t.jsxs)(N.As,{value:"mpv",children:[k,(0,t.jsxs)(N.ub,{children:[R,E]})]}),$[24]=R,$[25]=H):H=$[25],$[26]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsx)(N.$m,{children:(0,t.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,t.jsx)(M._yA,{className:"mr-1 text-purple-100"})," IINA"]})}),$[26]=B):B=$[26];let ee="Default: '".concat((0,D.aD)(null!=(s=null==X?void 0:X.os)?s:""),"'");return $[27]!==ee?(U=(0,t.jsx)(p.D0.Text,{name:"iinaSocket",label:"Socket",placeholder:ee}),$[27]=ee,$[28]=U):U=$[28],$[29]===Symbol.for("react.memo_cache_sentinel")?(K=(0,t.jsx)(p.D0.Text,{name:"iinaPath",label:"CLI path",placeholder:"Path to the IINA CLI",help:"Leave empty to use the CLI."}),$[29]=K):K=$[29],$[30]!==U?(O=(0,t.jsxs)("div",{className:"flex gap-4",children:[U,K]}),$[30]=U,$[31]=O):O=$[31],$[32]===Symbol.for("react.memo_cache_sentinel")?(F=(0,t.jsx)("div",{children:(0,t.jsx)(p.D0.Text,{name:"iinaArgs",label:"Options",placeholder:"e.g. --mpv-mute=yes"})}),$[32]=F):F=$[32],$[33]!==O?(G=(0,t.jsxs)(N.As,{value:"iina",children:[B,(0,t.jsxs)(N.ub,{children:[O,F]})]}),$[33]=O,$[34]=G):G=$[34],$[35]!==H||$[36]!==G||$[37]!==Q?(q=(0,t.jsxs)(h.KT,{title:"Configuration",children:[x,(0,t.jsxs)(N.nD,{type:"single",className:"",triggerClass:"text-[--muted] dark:data-[state=open]:text-white px-0 dark:hover:bg-transparent hover:bg-transparent dark:hover:text-white hover:text-black",itemClass:"",contentClass:"p-4 border rounded-[--radius-md]",collapsible:!0,defaultValue:Q,children:[j,P,H,G]})]}),$[35]=H,$[36]=G,$[37]=Q,$[38]=q):q=$[38],$[39]!==W?(V=(0,t.jsx)(w,{isPending:W}),$[39]=W,$[40]=V):V=$[40],$[41]!==q||$[42]!==V||$[43]!==m?(z=(0,t.jsxs)(t.Fragment,{children:[o,m,g,q,V]}),$[41]=q,$[42]=V,$[43]=m,$[44]=z):z=$[44],z}function E(){let e,a,l,r,s,i,o=(0,n.c)(12),{externalPlayerLink:c,setExternalPlayerLink:d,encodePath:u,setEncodePath:g}=(0,m._V)();return o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(h.Gb,{title:"External player link",description:"Send streams to an external player on this device.",icon:L.a3$}),o[0]=e):e=o[0],o[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(b.F,{intent:"info",description:(0,t.jsx)(t.Fragment,{children:"Only applies to this device."})}),o[1]=a):a=o[1],o[2]!==c||o[3]!==d?(l=(0,t.jsx)(h.KT,{children:(0,t.jsx)(_.k,{label:"Custom scheme",placeholder:"Example: outplayer://{url}",value:c,onValueChange:d})}),o[2]=c,o[3]=d,o[4]=l):l=o[4],o[5]!==u||o[6]!==g?(r=(0,t.jsx)(h.KT,{children:(0,t.jsx)(k.d,{side:"right",name:"encodePath",label:"Encode file path in URL (library only)",help:"If enabled, the file path will be base64 encoded in the URL to avoid issues with special characters.",value:u,onValueChange:g})}),o[5]=u,o[6]=g,o[7]=r):r=o[7],o[8]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 dark:bg-gray-900/30 rounded-lg p-3 border border-gray-200 dark:border-gray-800 border-dashed",children:[(0,t.jsx)(I.bKs,{className:"text-base"}),(0,t.jsx)("span",{children:"Settings are saved automatically"})]}),o[8]=s):s=o[8],o[9]!==l||o[10]!==r?(i=(0,t.jsxs)(t.Fragment,{children:[e,a,l,r,s]}),o[9]=l,o[10]=r,o[11]=i):i=o[11],i}var H=l(71689);let B=(0,y.eU)("seanime");var U=l(94077),K=l(70376),O=l(41452),F=l(69554);function G(e){var a,l,r,s;let i,o,c,d,p,y,v,S,j,C,w,P,N,_,D,T,A,M,R,E,G,q,V,z,$,W,X,Z,Q,J,Y,ee,ea,el,et,en,er,es,ei,eo,ec,ed,eu,em=(0,n.c)(95),eh=(0,u.v1)(),{downloadedMediaPlayback:eb,setDownloadedMediaPlayback:eg,torrentStreamingPlayback:ex,setTorrentStreamingPlayback:ep,electronPlaybackMethod:ey,setElectronPlaybackMethod:ef}=(0,m.zw)(),{activeOnDevice:ev,setActiveOnDevice:eS}=(0,H.NY)(),{externalPlayerLink:ej}=(0,m._V)(),eC=(0,f.Xr)(B),ew=U.nH&&ey===m.Ft.NativePlayer;em[0]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(h.Gb,{title:"Video playback",description:"Choose how anime is played on this device",icon:L.Ubi}),em[0]=i):i=em[0],em[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(K.Yh,{className:"text-lg text-gray-500"}),c=(0,t.jsx)("span",{className:"text-gray-600 dark:text-gray-400",children:"Device:"}),em[1]=o,em[2]=c):(o=em[1],c=em[2]);let eP=(null==eh?void 0:eh.clientDevice)||"-";em[3]!==eP?(d=(0,t.jsx)("span",{className:"font-medium",children:eP}),em[3]=eP,em[4]=d):d=em[4],em[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,t.jsx)("span",{className:"text-gray-400",children:"â€¢"}),em[5]=p):p=em[5];let eN=(null==eh?void 0:eh.clientPlatform)||"-";em[6]!==eN?(y=(0,t.jsx)("span",{className:"font-medium",children:eN}),em[6]=eN,em[7]=y):y=em[7],em[8]!==d||em[9]!==y?(v=(0,t.jsxs)("div",{className:"space-y-4",children:[i,(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-gray-50 dark:bg-gray-900/50 rounded-lg p-3 border border-gray-200 dark:border-gray-800",children:[o,c,d,p,y]})]}),em[8]=d,em[9]=y,em[10]=v):v=em[10],em[11]!==eb||em[12]!==ej||em[13]!==eC||em[14]!==ex?(S=!ej&&(eb===m.Dc.ExternalPlayerLink||ex===m.kG.ExternalPlayerLink)&&(0,t.jsx)(b.F,{intent:"alert-basic",description:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsx)("span",{children:"No external player custom scheme has been set"}),(0,t.jsx)(g.$n,{intent:"gray-outline",size:"sm",onClick:()=>eC("external-player-link"),children:"Add"})]})}),em[11]=eb,em[12]=ej,em[13]=eC,em[14]=ex,em[15]=S):S=em[15],em[16]!==ey||em[17]!==ef?(j=U.nH&&(0,t.jsx)(h.KT,{title:"Seanime Denshi",className:"border-2 border-dashed dark:border-gray-700 bg-gradient-to-r from-indigo-50/50 to-pink-50/50 dark:from-gray-900/20 dark:to-gray-900/20",children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"p-3 rounded-lg bg-gradient-to-br from-indigo-500/20 to-indigo-500/20 border border-indigo-500/20",children:(0,t.jsx)(L.B8t,{className:"text-2xl text-indigo-600 dark:text-indigo-400"})}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsx)(k.d,{label:"Use built-in player",help:"When enabled, all media playback will use the built-in player (overrides settings below)",value:ey===m.Ft.NativePlayer,onValueChange:e=>{ef(e?m.Ft.NativePlayer:m.Ft.Default),F.oR.success("Playback settings updated")}})})]})})}),em[16]=ey,em[17]=ef,em[18]=j):j=em[18];let ek=ew&&"hidden";em[19]!==ek?(C=(0,x.cn)("transition-all duration-200",ek),em[19]=ek,em[20]=C):C=em[20];let e_=eb!==m.Dc.Default||ev?"border-gray-700 hover:border-gray-600":"border-[--brand] bg-brand-900/10";em[21]!==e_?(w=(0,x.cn)("p-4 rounded-lg border cursor-pointer transition-all",e_),em[21]=e_,em[22]=w):w=em[22],em[23]!==eS||em[24]!==eg?(P=()=>{eg(m.Dc.Default),eS(!1),F.oR.success("Playback settings updated")},em[23]=eS,em[24]=eg,em[25]=P):P=em[25],em[26]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(L.MO,{className:"text-xl text-brand-600 dark:text-brand-400 mt-1"}),em[26]=N):N=em[26],em[27]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[N,(0,t.jsx)("div",{className:"flex-1 space-y-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Desktop Media Player"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Opens files in your system player with automatic tracking"})]})})]}),em[27]=_):_=em[27],em[28]!==w||em[29]!==P?(D=(0,t.jsx)("div",{className:w,onClick:P,children:_}),em[28]=w,em[29]=P,em[30]=D):D=em[30];let eD=eb===m.Dc.Default&&ev?"border-[--brand] bg-brand-900/10":"border-gray-700 hover:border-gray-600",eT=!(null==eh||null==(a=eh.mediastreamSettings)?void 0:a.transcodeEnabled)&&"opacity-50";em[31]!==eD||em[32]!==eT?(T=(0,x.cn)("p-4 rounded-lg border cursor-pointer transition-all",eD,eT),em[31]=eD,em[32]=eT,em[33]=T):T=em[33],em[34]!==(null==eh||null==(l=eh.mediastreamSettings)?void 0:l.transcodeEnabled)||em[35]!==eS||em[36]!==eg?(A=()=>{var e;(null==eh||null==(e=eh.mediastreamSettings)?void 0:e.transcodeEnabled)&&(eg(m.Dc.Default),eS(!0),F.oR.success("Playback settings updated"))},em[34]=null==eh||null==(s=eh.mediastreamSettings)?void 0:s.transcodeEnabled,em[35]=eS,em[36]=eg,em[37]=A):A=em[37],em[38]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)(O.hv2,{className:"text-xl text-brand-600 dark:text-brand-400 mt-1"}),em[38]=M):M=em[38],em[39]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)("p",{className:"font-medium",children:"Transcoding / Direct Play"}),em[39]=R):R=em[39];let eA=(null==eh||null==(r=eh.mediastreamSettings)?void 0:r.transcodeEnabled)?"Plays in browser with transcoding":"Transcoding not enabled";em[40]!==eA?(E=(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[M,(0,t.jsx)("div",{className:"flex-1 space-y-2",children:(0,t.jsxs)("div",{children:[R,(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:eA})]})})]}),em[40]=eA,em[41]=E):E=em[41],em[42]!==T||em[43]!==A||em[44]!==E?(G=(0,t.jsx)("div",{className:T,onClick:A,children:E}),em[42]=T,em[43]=A,em[44]=E,em[45]=G):G=em[45];let eM=eb===m.Dc.ExternalPlayerLink?"border-[--brand] bg-brand-900/10":"border-gray-700 hover:border-gray-600";em[46]!==eM?(q=(0,x.cn)("p-4 rounded-lg border cursor-pointer transition-all",eM),em[46]=eM,em[47]=q):q=em[47],em[48]!==eg?(V=()=>{eg(m.Dc.ExternalPlayerLink),F.oR.success("Playback settings updated")},em[48]=eg,em[49]=V):V=em[49],em[50]===Symbol.for("react.memo_cache_sentinel")?(z=(0,t.jsx)(L.TdP,{className:"text-xl text-brand-600 dark:text-brand-400 mt-1"}),em[50]=z):z=em[50],em[51]===Symbol.for("react.memo_cache_sentinel")?($=(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[z,(0,t.jsx)("div",{className:"flex-1 space-y-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"External Player Link"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Send stream URL to another application"})]})})]}),em[51]=$):$=em[51],em[52]!==q||em[53]!==V?(W=(0,t.jsx)("div",{className:q,onClick:V,children:$}),em[52]=q,em[53]=V,em[54]=W):W=em[54],em[55]!==D||em[56]!==G||em[57]!==W?(X=(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[D,G,W]})}),em[55]=D,em[56]=G,em[57]=W,em[58]=X):X=em[58],em[59]!==C||em[60]!==X?(Z=(0,t.jsx)(h.KT,{title:"Downloaded Media",description:"Choose how to play anime files stored on your device",className:C,children:X}),em[59]=C,em[60]=X,em[61]=Z):Z=em[61];let eL=ew&&"hidden";em[62]!==eL?(Q=(0,x.cn)("transition-all duration-200",eL),em[62]=eL,em[63]=Q):Q=em[63];let eI=ex===m.kG.Default?"border-[--brand] bg-brand-900/10":"border-gray-700 hover:border-gray-600";em[64]!==eI?(J=(0,x.cn)("p-4 rounded-lg border cursor-pointer transition-all",eI),em[64]=eI,em[65]=J):J=em[65],em[66]!==ep?(Y=()=>{ep(m.kG.Default),F.oR.success("Playback settings updated")},em[66]=ep,em[67]=Y):Y=em[67],em[68]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,t.jsx)(L.MO,{className:"text-xl text-brand-600 dark:text-brand-400 mt-1"}),em[68]=ee):ee=em[68],em[69]===Symbol.for("react.memo_cache_sentinel")?(ea=(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[ee,(0,t.jsx)("div",{className:"flex-1 space-y-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Desktop Media Player"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Opens streams in your system player with automatic tracking"})]})})]}),em[69]=ea):ea=em[69],em[70]!==J||em[71]!==Y?(el=(0,t.jsx)("div",{className:J,onClick:Y,children:ea}),em[70]=J,em[71]=Y,em[72]=el):el=em[72];let eR=ex===m.kG.ExternalPlayerLink?"border-[--brand] bg-brand-900/10":"border-gray-700 hover:border-gray-600";return em[73]!==eR?(et=(0,x.cn)("p-4 rounded-lg border cursor-pointer transition-all",eR),em[73]=eR,em[74]=et):et=em[74],em[75]!==ep?(en=()=>{ep(m.kG.ExternalPlayerLink),F.oR.success("Playback settings updated")},em[75]=ep,em[76]=en):en=em[76],em[77]===Symbol.for("react.memo_cache_sentinel")?(er=(0,t.jsx)(L.TdP,{className:"text-xl text-brand-600 dark:text-brand-400 mt-1"}),em[77]=er):er=em[77],em[78]===Symbol.for("react.memo_cache_sentinel")?(es=(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[er,(0,t.jsx)("div",{className:"flex-1 space-y-2",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"External Player Link"}),(0,t.jsx)("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Send stream URL to another application"})]})})]}),em[78]=es):es=em[78],em[79]!==et||em[80]!==en?(ei=(0,t.jsx)("div",{className:et,onClick:en,children:es}),em[79]=et,em[80]=en,em[81]=ei):ei=em[81],em[82]!==el||em[83]!==ei?(eo=(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[el,ei]})}),em[82]=el,em[83]=ei,em[84]=eo):eo=em[84],em[85]!==Q||em[86]!==eo?(ec=(0,t.jsx)(h.KT,{title:"Torrent & Debrid Streaming",description:"Choose how to play streamed content from torrents and debrid services",className:Q,children:eo}),em[85]=Q,em[86]=eo,em[87]=ec):ec=em[87],em[88]===Symbol.for("react.memo_cache_sentinel")?(ed=(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500 bg-gray-50 dark:bg-gray-900/30 rounded-lg p-3 border border-gray-200 dark:border-gray-800 border-dashed",children:[(0,t.jsx)(I.bKs,{className:"text-base"}),(0,t.jsx)("span",{children:"Settings are saved automatically"})]}),em[88]=ed):ed=em[88],em[89]!==j||em[90]!==Z||em[91]!==ec||em[92]!==v||em[93]!==S?(eu=(0,t.jsxs)(t.Fragment,{children:[v,S,j,Z,ec,ed]}),em[89]=j,em[90]=Z,em[91]=ec,em[92]=v,em[93]=S,em[94]=eu):eu=em[94],eu}var q=l(45886),V=l(9478),z=l(76049),$=l(43756),W=l(58701),X=l(80893);function Z(e){let a,l,r,s,i,o,c,d,m,h,b,x,p=(0,n.c)(26),{mutate:y,isPending:f}=(0,V.D2)(),[S,j]=v.useState("");p[0]!==y||p[1]!==S?(a=function(){S&&y({dataFilePath:S},{onSuccess:()=>{j("")}})},p[0]=y,p[1]=S,p[2]=a):a=p[2];let C=a,{getHMACTokenQueryParam:w}=(0,u.OZ)();p[3]!==w?(l=async()=>{try{let e=await w("/api/v1/library/local-files/dump");(0,$.A)("".concat((0,q.M)(),"/api/v1/library/local-files/dump").concat(e))}catch(e){F.oR.error("Failed to generate export token")}},p[3]=w,p[4]=l):l=p[4];let P=l;return p[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{children:"Local files"}),(0,t.jsx)("p",{className:"text-[--muted]",children:"Scanned local file data."})]}),p[5]=r):r=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(X.iII,{className:"text-xl"}),p[6]=s):s=p[6],p[7]!==P||p[8]!==f?(i=(0,t.jsx)(g.$n,{intent:"primary-subtle",leftIcon:s,size:"md",disabled:f,onClick:P,children:"Export local file data"}),p[7]=P,p[8]=f,p[9]=i):i=p[9],p[10]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(W.I8R,{className:"text-xl"}),p[10]=o):o=p[10],p[11]!==f?(c=(0,t.jsx)(g.$n,{intent:"white-subtle",leftIcon:o,size:"md",disabled:f,children:"Import local files"}),p[11]=f,p[12]=c):c=p[12],p[13]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)("p",{children:"This will overwrite your existing library data, make sure you have a backup."}),p[13]=d):d=p[13],p[14]!==S?(m=(0,t.jsx)(_.k,{label:"Data file path",help:"The path to the JSON file containing the local file data.",value:S,onValueChange:j}),p[14]=S,p[15]=m):m=p[15],p[16]!==C||p[17]!==f?(h=(0,t.jsx)(g.$n,{intent:"white",rounded:!0,onClick:C,disabled:f,children:"Import"}),p[16]=C,p[17]=f,p[18]=h):h=p[18],p[19]!==c||p[20]!==m||p[21]!==h?(b=(0,t.jsxs)(z.a,{title:"Import local files",trigger:c,children:[d,m,h]}),p[19]=c,p[20]=m,p[21]=h,p[22]=b):b=p[22],p[23]!==b||p[24]!==i?(x=(0,t.jsxs)("div",{className:"space-y-4",children:[r,(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[i,b]})]}),p[23]=b,p[24]=i,p[25]=x):x=p[25],x}var Q=l(57073);function J(e){let a,l,r,s,i,o,c,d=(0,n.c)(8),{isPending:u}=e;return d[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(p.D0.DirectorySelector,{name:"libraryPath",label:"Library directory",leftIcon:(0,t.jsx)(T.WNP,{}),help:"Path of the directory where your media files ared located. (Keep the casing consistent)",shouldExist:!0}),d[0]=a):a=d[0],d[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,t.jsxs)(h.KT,{children:[a,(0,t.jsx)(p.D0.MultiDirectorySelector,{name:"libraryPaths",label:"Additional library directories",leftIcon:(0,t.jsx)(T.WNP,{}),help:"Include additional directory paths if your library is spread across multiple locations.",shouldExist:!0})]}),d[1]=l):l=d[1],d[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsxs)(h.KT,{children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoScan",label:"Automatically refresh library",moreHelp:(0,t.jsx)("p",{children:"When adding batches, not all files are guaranteed to be picked up."})}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"refreshLibraryOnStart",label:"Refresh library on startup"})]}),d[2]=r):r=d[2],d[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(N.$m,{className:"bg-gray-900 rounded-[--radius-md]",children:"Advanced"}),d[3]=s):s=d[3],d[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(p.D0.Select,{options:[{value:"-",label:"Levenshtein + Sorensen-Dice (Default)"},{value:"sorensen-dice",label:"Sorensen-Dice"},{value:"jaccard",label:"Jaccard"}],name:"scannerMatchingAlgorithm",label:"Matching algorithm",help:"Choose the algorithm used to match files to AniList entries."}),d[4]=i):i=d[4],d[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(N.nD,{type:"single",collapsible:!0,className:"border rounded-[--radius-md]",triggerClass:"dark:bg-[--paper]",contentClass:"!pt-2 dark:bg-[--paper]",children:(0,t.jsxs)(N.As,{value:"more",children:[s,(0,t.jsxs)(N.ub,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[i,(0,t.jsx)(p.D0.Number,{name:"scannerMatchingThreshold",label:"Matching threshold",placeholder:"0.5",help:"The minimum score required for a file to be matched to an AniList entry. Default is 0.5.",formatOptions:{minimumFractionDigits:1,maximumFractionDigits:1},max:1,step:.1})]}),(0,t.jsx)(Q.w,{}),(0,t.jsx)(Z,{})]})]})}),d[5]=o):o=d[5],d[6]!==u?(c=(0,t.jsxs)("div",{className:"space-y-4",children:[l,r,o,(0,t.jsx)(w,{isPending:u})]}),d[6]=u,d[7]=c):c=d[7],c}var Y=l(98802),ee=l(5249),ea=l(2091),el=l(65160);let et=(0,p.Jo)(e=>{let{z:a}=e;return a.object({enabled:a.boolean().default(!1),provider:a.string().default(""),apiKey:a.string().optional().default(""),includeDebridStreamInLibrary:a.boolean().default(!1),streamAutoSelect:a.boolean().default(!1),streamPreferredResolution:a.string()})});function en(e){var a,l,r,s,i,o,c,d,m;let g,x,y,f,S,j=(0,n.c)(20),C=(0,u.v1)(),{data:N,isLoading:k}=(0,Y.Ts)(),{mutate:_,isPending:D}=(0,Y.wO)(),T=v.useRef(null);if(k){let e;return j[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(ea.kt,{}),j[0]=e):e=j[0],e}j[1]===Symbol.for("react.memo_cache_sentinel")?(g=(0,t.jsx)(h.Gb,{title:"Debrid Service",description:"Configure your Debrid service integration",icon:el.hgf}),j[1]=g):g=j[1],j[2]!==_||j[3]!==N?(x=e=>{N&&_({settings:{...N,...e,provider:"-"===e.provider?"":e.provider,streamPreferredResolution:"-"===e.streamPreferredResolution?"":e.streamPreferredResolution}},{onSuccess:()=>{var e;null==(e=T.current)||e.reset(T.current.getValues()),F.oR.success("Settings saved")}})},j[2]=_,j[3]=N,j[4]=x):x=j[4];let A=null==N?void 0:N.enabled,M=(null==N?void 0:N.provider)||"-",I=null==N?void 0:N.apiKey,R=null==N?void 0:N.includeDebridStreamInLibrary,E=null!=(i=null==N?void 0:N.streamAutoSelect)&&i,H=(null==N?void 0:N.streamPreferredResolution)||"-";return j[5]!==A||j[6]!==M||j[7]!==I||j[8]!==R||j[9]!==E||j[10]!==H?(y={enabled:A,provider:M,apiKey:I,includeDebridStreamInLibrary:R,streamAutoSelect:E,streamPreferredResolution:H},j[5]=A,j[6]=M,j[7]=I,j[8]=R,j[9]=E,j[10]=H,j[11]=y):y=j[11],j[12]!==D||j[13]!==(null==C||null==(l=C.settings)||null==(a=l.autoDownloader)?void 0:a.enabled)||j[14]!==(null==C||null==(s=C.settings)||null==(r=s.autoDownloader)?void 0:r.useDebrid)?(f=e=>{var a,l,n,r;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{}),(0,t.jsxs)(h.KT,{children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"enabled",label:"Enable"}),e.watch("enabled")&&(null==C||null==(l=C.settings)||null==(a=l.autoDownloader)?void 0:a.enabled)&&!(null==C||null==(r=C.settings)||null==(n=r.autoDownloader)?void 0:n.useDebrid)&&(0,t.jsx)(b.F,{intent:"info",title:"Auto Downloader not using Debrid",description:(0,t.jsxs)("p",{children:["Auto Downloader is enabled but not using Debrid. Change the ",(0,t.jsx)(ee.i,{href:"/auto-downloader",className:"underline",children:"Auto Downloader settings"})," to use your Debrid service."]})})]}),(0,t.jsxs)(h.KT,{children:[(0,t.jsx)(p.D0.Select,{options:[{label:"None",value:"-"},{label:"TorBox",value:"torbox"},{label:"Real-Debrid",value:"realdebrid"}],name:"provider",label:"Provider"}),(0,t.jsx)(p.D0.Text,{name:"apiKey",label:"API Key"})]}),(0,t.jsx)(h.Gb,{title:"Debrid Streaming",description:"Configure how shows are streaming from your Debrid service",icon:L.Ubi}),(0,t.jsx)(h.KT,{title:"My library",children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"includeDebridStreamInLibrary",label:"Include in library",help:"Add non-downloaded shows that are in your currently watching list to 'My library' for streaming"})}),(0,t.jsxs)(h.KT,{title:"Auto-select",children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"streamAutoSelect",label:"Enable",help:"Let Seanime find the best torrent automatically, based on cache and resolution."}),(0,t.jsx)(p.D0.Select,{name:"streamPreferredResolution",label:"Preferred resolution",help:"If auto-select is enabled, Seanime will try to find torrents with this resolution.",options:[{label:"Highest",value:"-"},{label:"480p",value:"480"},{label:"720p",value:"720"},{label:"1080p",value:"1080"}]})]}),(0,t.jsx)(w,{isPending:D})]})},j[12]=D,j[13]=null==C||null==(c=C.settings)||null==(o=c.autoDownloader)?void 0:o.enabled,j[14]=null==C||null==(m=C.settings)||null==(d=m.autoDownloader)?void 0:d.useDebrid,j[15]=f):f=j[15],j[16]!==x||j[17]!==y||j[18]!==f?(S=(0,t.jsxs)("div",{className:"space-y-4",children:[g,(0,t.jsx)(p.lV,{schema:et,mRef:T,onSubmit:x,defaultValues:y,stackClass:"space-y-4",children:f})]}),j[16]=x,j[17]=y,j[18]=f,j[19]=S):S=j[19],S}var er=l(7675),es=l(74889);function ei(e){let a,l,r,s,i,o,c,d,u,m,b,x,p,y,f=(0,n.c)(36),{data:v,mutate:S,isPending:j}=function(){let e,a=(0,n.c)(1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:es.S.FILECACHE.GetFileCacheTotalSize.endpoint,method:es.S.FILECACHE.GetFileCacheTotalSize.methods[0],mutationKey:[es.S.FILECACHE.GetFileCacheTotalSize.key]},a[0]=e):e=a[0],(0,er.qk)(e)}();f[0]!==S?(a=()=>{S()},f[0]=S,f[1]=a):a=f[1];let{mutate:C,isPending:w}=function(e){let a,l,t=(0,n.c)(3);return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[es.S.FILECACHE.RemoveFileCacheBucket.key],t[0]=a):a=t[0],t[1]!==e?(l={endpoint:es.S.FILECACHE.RemoveFileCacheBucket.endpoint,method:es.S.FILECACHE.RemoveFileCacheBucket.methods[0],mutationKey:a,onSuccess:async()=>{F.oR.success("Cache cleared"),null==e||e()}},t[1]=e,t[2]=l):l=t[2],(0,er.qk)(l)}(a);f[2]!==S?(l=()=>{S()},f[2]=S,f[3]=l):l=f[3];let{mutate:P,isPending:N}=function(e){let a,l,t=(0,n.c)(3);return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[es.S.FILECACHE.ClearFileCacheMediastreamVideoFiles.key],t[0]=a):a=t[0],t[1]!==e?(l={endpoint:es.S.FILECACHE.ClearFileCacheMediastreamVideoFiles.endpoint,method:es.S.FILECACHE.ClearFileCacheMediastreamVideoFiles.methods[0],mutationKey:a,onSuccess:async()=>{F.oR.success("Cache cleared"),null==e||e()}},t[1]=e,t[2]=l):l=t[2],(0,er.qk)(l)}(l),k=w||N;return f[4]!==S?(r=()=>S(),f[4]=S,f[5]=r):r=f[5],f[6]!==j||f[7]!==r?(s=(0,t.jsx)(g.$n,{intent:"white-subtle",size:"sm",onClick:r,disabled:j,children:"Show total size"}),f[6]=j,f[7]=r,f[8]=s):s=f[8],f[9]!==v?(i=!!v&&(0,t.jsx)("p",{children:v}),f[9]=v,f[10]=i):i=f[10],f[11]!==s||f[12]!==i?(o=(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[s,i]}),f[11]=s,f[12]=i,f[13]=o):o=f[13],f[14]!==C?(c=()=>C({bucket:"manga"}),f[14]=C,f[15]=c):c=f[15],f[16]!==k||f[17]!==c?(d=(0,t.jsx)(g.$n,{intent:"warning-subtle",onClick:c,disabled:k,children:"Clear manga cache"}),f[16]=k,f[17]=c,f[18]=d):d=f[18],f[19]!==P?(u=()=>P(),f[19]=P,f[20]=u):u=f[20],f[21]!==k||f[22]!==u?(m=(0,t.jsx)(g.$n,{intent:"warning-subtle",onClick:u,disabled:k,children:"Clear media streaming cache"}),f[21]=k,f[22]=u,f[23]=m):m=f[23],f[24]!==C?(b=()=>C({bucket:"onlinestream"}),f[24]=C,f[25]=b):b=f[25],f[26]!==k||f[27]!==b?(x=(0,t.jsx)(g.$n,{intent:"warning-subtle",onClick:b,disabled:k,children:"Clear online streaming cache"}),f[26]=k,f[27]=b,f[28]=x):x=f[28],f[29]!==x||f[30]!==d||f[31]!==m?(p=(0,t.jsx)(h.KT,{children:(0,t.jsxs)("div",{className:"flex gap-2 flex-wrap items-center",children:[d,m,x]})}),f[29]=x,f[30]=d,f[31]=m,f[32]=p):p=f[32],f[33]!==p||f[34]!==o?(y=(0,t.jsxs)("div",{className:"space-y-4",children:[o,p]}),f[33]=p,f[34]=o,f[35]=y):y=f[35],y}var eo=l(86726),ec=l(64742),ed=l(81036),eu=l(76136),em=l(30033),eh=l(3692);function eb(e){let a,l,r,s,i,o,c,d,u,m,b,x,p,y,f,S,j,C,w,P=(0,n.c)(34);P[0]===Symbol.for("react.memo_cache_sentinel")?(a=[],P[0]=a):a=P[0];let[N,k]=v.useState(a);P[1]===Symbol.for("react.memo_cache_sentinel")?(l={},P[1]=l):l=P[1];let[_,D]=v.useState(l);P[2]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{k(e.data)},P[2]=r):r=P[2];let T=r,[A,M]=v.useState(""),{data:L,isLoading:I}=(0,eo.g5)(),{mutate:R,isPending:E}=(0,eo.sh)();if(P[3]!==L){var H;i=null!=(H=null==L?void 0:L.map(ey))?H:[],P[3]=L,P[4]=i}else i=P[4];s=i,P[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,ed.$f)(ex),P[5]=c):c=P[5],o=c;let{handleCopyLatestLogs:B}=(0,ec.h)();P[6]!==B?(d=(0,t.jsx)("div",{className:"pb-3",children:(0,t.jsx)(g.$n,{intent:"white-subtle",onClick:B,children:"Copy current server logs"})}),P[6]=B,P[7]=d):d=P[7];let U="seanime-"===A?"seanime-":"-scan"===A?"-scan":"-";return P[8]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{M("-"===e?"":e)},u=[{value:"-",label:"All"},{value:"seanime-",label:"Server"},{value:"-scan",label:"Scanner"}],P[8]=u,P[9]=m):(u=P[8],m=P[9]),P[10]!==U?(b=(0,t.jsx)(em.l,{value:U,onValueChange:m,options:u}),P[10]=U,P[11]=b):b=P[11],P[12]!==R||P[13]!==E||P[14]!==N?(x=N.length>0&&(0,t.jsx)("div",{className:"flex items-center space-x-2",children:(0,t.jsx)(g.$n,{onClick:()=>R({filenames:N.map(eg)},{onSuccess:()=>{k([]),D({})}}),intent:"alert",loading:E,size:"sm",children:"Delete selected"})}),P[12]=R,P[13]=E,P[14]=N,P[15]=x):x=P[15],P[16]===Symbol.for("react.memo_cache_sentinel")?(p={pagination:{pageIndex:0,pageSize:5}},P[16]=p):p=P[16],P[17]!==A||P[18]!==_?(y={rowSelection:_,globalFilter:A},P[17]=A,P[18]=_,P[19]=y):y=P[19],P[20]===Symbol.for("react.memo_cache_sentinel")?(f=[],P[20]=f):f=P[20],P[21]!==s||P[22]!==E||P[23]!==I||P[24]!==y?(S=(0,t.jsx)(ed.zh,{data:s,columns:o,rowCount:s.length,isLoading:I,isDataMutating:E,rowSelectionPrimaryKey:"name",enableRowSelection:!0,initialState:p,state:y,hideGlobalSearchInput:!0,hideColumns:f,onRowSelect:T,onRowSelectionChange:D,onGlobalFilterChange:M,className:""}),P[21]=s,P[22]=E,P[23]=I,P[24]=y,P[25]=S):S=P[25],P[26]!==b||P[27]!==x||P[28]!==S||P[29]!==d?(j=(0,t.jsxs)(h.KT,{children:[d,b,x,S]}),P[26]=b,P[27]=x,P[28]=S,P[29]=d,P[30]=j):j=P[30],P[31]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)(eS,{}),P[31]=C):C=P[31],P[32]!==j?(w=(0,t.jsxs)(t.Fragment,{children:[j,C]}),P[32]=j,P[33]=w):w=P[33],w}function eg(e){return e.name}function ex(){return[{accessorKey:"name",header:"Name",cell:ep}]}function ep(e){return(0,t.jsx)(ef,{filename:e.getValue()})}function ey(e){return{name:e}}function ef(e){let a,l,r,s,i,o,c,d,u,m,h,b=(0,n.c)(26),{filename:x}=e,[p,y]=v.useState(!1),f="/api/v1/log/".concat(e.filename);b[0]!==e.filename?(a=["STATUS-get-log-content",e.filename],b[0]=e.filename,b[1]=a):a=b[1],b[2]!==p||b[3]!==f||b[4]!==a?(l={endpoint:f,method:"GET",queryKey:a,enabled:p},b[2]=p,b[3]=f,b[4]=a,b[5]=l):l=b[5];let{data:S,isPending:j}=(0,er.fl)(l);b[6]!==S?(r=function(){S&&(navigator.clipboard.writeText(S),F.oR.success("Copied to clipboard"))},b[6]=S,b[7]=r):r=b[7];let C=r;return b[8]===Symbol.for("react.memo_cache_sentinel")?(s=()=>y(!0),b[8]=s):s=b[8],b[9]!==x?(i=(0,t.jsx)("p",{onClick:s,className:"cursor-pointer hover:text-[--muted]",children:x}),b[9]=x,b[10]=i):i=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(o=e=>y(e),b[11]=o):o=b[11],b[12]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(eh.paH,{}),b[12]=c):c=b[12],b[13]!==C?(d=(0,t.jsx)(g.$n,{onClick:C,intent:"gray-outline",leftIcon:c,className:"w-fit",children:"Copy to clipboard"}),b[13]=C,b[14]=d):d=b[14],b[15]!==S||b[16]!==j?(u=j?(0,t.jsx)(ea.kt,{}):(0,t.jsx)("div",{className:"bg-gray-900 rounded-[--radius-md] border max-w-full overflow-x-auto",children:(0,t.jsx)("pre",{className:"text-md max-h-[40rem] p-2 min-h-12 whitespace-pre-wrap break-all",children:null==S?void 0:S.split("\n").map(ev)})}),b[15]=S,b[16]=j,b[17]=u):u=b[17],b[18]!==x||b[19]!==p||b[20]!==d||b[21]!==u?(m=(0,t.jsxs)(z.a,{open:p,title:x,onOpenChange:o,contentClass:"max-w-5xl",children:[d,u]}),b[18]=x,b[19]=p,b[20]=d,b[21]=u,b[22]=m):m=b[22],b[23]!==m||b[24]!==i?(h=(0,t.jsxs)(t.Fragment,{children:[i,m]}),b[23]=m,b[24]=i,b[25]=h):h=b[25],h}function ev(e,a){return(0,t.jsx)("p",{className:(0,x.cn)("w-full",a%2==0?"bg-gray-800":"bg-gray-900",e.includes("|ERR|")&&"text-white bg-red-800",e.includes("|WRN|")&&"text-orange-500",e.includes("|INF|")&&"text-blue-200",e.includes("|TRC|")&&"text-[--muted]"),children:e},a)}function eS(){let e,a,l,r,s,i,o,c,d,u,m,b,x,p,y,f,S,C,w,P,N,k,_,D,T,A,M,L,I,R,E,H,B,U,O,F,G=(0,n.c)(76),[q,V]=v.useState(30),{data:z,refetch:$,isLoading:W}=(0,eo.Sv)(),{mutate:X,isPending:Z}=(0,eo.J8)(),{mutate:J,isPending:Y}=(0,eo.mE)(),{mutate:ee,isPending:el}=(0,eo.mE)(),{mutate:et,isPending:en}=(0,eo.hz)(),{mutate:er,isPending:es}=(0,eo.TM)(),ei=ej;G[0]!==$?(e=()=>{$()},G[0]=$,G[1]=e):e=G[1];let ec=e;G[2]!==X?(a=()=>{X()},G[2]=X,G[3]=a):a=G[3];let ed=a;G[4]!==J?(l=()=>{J({profileType:"heap"})},G[4]=J,G[5]=l):l=G[5];let em=l;G[6]!==ee?(r=()=>{ee({profileType:"allocs"})},G[6]=ee,G[7]=r):r=G[7];let eb=r;G[8]!==et?(s=()=>{et()},G[8]=et,G[9]=s):s=G[9];let eg=s;G[10]!==q||G[11]!==er?(i=()=>{er({duration:q})},G[10]=q,G[11]=er,G[12]=i):i=G[12];let ex=i;return G[13]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Memory Statistics"}),G[13]=o):o=G[13],G[14]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(K.Zxy,{className:"text-xl"}),G[14]=c):c=G[14],G[15]!==ec||G[16]!==W?(d=(0,t.jsx)(g.$n,{intent:"white-subtle",size:"sm",leftIcon:c,onClick:ec,loading:W,children:"Refresh"}),G[15]=ec,G[16]=W,G[17]=d):d=G[17],G[18]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(j.IXo,{}),G[18]=u):u=G[18],G[19]!==ed||G[20]!==Z?(m=(0,t.jsx)(g.$n,{intent:"gray-outline",size:"sm",leftIcon:u,onClick:ed,loading:Z,children:"Force GC"}),G[19]=ed,G[20]=Z,G[21]=m):m=G[21],G[22]!==m||G[23]!==d?(b=(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[o,(0,t.jsxs)("div",{className:"flex gap-2",children:[d,m]})]}),G[22]=m,G[23]=d,G[24]=b):b=G[24],G[25]!==z?(x=z&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[(0,t.jsx)("div",{className:"text-sm text-[--muted]",children:"Heap Allocated"}),(0,t.jsx)("div",{className:"text-xl font-medium",children:ei(z.heapAlloc)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[(0,t.jsx)("div",{className:"text-sm text-[--muted]",children:"Heap In Use"}),(0,t.jsx)("div",{className:"text-xl font-medium",children:ei(z.heapInuse)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[(0,t.jsx)("div",{className:"text-sm text-[--muted]",children:"Heap System"}),(0,t.jsx)("div",{className:"text-xl font-medium",children:ei(z.heapSys)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[(0,t.jsx)("div",{className:"text-sm text-[--muted]",children:"Total Allocated"}),(0,t.jsx)("div",{className:"text-xl font-medium",children:ei(z.totalAlloc)})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[(0,t.jsx)("div",{className:"text-sm text-[--muted]",children:"Goroutines"}),(0,t.jsx)("div",{className:"text-xl font-medium",children:z.numGoroutine})]}),(0,t.jsxs)("div",{className:"bg-gray-800 p-4 rounded-md",children:[(0,t.jsx)("div",{className:"text-sm text-[--muted]",children:"GC Cycles"}),(0,t.jsx)("div",{className:"text-xl font-medium",children:z.numGC})]})]}),G[25]=z,G[26]=x):x=G[26],G[27]!==W||G[28]!==z?(p=!z&&!W&&(0,t.jsx)("div",{className:"text-center py-4 text-[--muted]",children:'Click "Refresh" to load memory statistics'}),G[27]=W,G[28]=z,G[29]=p):p=G[29],G[30]!==W?(y=W&&(0,t.jsx)("div",{className:"flex justify-center py-4",children:(0,t.jsx)(ea.kt,{})}),G[30]=W,G[31]=y):y=G[31],G[32]!==b||G[33]!==x||G[34]!==p||G[35]!==y?(f=(0,t.jsxs)("div",{children:[b,x,p,y]}),G[32]=b,G[33]=x,G[34]=p,G[35]=y,G[36]=f):f=G[36],G[37]===Symbol.for("react.memo_cache_sentinel")?(S=(0,t.jsx)(Q.w,{}),G[37]=S):S=G[37],G[38]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsxs)("h4",{className:"text-md font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(eh.FZ6,{className:"text-blue-400"}),"Memory"]}),G[38]=C):C=G[38],G[39]===Symbol.for("react.memo_cache_sentinel")?(w=(0,t.jsx)(j.a4x,{}),G[39]=w):w=G[39],G[40]!==em||G[41]!==Y?(P=(0,t.jsx)(g.$n,{intent:"gray-subtle",size:"sm",leftIcon:w,onClick:em,loading:Y,children:"Heap Profile"}),G[40]=em,G[41]=Y,G[42]=P):P=G[42],G[43]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsx)(j.a4x,{}),G[43]=N):N=G[43],G[44]!==eb||G[45]!==el?(k=(0,t.jsx)(g.$n,{intent:"gray-subtle",size:"sm",leftIcon:N,onClick:eb,loading:el,children:"Allocations Profile"}),G[44]=eb,G[45]=el,G[46]=k):k=G[46],G[47]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(j.a4x,{}),G[47]=_):_=G[47],G[48]!==eg||G[49]!==en?(D=(0,t.jsx)(g.$n,{intent:"gray-subtle",size:"sm",leftIcon:_,onClick:eg,loading:en,children:"Goroutine Profile"}),G[48]=eg,G[49]=en,G[50]=D):D=G[50],G[51]!==P||G[52]!==k||G[53]!==D?(T=(0,t.jsxs)("div",{children:[C,(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[P,k,D]})]}),G[51]=P,G[52]=k,G[53]=D,G[54]=T):T=G[54],G[55]===Symbol.for("react.memo_cache_sentinel")?(A=(0,t.jsx)(Q.w,{}),G[55]=A):A=G[55],G[56]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsxs)("h4",{className:"text-md font-medium mb-2 flex items-center gap-2",children:[(0,t.jsx)(eh.UIU,{className:"text-green-400"}),"CPU"]}),G[56]=M):M=G[56],G[57]===Symbol.for("react.memo_cache_sentinel")?(L=e=>V(e||30),G[57]=L):L=G[57],G[58]!==q?(I=(0,t.jsx)(eu.Q,{label:"Duration (seconds)",value:q,onValueChange:L,min:1,max:300,className:"w-32",size:"sm"}),G[58]=q,G[59]=I):I=G[59],G[60]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsx)(j.a4x,{}),G[60]=R):R=G[60],G[61]!==ex||G[62]!==es?(E=(0,t.jsx)(g.$n,{intent:"gray-outline",size:"sm",leftIcon:R,onClick:ex,loading:es,children:"Download CPU Profile"}),G[61]=ex,G[62]=es,G[63]=E):E=G[63],G[64]!==I||G[65]!==E?(H=(0,t.jsxs)("div",{className:"space-y-2",children:[I,E]}),G[64]=I,G[65]=E,G[66]=H):H=G[66],G[67]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsx)("p",{className:"text-xs text-[--muted] mt-1",children:"CPU profiling will run for the specified duration (1-300 seconds)"}),G[67]=B):B=G[67],G[68]!==H?(U=(0,t.jsxs)("div",{children:[M,H,B]}),G[68]=H,G[69]=U):U=G[69],G[70]!==T||G[71]!==U?(O=(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"space-y-4",children:[T,A,U]})}),G[70]=T,G[71]=U,G[72]=O):O=G[72],G[73]!==f||G[74]!==O?(F=(0,t.jsx)(h.KT,{title:"Profiling",children:(0,t.jsxs)("div",{className:"space-y-6",children:[f,S,O]})}),G[73]=f,G[74]=O,G[75]=F):F=G[75],F}function ej(e){if(0===e)return"0 B";let a=Math.floor(Math.log(e)/Math.log(1024));return"".concat(parseFloat((e/Math.pow(1024,a)).toFixed(2))," ").concat(["B","KB","MB","GB","TB"][a])}function eC(e){let a,l,r,i,o,c,d,u,m,b,g,x=(0,n.c)(16),{isPending:y}=e,{data:f}=(0,s.LW)();if(x[0]===Symbol.for("react.memo_cache_sentinel")?(l={label:"Auto",value:"-"},x[0]=l):l=x[0],x[1]!==f){var v;r=[l,...(null!=(v=null==f?void 0:f.map(eP))?v:[]).sort(ew)],x[1]=f,x[2]=r}else r=x[2];return a=r,x[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(h.Gb,{title:"Manga",description:"Manage your manga library",icon:L.Z5q}),x[3]=i):i=x[3],x[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(h.KT,{children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"enableManga",label:(0,t.jsx)("span",{className:"flex gap-1 items-center",children:"Enable"}),help:"Read manga series, download chapters and track your progress."})}),x[4]=o):o=x[4],x[5]!==a?(c=(0,t.jsx)(p.D0.Select,{name:"defaultMangaProvider",label:"Default Provider",help:"Select the default provider for manga series.",options:a}),x[5]=a,x[6]=c):c=x[6],x[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(p.D0.Switch,{side:"right",name:"mangaAutoUpdateProgress",label:"Automatically update progress",help:"If enabled, your progress will be automatically updated when you reach the end of a chapter."}),x[7]=d):d=x[7],x[8]!==c?(u=(0,t.jsxs)(h.KT,{children:[c,d]}),x[8]=c,x[9]=u):u=x[9],x[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(h.KT,{title:"Local",description:"Local manga provider",children:(0,t.jsx)(p.D0.DirectorySelector,{name:"mangaLocalSourceDirectory",label:"Local Source Directory",help:"The directory where your manga is stored. This is only used for local manga provider."})}),x[10]=m):m=x[10],x[11]!==y?(b=(0,t.jsx)(w,{isPending:y}),x[11]=y,x[12]=b):b=x[12],x[13]!==u||x[14]!==b?(g=(0,t.jsxs)(t.Fragment,{children:[i,o,u,m,b]}),x[13]=u,x[14]=b,x[15]=g):g=x[15],g}function ew(e,a){return e.label.localeCompare(a.label)}function eP(e){return{label:e.name,value:e.id}}var eN=l(44304);let ek=(0,p.Jo)(e=>{let{z:a}=e;return a.object({transcodeEnabled:a.boolean(),transcodeHwAccel:a.string(),transcodePreset:a.string().min(2),disableAutoSwitchToDirectPlay:a.boolean(),directPlayOnly:a.boolean(),ffmpegPath:a.string().min(0),ffprobePath:a.string().min(0),transcodeHwAccelCustomSettings:a.string().min(0)})}),e_=[{label:"CPU (Disabled)",value:"cpu"},{label:"NVIDIA (NVENC)",value:"nvidia"},{label:"Intel (QSV)",value:"qsv"},{label:"VAAPI",value:"vaapi"},{label:"Apple VideoToolbox",value:"videotoolbox"},{label:"Custom",value:"custom"}],eD=[{label:"Ultrafast",value:"ultrafast"},{label:"Superfast",value:"superfast"},{label:"Veryfast",value:"veryfast"},{label:"Fast",value:"fast"},{label:"Medium",value:"medium"}];function eT(e){var a,l,r;let s,i,o,c,d,m=(0,n.c)(20);(0,u.v1)();let{data:b}=(0,eN.lC)(!0),{mutate:g,isPending:x}=(0,eN.kA)();(0,H.NY)();let y=v.useRef(null);if(!b){let e;return m[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsx)(ea.kt,{}),m[0]=e):e=m[0],e}m[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(h.Gb,{title:"Transcoding / Direct Play",description:"Manage transcoding and direct play settings",icon:L.FQ9}),m[1]=s):s=m[1],m[2]!==g||m[3]!==b?(i=e=>{b&&g({settings:{...b,...e,preTranscodeLibraryDir:"",preTranscodeEnabled:!1,transcodeThreads:0}},{onSuccess:()=>{var e;null==(e=y.current)||e.reset(y.current.getValues())}})},m[2]=g,m[3]=b,m[4]=i):i=m[4];let f=null!=(a=null==b?void 0:b.transcodeEnabled)&&a,S=(null==b?void 0:b.transcodeHwAccel)==="none"?"cpu":(null==b?void 0:b.transcodeHwAccel)||"cpu",j=(null==b?void 0:b.transcodePreset)||"fast",C=null!=(l=null==b?void 0:b.disableAutoSwitchToDirectPlay)&&l,N=null!=(r=null==b?void 0:b.directPlayOnly)&&r,k=(null==b?void 0:b.ffmpegPath)||"",_=(null==b?void 0:b.ffprobePath)||"",D=(null==b?void 0:b.transcodeHwAccelCustomSettings)||'{\n	"name": "",\n	"decodeFlags": [\n		"-hwaccel", "",\n		"-hwaccel_output_format", "",\n	],\n	"encodeFlags": [\n		"-c:v", "",\n		"-preset", "",\n		"-pix_fmt", "yuv420p",\n	],\n	"scaleFilter": "scale=%d:%d"\n}';return m[5]!==f||m[6]!==S||m[7]!==j||m[8]!==C||m[9]!==N||m[10]!==k||m[11]!==_||m[12]!==D?(o={transcodeEnabled:f,transcodeHwAccel:S,transcodePreset:j,disableAutoSwitchToDirectPlay:C,directPlayOnly:N,ffmpegPath:k,ffprobePath:_,transcodeHwAccelCustomSettings:D},m[5]=f,m[6]=S,m[7]=j,m[8]=C,m[9]=N,m[10]=k,m[11]=_,m[12]=D,m[13]=o):o=m[13],m[14]!==x?(c=e=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{}),(0,t.jsx)(h.KT,{children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"transcodeEnabled",label:"Enable"})}),(0,t.jsxs)(h.KT,{title:"Direct Play",children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"disableAutoSwitchToDirectPlay",label:"Prefer transcoding",help:"If enabled, Seanime will not automatically switch to direct play if the media codec is supported by the client."}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"directPlayOnly",label:"Direct play only",help:"Only allow direct play. Transcoding will never be started."})]}),(0,t.jsxs)(h.KT,{title:"Transcoding",children:[(0,t.jsx)(p.D0.Select,{options:e_,name:"transcodeHwAccel",label:"Hardware acceleration",help:"Hardware acceleration is highly recommended for a smoother transcoding experience."}),"custom"===e.watch("transcodeHwAccel")&&(0,t.jsx)(p.D0.Textarea,{name:"transcodeHwAccelCustomSettings",label:"Custom settings (JSON)",className:"min-h-[400px]",help:"Video stream only, scaleFilter = -vf, -map,-bufsize,-b:v,-maxrate automatically applied."}),(0,t.jsx)(p.D0.Select,{options:eD,name:"transcodePreset",label:"Transcode preset",help:"'Fast' is recommended. VAAPI does not support presets."})]}),(0,t.jsx)(h.KT,{title:"FFmpeg",children:(0,t.jsxs)("div",{className:"flex gap-3 items-center",children:[(0,t.jsx)(p.D0.Text,{name:"ffmpegPath",label:"FFmpeg path",help:"Path to the FFmpeg binary. Leave empty if binary is already in your PATH."}),(0,t.jsx)(p.D0.Text,{name:"ffprobePath",label:"FFprobe path",help:"Path to the FFprobe binary. Leave empty if binary is already in your PATH."})]})}),(0,t.jsx)(w,{isPending:x})]}),m[14]=x,m[15]=c):c=m[15],m[16]!==i||m[17]!==o||m[18]!==c?(d=(0,t.jsxs)(t.Fragment,{children:[s,(0,t.jsx)(p.lV,{schema:ek,mRef:y,onSubmit:i,defaultValues:o,stackClass:"space-y-4",children:c})]}),m[16]=i,m[17]=o,m[18]=c,m[19]=d):d=m[19],d}var eA=l(42094),eM=l(20051),eL=l(81845),eI=l(75733);function eR(e){var a,l;let r,s,i,o,c,d,m,y,v,j,C,P,N,_,D,T,A,M,I,R,E,H,B,U,K,O,F,G,q,V,z,$=(0,n.c)(59),{isPending:W}=e,X=(0,u.v1)(),[Z,J]=(0,f.fp)(eL.NL),Y=(0,S.xW)(),{mutate:ee,isPending:ea}=(0,eM.bA)(),{data:el}=(0,eA.z4)(),{mutate:et,isPending:en}=(0,eA.t5)();$[0]!==ee?(r={title:"Upload to AniList",description:"This will upload your local Seanime collection to your AniList account. Are you sure you want to proceed?",actionText:"Upload",actionIntent:"primary",onConfirm:async()=>{ee()}},$[0]=ee,$[1]=r):r=$[1];let er=(0,eI.J)(r);$[2]!==el?(s=!el&&(0,t.jsx)(b.F,{intent:"warning-basic",description:(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{children:"The AniList API is not working. All requests will be served from the cache."}),(0,t.jsx)("p",{children:"You can disable this in the app settings."})]}),className:"fixed top-4 right-4 z-[50] hidden lg:block"}),$[2]=el,$[3]=s):s=$[3],$[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoUpdateProgress",label:"Automatically update progress",help:"If enabled, your progress will be automatically updated when you watch 80% of an episode.",moreHelp:"Only applies to desktop and integrated players."}),o=(0,t.jsx)(p.D0.Switch,{side:"right",name:"enableWatchContinuity",label:"Enable watch history",help:"If enabled, Seanime will remember your watch progress and resume from where you left off.",moreHelp:"Only applies to desktop and integrated players."}),c=(0,t.jsx)(p.D0.Switch,{side:"right",name:"disableAnimeCardTrailers",label:"Disable anime card trailers",help:""}),d=(0,t.jsx)(Q.w,{}),m=(0,t.jsx)(p.D0.Switch,{side:"right",name:"hideAudienceScore",label:"Hide audience score",help:"If enabled, the audience score will be hidden until you decide to view it."}),y=(0,t.jsx)(p.D0.Switch,{side:"right",name:"enableAdultContent",label:"Enable adult content",help:"If disabled, adult content will be hidden from search results and your library."}),$[4]=i,$[5]=o,$[6]=c,$[7]=d,$[8]=m,$[9]=y):(i=$[4],o=$[5],c=$[6],d=$[7],m=$[8],y=$[9]);let es=!Y.watch("enableAdultContent")&&"opacity-50";$[10]!==es?(v=(0,x.cn)(es),$[10]=es,$[11]=v):v=$[11],$[12]!==v?(j=(0,t.jsxs)(h.KT,{children:[i,o,c,d,m,y,(0,t.jsx)(p.D0.Switch,{side:"right",name:"blurAdultContent",label:"Blur adult content",help:"If enabled, adult content will be blurred.",fieldClass:v})]}),$[12]=v,$[13]=j):j=$[13];let ei=(null==X||null==(a=X.user)?void 0:a.isSimulated)&&"opacity-50 pointer-events-none";$[14]!==ei?(C=(0,x.cn)(ei),$[14]=ei,$[15]=C):C=$[15],$[16]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoSyncToLocalAccount",label:"Auto backup lists from AniList",help:"If enabled, your local lists will be periodically updated by using your AniList data."}),$[16]=P):P=$[16],$[17]!==C?(N=(0,t.jsx)("div",{className:C,children:P}),$[17]=C,$[18]=N):N=$[18],$[19]===Symbol.for("react.memo_cache_sentinel")?(_=(0,t.jsx)(Q.w,{}),$[19]=_):_=$[19],$[20]===Symbol.for("react.memo_cache_sentinel")?(D=(0,t.jsx)(L.g4b,{className:"size-4"}),$[20]=D):D=$[20],$[21]!==er?(T=()=>{er.open()},$[21]=er,$[22]=T):T=$[22];let eo=null==X||null==(l=X.user)?void 0:l.isSimulated;return $[23]!==ea||$[24]!==T||$[25]!==eo?(A=(0,t.jsx)(g.$n,{size:"sm",intent:"primary-subtle",loading:ea,leftIcon:D,onClick:T,disabled:eo,children:"Upload local lists to AniList"}),$[23]=ea,$[24]=T,$[25]=eo,$[26]=A):A=$[26],$[27]!==N||$[28]!==A?(M=(0,t.jsxs)(h.KT,{title:"Local Data",description:"Local data is used when you're not using an AniList account.",children:[N,_,A]}),$[27]=N,$[28]=A,$[29]=M):M=$[29],$[30]!==er?(I=(0,t.jsx)(eI.K,{...er}),$[30]=er,$[31]=I):I=$[31],$[32]===Symbol.for("react.memo_cache_sentinel")?(R=(0,t.jsxs)(h.KT,{title:"Offline mode",description:"Only available when authenticated with AniList.",children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoSyncOfflineLocalData",label:"Download metadata automatically for offline use",help:"If disabled, you will need to manually refresh your local metadata by clicking 'Sync now' in the offline mode page.",moreHelp:"Will be paused if you have made changes offline and have not synced them to AniList yet."}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoSaveCurrentMediaOffline",label:"Save all currently watched/read media for offline use",help:"If enabled, Seanime will automatically save all media you're currently watching/reading for offline use."})]}),$[32]=R):R=$[32],$[33]===Symbol.for("react.memo_cache_sentinel")?(E=[{label:"Open command palette",value:"meta+j",altValue:"q"}],$[33]=E):E=$[33],$[34]!==J||$[35]!==Z?(H=(0,t.jsx)(h.KT,{title:"Keyboard shortcuts",children:(0,t.jsx)("div",{className:"space-y-4",children:E.map(e=>(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)("label",{className:"text-[--gray]",children:(0,t.jsx)("span",{className:"font-semibold",children:e.label})}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(g.$n,{onKeyDownCapture:e=>{if(e.preventDefault(),e.stopPropagation(),!["Control","Shift","Meta","Command","Alt","Option"].includes(e.key)){let a="".concat(e.metaKey?"meta+":"").concat(e.ctrlKey?"ctrl+":"").concat(e.altKey?"alt+":"").concat(e.shiftKey?"shift+":"").concat(e.key.toLowerCase().replace("arrow","").replace("insert","ins").replace("delete","del").replace(" ","space").replace("+","plus"));J(e=>[a,e[1]])}},className:"focus:ring-2 focus:ring-[--brand] focus:ring-offset-1",size:"sm",intent:"white-subtle",children:Z[0]}),(0,t.jsx)("span",{className:"text-[--muted]",children:"or"}),(0,t.jsx)(g.$n,{onKeyDownCapture:e=>{if(e.preventDefault(),e.stopPropagation(),!["Control","Shift","Meta","Command","Alt","Option"].includes(e.key)){let a="".concat(e.metaKey?"meta+":"").concat(e.ctrlKey?"ctrl+":"").concat(e.altKey?"alt+":"").concat(e.shiftKey?"shift+":"").concat(e.key.toLowerCase().replace("arrow","").replace("insert","ins").replace("delete","del").replace(" ","space").replace("+","plus"));J(e=>[e[0],a])}},className:"focus:ring-2 focus:ring-[--brand] focus:ring-offset-1",size:"sm",intent:"white-subtle",children:Z[1]})]}),("meta+j"!==Z[0]||"q"!==Z[1])&&(0,t.jsx)(g.$n,{onClick:()=>{J(["meta+j","q"])},className:"rounded-full",size:"sm",intent:"white-basic",leftIcon:(0,t.jsx)(eh.Swo,{}),children:"Reset"})]},e.label))})}),$[34]=J,$[35]=Z,$[36]=H):H=$[36],$[37]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsx)(p.D0.Switch,{side:"right",name:"openWebURLOnStart",label:"Open localhost web URL on startup"}),U=(0,t.jsx)(p.D0.Switch,{side:"right",name:"disableNotifications",label:"Disable system notifications",moreHelp:"Notifications shown by the OS when Seanime runs the auto-downloader or auto-scanner."}),K=(0,t.jsx)(p.D0.Switch,{side:"right",name:"disableCacheLayer",label:"Disable AniList caching",help:"If enabled, Seanime will stop caching AniList requests to disk.",moreHelp:"By default, all requests made to AniList are cached. This allows Seanime to keep being usable when AniList goes down. The cache directory is modifiable in the config file."}),$[37]=B,$[38]=U,$[39]=K):(B=$[37],U=$[38],K=$[39]),$[40]!==Y||$[41]!==el||$[42]!==en||$[43]!==et?(O=!Y.watch("disableCacheLayer")&&(0,t.jsx)("div",{children:(0,t.jsx)(k.d,{value:!el,onValueChange:e=>et(),disabled:en,label:"Use cache-only mode",moreHelp:"Seanime will use cached data instead of making API requests."})}),$[40]=Y,$[41]=el,$[42]=en,$[43]=et,$[44]=O):O=$[44],$[45]===Symbol.for("react.memo_cache_sentinel")?(F=(0,t.jsx)(Q.w,{}),G=(0,t.jsx)(p.D0.Switch,{side:"right",name:"disableUpdateCheck",label:"Do not check for updates",help:"If enabled, Seanime will not check for new releases."}),$[45]=F,$[46]=G):(F=$[45],G=$[46]),$[47]!==O?(q=(0,t.jsxs)(h.KT,{title:"App",children:[B,U,K,O,F,G]}),$[47]=O,$[48]=q):q=$[48],$[49]!==W?(V=(0,t.jsx)(w,{isPending:W}),$[49]=W,$[50]=V):V=$[50],$[51]!==s||$[52]!==j||$[53]!==M||$[54]!==I||$[55]!==H||$[56]!==q||$[57]!==V?(z=(0,t.jsxs)("div",{className:"space-y-4",children:[s,j,M,I,R,H,q,V]}),$[51]=s,$[52]=j,$[53]=M,$[54]=I,$[55]=H,$[56]=q,$[57]=V,$[58]=z):z=$[58],z}(0,x.cn)("block border border-[--border] cursor-pointer transition overflow-hidden w-full","bg-gray-50 hover:bg-[--subtle] dark:bg-gray-950 border-dashed","data-[checked=false]:opacity-30","data-[checked=true]:bg-white dark:data-[checked=true]:bg-gray-950","focus:ring-2 ring-brand-100 dark:ring-brand-900 ring-offset-1 ring-offset-[--background] focus-within:ring-2 transition","data-[checked=true]:border data-[checked=true]:ring-offset-0"),(0,x.cn)("hidden");var eE=l(67187);let eH=(0,p.Jo)(e=>{let{z:a}=e;return a.object({enabled:a.boolean(),downloadDir:a.string(),autoSelect:a.boolean(),disableIPv6:a.boolean(),addToLibrary:a.boolean(),torrentClientHost:a.string().optional().default(""),torrentClientPort:a.number(),preferredResolution:a.string(),includeInLibrary:a.boolean(),streamUrlAddress:a.string().optional().default(""),slowSeeding:a.boolean().optional().default(!1)})});function eB(e){let a,l,r,s,i,c,d,u,m,b,x,y,f,S,j,C,k,_,D,A,M=(0,n.c)(42),{settings:L}=e,{mutate:I,isPending:R}=(0,o.c3)(),{mutate:E,isPending:H}=(0,o.T2)(),B=v.useRef(null);if(!L)return null;M[0]!==I||M[1]!==L?(a=e=>{L&&I({settings:{...L,...e,preferredResolution:"-"===e.preferredResolution?"":e.preferredResolution}},{onSuccess:()=>{var e;null==(e=B.current)||e.reset(B.current.getValues()),F.oR.success("Settings saved")}})},M[0]=I,M[1]=L,M[2]=a):a=M[2];let U=L.downloadDir||"",K=L.torrentClientHost||"",O=L.preferredResolution||"-",G=L.streamUrlAddress||"";return M[3]!==L.addToLibrary||M[4]!==L.autoSelect||M[5]!==L.disableIPV6||M[6]!==L.enabled||M[7]!==L.includeInLibrary||M[8]!==L.slowSeeding||M[9]!==L.torrentClientPort||M[10]!==U||M[11]!==K||M[12]!==O||M[13]!==G?(l={enabled:L.enabled,autoSelect:L.autoSelect,downloadDir:U,disableIPv6:L.disableIPV6,addToLibrary:L.addToLibrary,torrentClientHost:K,torrentClientPort:L.torrentClientPort,preferredResolution:O,includeInLibrary:L.includeInLibrary,streamUrlAddress:G,slowSeeding:L.slowSeeding},M[3]=L.addToLibrary,M[4]=L.autoSelect,M[5]=L.disableIPV6,M[6]=L.enabled,M[7]=L.includeInLibrary,M[8]=L.slowSeeding,M[9]=L.torrentClientPort,M[10]=U,M[11]=K,M[12]=O,M[13]=G,M[14]=l):l=M[14],M[15]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(P,{}),M[15]=r):r=M[15],M[16]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(h.KT,{children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"enabled",label:"Enable"})}),M[16]=s):s=M[16],M[17]===Symbol.for("react.memo_cache_sentinel")?(i=(0,t.jsx)(h.KT,{title:"My library",children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"includeInLibrary",label:"Include in library",help:"Add non-downloaded shows that are in your currently watching list to 'My library' for streaming"})}),M[17]=i):i=M[17],M[18]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoSelect",label:"Enable",help:"Let Seanime find the best torrent automatically."}),M[18]=c):c=M[18],M[19]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsxs)(h.KT,{title:"Auto-select",children:[c,(0,t.jsx)(p.D0.Select,{name:"preferredResolution",label:"Preferred resolution",help:"If auto-select is enabled, Seanime will try to find torrents with this resolution.",options:[{label:"Highest",value:"-"},{label:"480p",value:"480"},{label:"720p",value:"720"},{label:"1080p",value:"1080"}]})]}),M[19]=d):d=M[19],M[20]===Symbol.for("react.memo_cache_sentinel")?(u=(0,t.jsx)(N.$m,{className:"bg-gray-900 rounded-[--radius-md]",children:"Torrent Client"}),M[20]=u):u=M[20],M[21]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(p.D0.Text,{name:"torrentClientHost",label:"Host",help:"Leave empty for default. The host to listen for new uTP and TCP BitTorrent connections."}),M[21]=m):m=M[21],M[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,t.jsx)(N.nD,{type:"single",collapsible:!0,className:"border rounded-[--radius-md]",triggerClass:"dark:bg-[--paper]",contentClass:"!pt-2 dark:bg-[--paper]",children:(0,t.jsxs)(N.As,{value:"more",children:[u,(0,t.jsxs)(N.ub,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[m,(0,t.jsx)(p.D0.Number,{name:"torrentClientPort",label:"Port",formatOptions:{useGrouping:!1},help:"Leave empty for default. Default is 43213."})]}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"disableIPv6",label:"Disable IPv6"}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"slowSeeding",label:"Slow seeding",moreHelp:"This can help avoid issues with your network."})]})]})}),M[22]=b):b=M[22],M[23]===Symbol.for("react.memo_cache_sentinel")?(x=(0,t.jsx)(N.$m,{className:"bg-gray-900 rounded-[--radius-md]",children:"Advanced"}),M[23]=x):x=M[23],M[24]===Symbol.for("react.memo_cache_sentinel")?(y=(0,t.jsx)(p.D0.Text,{name:"streamUrlAddress",label:"Stream URL address",placeholder:"e.g. 0.0.0.0:43211",help:"Modify the stream URL formatting. Leave empty for default."}),M[24]=y):y=M[24],M[25]===Symbol.for("react.memo_cache_sentinel")?(f=(0,t.jsx)(N.nD,{type:"single",collapsible:!0,className:"border rounded-[--radius-md]",triggerClass:"dark:bg-[--paper]",contentClass:"!pt-2 dark:bg-[--paper]",children:(0,t.jsxs)(N.As,{value:"more",children:[x,(0,t.jsxs)(N.ub,{className:"pt-6 space-y-4",children:[y,(0,t.jsx)(p.D0.DirectorySelector,{name:"downloadDir",label:"Cache directory",leftIcon:(0,t.jsx)(T.WNP,{}),help:"Where the torrents will be downloaded to while streaming. Leave empty to use the default cache directory.",shouldExist:!0})]})]})}),M[25]=f):f=M[25],M[26]!==R?(S=(0,t.jsx)(w,{isPending:R}),M[26]=R,M[27]=S):S=M[27],M[28]===Symbol.for("react.memo_cache_sentinel")?(j=(0,t.jsx)("div",{className:"flex flex-1"}),M[28]=j):j=M[28],M[29]===Symbol.for("react.memo_cache_sentinel")?(C=(0,t.jsx)(eE.gC$,{}),M[29]=C):C=M[29],M[30]!==E?(k=()=>E(),M[30]=E,M[31]=k):k=M[31],M[32]!==H||M[33]!==k?(_=(0,t.jsx)(g.$n,{leftIcon:C,intent:"alert-subtle",onClick:k,disabled:H,children:"Drop torrent"}),M[32]=H,M[33]=k,M[34]=_):_=M[34],M[35]!==S||M[36]!==_?(D=(0,t.jsxs)("div",{className:"flex w-full items-center",children:[S,j,_]}),M[35]=S,M[36]=_,M[37]=D):D=M[37],M[38]!==a||M[39]!==D||M[40]!==l?(A=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(p.lV,{schema:eH,mRef:B,onSubmit:a,defaultValues:l,stackClass:"space-y-4",children:[r,s,i,d,b,f,D]})}),M[38]=a,M[39]=D,M[40]=l,M[41]=A):A=M[41],A}var eU=l(46278),eK=l(39758),eO=l(1949),eF=l(23391),eG=l(85210),eq=l(91332);let eV=[{name:"Seanime",backgroundColor:"#070707",accentColor:"#6152df"},{name:"Midnight",backgroundColor:"#000",accentColor:"#5649bb"},{name:"Deep purple",backgroundColor:"#0a050d",accentColor:"#8659c9"},{name:"Desert flower",backgroundColor:"#090e11",accentColor:"#c08b57"},{name:"Pink",backgroundColor:"#0f060c",accentColor:"#bb5889"},{name:"Sun",backgroundColor:"#0b0803",accentColor:"#c17e21"},{name:"JJK",backgroundColor:"#0c0d10",accentColor:"#8c1d1d"},{name:"Rainforest",backgroundColor:"#050d0c",accentColor:"#1d975a"}];var ez=l(41459),e$=l(21842);let eW=(0,p.Jo)(e=>{let{z:a}=e;return a.object({animeEntryScreenLayout:a.string().min(0).default(eq.HK.animeEntryScreenLayout),smallerEpisodeCarouselSize:a.boolean().default(eq.HK.smallerEpisodeCarouselSize),expandSidebarOnHover:a.boolean().default(eq.HK.expandSidebarOnHover),enableColorSettings:a.boolean().default(!1),backgroundColor:a.string().min(0).default(eq.HK.backgroundColor).transform(e=>e.trim()),accentColor:a.string().min(0).default(eq.HK.accentColor).transform(e=>e.trim()),sidebarBackgroundColor:a.string().min(0).default(eq.HK.sidebarBackgroundColor),hideTopNavbar:a.boolean().default(eq.HK.hideTopNavbar),enableMediaCardBlurredBackground:a.boolean().default(eq.HK.enableMediaCardBlurredBackground),libraryScreenBannerType:a.string().default(eq.HK.libraryScreenBannerType),libraryScreenCustomBannerImage:a.string().default(eq.HK.libraryScreenCustomBannerImage),libraryScreenCustomBannerPosition:a.string().default(eq.HK.libraryScreenCustomBannerPosition),libraryScreenCustomBannerOpacity:a.number().transform(e=>0===e?100:e).default(eq.HK.libraryScreenCustomBannerOpacity),libraryScreenCustomBackgroundImage:a.string().default(eq.HK.libraryScreenCustomBackgroundImage),libraryScreenCustomBackgroundOpacity:a.number().transform(e=>0===e?100:e).default(eq.HK.libraryScreenCustomBackgroundOpacity),libraryScreenCustomBackgroundBlur:a.string().default(eq.HK.libraryScreenCustomBackgroundBlur),enableMediaPageBlurredBackground:a.boolean().default(eq.HK.enableMediaPageBlurredBackground),disableSidebarTransparency:a.boolean().default(eq.HK.disableSidebarTransparency),disableLibraryScreenGenreSelector:a.boolean().default(!1),useLegacyEpisodeCard:a.boolean().default(eq.HK.useLegacyEpisodeCard),disableCarouselAutoScroll:a.boolean().default(eq.HK.disableCarouselAutoScroll),mediaPageBannerType:a.string().default(eq.HK.mediaPageBannerType),mediaPageBannerSize:a.string().default(eq.HK.mediaPageBannerSize),mediaPageBannerInfoBoxSize:a.string().default(eq.HK.mediaPageBannerInfoBoxSize),showEpisodeCardAnimeInfo:a.boolean().default(eq.HK.showEpisodeCardAnimeInfo),continueWatchingDefaultSorting:a.string().default(eq.HK.continueWatchingDefaultSorting),animeLibraryCollectionDefaultSorting:a.string().default(eq.HK.animeLibraryCollectionDefaultSorting),mangaLibraryCollectionDefaultSorting:a.string().default(eq.HK.mangaLibraryCollectionDefaultSorting),showAnimeUnwatchedCount:a.boolean().default(eq.HK.showAnimeUnwatchedCount),showMangaUnreadCount:a.boolean().default(eq.HK.showMangaUnreadCount),hideEpisodeCardDescription:a.boolean().default(eq.HK.hideEpisodeCardDescription),hideDownloadedEpisodeCardFilename:a.boolean().default(eq.HK.hideDownloadedEpisodeCardFilename),customCSS:a.string().default(eq.HK.customCSS),mobileCustomCSS:a.string().default(eq.HK.mobileCustomCSS),unpinnedMenuItems:a.array(a.string()).default(eq.HK.unpinnedMenuItems)})}),eX=(0,e$.tG)("sea-ui-settings-fix-border-rendering-artifacts",!1),eZ=(0,y.eU)("main"),eQ=(0,x.cn)("w-full contents space-y-4"),eJ=(0,x.cn)("text-base px-6 rounded-[--radius-md] w-fit border-none data-[state=active]:bg-[--subtle] data-[state=active]:text-white dark:hover:text-white","h-10 lg:justify-center px-3 flex-1"),eY=(0,x.cn)("w-full flex flex-row lg:flex-row flex-wrap h-fit"),e0=(0,x.cn)("space-y-4 animate-in fade-in-0 duration-300");function e1(){var e,a,l,r;let s=(0,eq.Ky)(),i=(0,u.v1)(),{mutate:o,isPending:c}=function(){let e,a,l=(0,n.c)(3),t=(0,eU.jE)();return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=[es.S.THEME.UpdateTheme.key],l[0]=e):e=l[0],l[1]!==t?(a={endpoint:es.S.THEME.UpdateTheme.endpoint,method:es.S.THEME.UpdateTheme.methods[0],mutationKey:e,onSuccess:async()=>{await t.invalidateQueries({queryKey:[es.S.STATUS.GetStatus.key]}),F.oR.success("UI settings saved")}},l[1]=t,l[2]=a):a=l[2],(0,er.qk)(a)}(),[d,m]=(0,f.fp)(eX),[y,j]=(0,v.useState)(!1),[C,w]=(0,f.fp)(eZ),N=v.useRef(null),{customCSS:_,setCustomCSS:D}=(0,eK.a)(),T=v.useCallback((e,a)=>{if(!y)return;let l=document.querySelector(":root");l.style.setProperty("--background",e),l.style.setProperty("--paper",(0,ez.Mj)(e).lighten(.025).toHex()),l.style.setProperty("--media-card-popup-background",(0,ez.Mj)(e).lighten(.025).toHex()),l.style.setProperty("--hover-from-background-color",(0,ez.Mj)(e).lighten(.025).desaturate(.05).toHex()),l.style.setProperty("--color-gray-400","".concat((0,ez.Mj)(e).lighten(.3).desaturate(.2).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.3).desaturate(.2).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.3).desaturate(.2).toRgb().b)),l.style.setProperty("--color-gray-500","".concat((0,ez.Mj)(e).lighten(.15).desaturate(.2).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.15).desaturate(.2).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.15).desaturate(.2).toRgb().b)),l.style.setProperty("--color-gray-600","".concat((0,ez.Mj)(e).lighten(.1).desaturate(.2).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.1).desaturate(.2).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.1).desaturate(.2).toRgb().b)),l.style.setProperty("--color-gray-700","".concat((0,ez.Mj)(e).lighten(.08).desaturate(.2).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.08).desaturate(.2).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.08).desaturate(.2).toRgb().b)),l.style.setProperty("--color-gray-800","".concat((0,ez.Mj)(e).lighten(.06).desaturate(.2).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.06).desaturate(.2).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.06).desaturate(.2).toRgb().b)),l.style.setProperty("--color-gray-900","".concat((0,ez.Mj)(e).lighten(.04).desaturate(.05).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.04).desaturate(.05).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.04).desaturate(.05).toRgb().b)),l.style.setProperty("--color-gray-950","".concat((0,ez.Mj)(e).lighten(.008).desaturate(.05).toRgb().r," ").concat((0,ez.Mj)(e).lighten(.008).desaturate(.05).toRgb().g," ").concat((0,ez.Mj)(e).lighten(.008).desaturate(.05).toRgb().b)),l.style.setProperty("--color-brand-200","".concat((0,ez.Mj)(a).lighten(.35).desaturate(.05).toRgb().r," ").concat((0,ez.Mj)(a).lighten(.35).desaturate(.05).toRgb().g," ").concat((0,ez.Mj)(a).lighten(.35).desaturate(.05).toRgb().b)),l.style.setProperty("--color-brand-300","".concat((0,ez.Mj)(a).lighten(.3).desaturate(.05).toRgb().r," ").concat((0,ez.Mj)(a).lighten(.3).desaturate(.05).toRgb().g," ").concat((0,ez.Mj)(a).lighten(.3).desaturate(.05).toRgb().b)),l.style.setProperty("--color-brand-400","".concat((0,ez.Mj)(a).lighten(.1).toRgb().r," ").concat((0,ez.Mj)(a).lighten(.1).toRgb().g," ").concat((0,ez.Mj)(a).lighten(.1).toRgb().b)),l.style.setProperty("--color-brand-500","".concat((0,ez.Mj)(a).toRgb().r," ").concat((0,ez.Mj)(a).toRgb().g," ").concat((0,ez.Mj)(a).toRgb().b)),l.style.setProperty("--color-brand-600","".concat((0,ez.Mj)(a).darken(.1).toRgb().r," ").concat((0,ez.Mj)(a).darken(.1).toRgb().g," ").concat((0,ez.Mj)(a).darken(.1).toRgb().b)),l.style.setProperty("--color-brand-700","".concat((0,ez.Mj)(a).darken(.15).toRgb().r," ").concat((0,ez.Mj)(a).darken(.15).toRgb().g," ").concat((0,ez.Mj)(a).darken(.15).toRgb().b)),l.style.setProperty("--color-brand-800","".concat((0,ez.Mj)(a).darken(.2).toRgb().r," ").concat((0,ez.Mj)(a).darken(.2).toRgb().g," ").concat((0,ez.Mj)(a).darken(.2).toRgb().b)),l.style.setProperty("--color-brand-900","".concat((0,ez.Mj)(a).darken(.25).toRgb().r," ").concat((0,ez.Mj)(a).darken(.25).toRgb().g," ").concat((0,ez.Mj)(a).darken(.25).toRgb().b)),l.style.setProperty("--color-brand-950","".concat((0,ez.Mj)(a).darken(.3).toRgb().r," ").concat((0,ez.Mj)(a).darken(.3).toRgb().g," ").concat((0,ez.Mj)(a).darken(.3).toRgb().b)),l.style.setProperty("--brand",(0,ez.Mj)(a).lighten(.35).desaturate(.1).toHex())},[y]);function A(){let e=(0,S.xW)(),a=(0,S.FH)({control:e.control,name:"accentColor"}),l=(0,S.FH)({control:e.control,name:"backgroundColor"});return v.useEffect(()=>{y&&T(l,a)},[y,l,a]),null}return(0,t.jsx)(p.lV,{schema:eW,mRef:N,onSubmit:e=>{if((0,ez.Mj)(e.backgroundColor).isLight())return void F.oR.error("Seanime does not support light themes");let a=null==s?void 0:s.enableColorSettings;o({theme:{id:0,...s,...e,libraryScreenCustomBackgroundBlur:"-"===e.libraryScreenCustomBackgroundBlur?"":e.libraryScreenCustomBackgroundBlur}},{onSuccess(){var l,t;e.enableColorSettings===a||e.enableColorSettings||window.location.reload(),null==(t=N.current)||t.reset(null==(l=N.current)?void 0:l.getValues())}}),D({customCSS:e.customCSS,mobileCustomCSS:e.mobileCustomCSS})},defaultValues:{enableColorSettings:null==s?void 0:s.enableColorSettings,animeEntryScreenLayout:null==s?void 0:s.animeEntryScreenLayout,smallerEpisodeCarouselSize:null==s?void 0:s.smallerEpisodeCarouselSize,expandSidebarOnHover:null==s?void 0:s.expandSidebarOnHover,backgroundColor:null==s?void 0:s.backgroundColor,accentColor:null==s?void 0:s.accentColor,sidebarBackgroundColor:null==s?void 0:s.sidebarBackgroundColor,hideTopNavbar:null==s?void 0:s.hideTopNavbar,enableMediaCardBlurredBackground:null==s?void 0:s.enableMediaCardBlurredBackground,libraryScreenBannerType:null==s?void 0:s.libraryScreenBannerType,libraryScreenCustomBannerImage:null==s?void 0:s.libraryScreenCustomBannerImage,libraryScreenCustomBannerPosition:null==s?void 0:s.libraryScreenCustomBannerPosition,libraryScreenCustomBannerOpacity:null==s?void 0:s.libraryScreenCustomBannerOpacity,libraryScreenCustomBackgroundImage:null==s?void 0:s.libraryScreenCustomBackgroundImage,libraryScreenCustomBackgroundOpacity:null==s?void 0:s.libraryScreenCustomBackgroundOpacity,disableLibraryScreenGenreSelector:null==s?void 0:s.disableLibraryScreenGenreSelector,libraryScreenCustomBackgroundBlur:(null==s?void 0:s.libraryScreenCustomBackgroundBlur)||"-",enableMediaPageBlurredBackground:null==s?void 0:s.enableMediaPageBlurredBackground,disableSidebarTransparency:null==s?void 0:s.disableSidebarTransparency,useLegacyEpisodeCard:null==s?void 0:s.useLegacyEpisodeCard,disableCarouselAutoScroll:null==s?void 0:s.disableCarouselAutoScroll,mediaPageBannerType:null!=(e=null==s?void 0:s.mediaPageBannerType)?e:eq.px.Default,mediaPageBannerSize:null!=(a=null==s?void 0:s.mediaPageBannerSize)?a:eq.px.Default,mediaPageBannerInfoBoxSize:null!=(l=null==s?void 0:s.mediaPageBannerInfoBoxSize)?l:eq.px.Default,showEpisodeCardAnimeInfo:null==s?void 0:s.showEpisodeCardAnimeInfo,continueWatchingDefaultSorting:null==s?void 0:s.continueWatchingDefaultSorting,animeLibraryCollectionDefaultSorting:null==s?void 0:s.animeLibraryCollectionDefaultSorting,mangaLibraryCollectionDefaultSorting:null==s?void 0:s.mangaLibraryCollectionDefaultSorting,showAnimeUnwatchedCount:null==s?void 0:s.showAnimeUnwatchedCount,showMangaUnreadCount:null==s?void 0:s.showMangaUnreadCount,hideEpisodeCardDescription:null==s?void 0:s.hideEpisodeCardDescription,hideDownloadedEpisodeCardFilename:null==s?void 0:s.hideDownloadedEpisodeCardFilename,customCSS:null==s?void 0:s.customCSS,mobileCustomCSS:null==s?void 0:s.mobileCustomCSS,unpinnedMenuItems:null!=(r=null==s?void 0:s.unpinnedMenuItems)?r:[]},stackClass:"space-y-4 relative",children:e=>{var a,l,n,r,d,u,m,f;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{className:""}),(0,t.jsx)(A,{}),(0,t.jsxs)(eF.tU,{value:C,onValueChange:w,className:eQ,triggerClass:eJ,listClass:eY,children:[(0,t.jsxs)(eF.j7,{className:"flex-wrap max-w-full bg-[--paper] p-2 border rounded-xl",children:[(0,t.jsx)(eF.Xi,{value:"main",children:"Theme"}),(0,t.jsx)(eF.Xi,{value:"media",children:"Media"}),(0,t.jsx)(eF.Xi,{value:"navigation",children:"Navigation"})]}),(0,t.jsxs)(eF.av,{value:"main",className:e0,children:[(0,t.jsxs)(h.KT,{title:"Color scheme",children:[(0,t.jsx)(p.D0.Switch,{side:"right",label:"Enable color settings",name:"enableColorSettings"}),e.watch("enableColorSettings")&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.d,{side:"right",label:"Live preview",name:"enableLivePreview",help:y&&"Disabling will reload the page without applying the changes.",value:y,onValueChange:a=>{j(a),a?T(e.watch("backgroundColor"),e.watch("accentColor")):window.location.reload()}}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)(p.D0.ColorPicker,{name:"backgroundColor",label:"Background color",help:"Default: #070707"}),(0,t.jsx)(p.D0.ColorPicker,{name:"accentColor",label:"Accent color",help:"Default: #6152df"})]})]}),e.watch("enableColorSettings")&&(0,t.jsx)("div",{className:"flex flex-wrap gap-3 w-full",children:eV.map(a=>(0,t.jsx)("div",{className:(0,x.cn)("flex gap-3 items-center w-fit rounded-full border p-1 cursor-pointer",s.backgroundColor===a.backgroundColor&&s.accentColor===a.accentColor&&"border-[--brand] ring-[--brand] ring-offset-1 ring-offset-[--background]"),onClick:()=>{e.setValue("backgroundColor",a.backgroundColor),e.setValue("accentColor",a.accentColor),y?T(a.backgroundColor,a.accentColor):o({theme:{id:0,...s,enableColorSettings:!0,backgroundColor:a.backgroundColor,accentColor:a.accentColor}},{onSuccess(){var e,a;null==(a=N.current)||a.reset(null==(e=N.current)?void 0:e.getValues())}})},children:(0,t.jsxs)("div",{className:"flex gap-1",children:[(0,t.jsx)("div",{className:"w-6 h-6 rounded-full border",style:{backgroundColor:a.backgroundColor}}),(0,t.jsx)("div",{className:"w-6 h-6 rounded-full border",style:{backgroundColor:a.accentColor}})]})},a.name))})]}),(0,t.jsx)(h.KT,{title:"Background image",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)(p.D0.Text,{label:"Image path",name:"libraryScreenCustomBackgroundImage",placeholder:"e.g., image.png",help:"Background image for all pages. Dimmed on non-library screens."}),(0,t.jsx)(p.D0.Number,{label:"Opacity",name:"libraryScreenCustomBackgroundOpacity",placeholder:"Default: 10",min:1,max:100})]})}),(0,t.jsx)(h.KT,{title:"Banner image",children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)(p.D0.Text,{label:"Image path",name:"libraryScreenCustomBannerImage",placeholder:"e.g., image.gif",help:"Banner image for all pages."}),(0,t.jsx)(p.D0.Text,{label:"Position",name:"libraryScreenCustomBannerPosition",placeholder:"Default: 50% 50%"}),(0,t.jsx)(p.D0.Number,{label:"Opacity",name:"libraryScreenCustomBannerOpacity",placeholder:"Default: 10",min:1,max:100})]})}),(0,t.jsx)(eO.nD,{type:"single",collapsible:!0,className:"border rounded-[--radius-md]",triggerClass:"dark:bg-[--paper]",contentClass:"!pt-2 dark:bg-[--paper]",children:(0,t.jsxs)(eO.As,{value:"more",children:[(0,t.jsx)(eO.$m,{className:"bg-gray-900 rounded-[--radius-md]",children:"Advanced"}),(0,t.jsxs)(eO.ub,{className:"space-y-4",children:[(null==i||null==(a=i.themeSettings)?void 0:a.customCSS)!==_.customCSS||(null==i||null==(l=i.themeSettings)?void 0:l.mobileCustomCSS)!==_.mobileCustomCSS&&(0,t.jsx)(g.$n,{intent:"white",disabled:(null==i||null==(n=i.themeSettings)?void 0:n.customCSS)===_.customCSS&&(null==i||null==(r=i.themeSettings)?void 0:r.mobileCustomCSS)===_.mobileCustomCSS,onClick:()=>{var e,a;D({customCSS:(null==i||null==(e=i.themeSettings)?void 0:e.customCSS)||"",mobileCustomCSS:(null==i||null==(a=i.themeSettings)?void 0:a.mobileCustomCSS)||""})},children:"Apply to this client"}),(0,t.jsxs)("p",{className:"text-[--muted] text-sm",children:["The custom CSS will be saved on the server and needs to be applied manually to each client.",(0,t.jsx)("br",{}),"In case of an error rendering the UI unusable, you can always remove it from the local storage using the devtools."]}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-3",children:[(0,t.jsx)(p.D0.Textarea,{label:"Custom CSS",name:"customCSS",placeholder:"Custom CSS",help:"Applied above 1024px screen size."}),(0,t.jsx)(p.D0.Textarea,{label:"Mobile custom CSS",name:"mobileCustomCSS",placeholder:"Custom CSS",help:"Applied below 1024px screen size."})]})]})]})})]}),(0,t.jsxs)(eF.av,{value:"navigation",className:e0,children:[(0,t.jsxs)(h.KT,{title:"Sidebar",children:[(0,t.jsx)(p.D0.Switch,{side:"right",label:"Expand sidebar on hover",name:"expandSidebarOnHover",help:"Causes visual glitches with plugin tray."}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Disable transparency",name:"disableSidebarTransparency"}),(0,t.jsx)(p.D0.Combobox,{label:"Unpinned menu items",name:"unpinnedMenuItems",emptyMessage:"No items selected",multiple:!0,options:[{label:"Schedule",textValue:"Schedule",value:"schedule"},{label:"Manga",textValue:"Manga",value:"manga"},{label:"Discover",textValue:"Discover",value:"discover"},{label:"My lists",textValue:"My lists",value:"lists"},{label:"Auto Downloader",textValue:"Auto Downloader",value:"auto-downloader"},{label:"Torrent list",textValue:"Torrent list",value:"torrent-list"},{label:"Debrid",textValue:"Debrid",value:"debrid"},{label:"Scan summaries",textValue:"Scan summaries",value:"scan-summaries"},{label:"Search",textValue:"Search",value:"search"}]})]}),(0,t.jsx)(h.KT,{title:"Navbar",children:(0,t.jsx)(p.D0.Switch,{side:"right",label:U.X?"Hide top navbar (Web interface)":"Hide top navbar",name:"hideTopNavbar",help:"Switches to sidebar-only mode."})})]}),(0,t.jsxs)(eF.av,{value:"media",className:e0,children:[(0,t.jsxs)(h.KT,{title:"Screens",children:[!(null==i||null==(u=i.settings)||null==(d=u.library)?void 0:d.enableWatchContinuity)&&(e.watch("continueWatchingDefaultSorting").includes("LAST_WATCHED")||e.watch("animeLibraryCollectionDefaultSorting").includes("LAST_WATCHED"))&&(0,t.jsx)(b.F,{intent:"alert",description:"Watch continuity needs to be enabled to use the last watched sorting options."}),(0,t.jsx)(p.D0.RadioCards,{label:"Banner type",name:"libraryScreenBannerType",options:[{label:"Dynamic Banner",value:"dynamic"},{label:"Custom Banner",value:"custom"},{label:"None",value:"none"}],stackClass:"flex flex-col md:flex-row flex-wrap gap-2 space-y-0",help:e.watch("libraryScreenBannerType")===eq.H4.Custom&&"Use the banner image on all library screens."}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Remove genre selector",name:"disableLibraryScreenGenreSelector"}),(0,t.jsx)(p.D0.Select,{label:"Continue watching sorting",name:"continueWatchingDefaultSorting",options:eG.co.map(e=>({value:e.value,label:e.label}))}),(0,t.jsx)(p.D0.Select,{label:"Anime library sorting",name:"animeLibraryCollectionDefaultSorting",options:eG.wi.filter(e=>!e.value.includes("END")).map(e=>({value:e.value,label:e.label}))}),(0,t.jsx)(p.D0.Select,{label:"Manga library sorting",name:"mangaLibraryCollectionDefaultSorting",options:eG.I4.filter(e=>!e.value.includes("END")).map(e=>({value:e.value,label:e.label}))})]}),(0,t.jsxs)(h.KT,{title:"Media page",children:[(0,t.jsx)(p.D0.RadioCards,{label:"AniList banner image",name:"mediaPageBannerType",options:eq.$O.map(e=>({value:e.value,label:e.label})),stackClass:"flex flex-col md:flex-row flex-wrap gap-2 space-y-0",help:null==(m=eq.$O.find(a=>a.value===e.watch("mediaPageBannerType")))?void 0:m.description}),(0,t.jsx)(p.D0.RadioCards,{label:"Banner size",name:"mediaPageBannerSize",options:eq.sx.map(e=>({value:e.value,label:e.label})),stackClass:"flex flex-col md:flex-row flex-wrap gap-2 space-y-0",help:null==(f=eq.sx.find(a=>a.value===e.watch("mediaPageBannerSize")))?void 0:f.description}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Blurred gradient background",name:"enableMediaPageBlurredBackground",help:"Can cause performance issues."})]}),(0,t.jsxs)(h.KT,{title:"Media card",children:[(0,t.jsx)(p.D0.Switch,{side:"right",label:"Show anime unwatched count",name:"showAnimeUnwatchedCount"}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Show manga unread count",name:"showMangaUnreadCount"}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Glassy background",name:"enableMediaCardBlurredBackground"})]}),(0,t.jsxs)(h.KT,{title:"Episode card",children:[(0,t.jsx)(p.D0.Switch,{side:"right",label:"Legacy episode cards",name:"useLegacyEpisodeCard"}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Show anime info",name:"showEpisodeCardAnimeInfo"}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Hide episode summary",name:"hideEpisodeCardDescription"}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Hide downloaded episode filename",name:"hideDownloadedEpisodeCardFilename"})]}),(0,t.jsxs)(h.KT,{title:"Carousel",children:[(0,t.jsx)(p.D0.Switch,{side:"right",label:"Disable auto-scroll",name:"disableCarouselAutoScroll"}),(0,t.jsx)(p.D0.Switch,{side:"right",label:"Smaller episode cards",name:"smallerEpisodeCarouselSize"})]})]}),"browser-client"!==C&&(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(p.D0.Submit,{role:"save",intent:"white",rounded:!0,loading:c,children:"Save"})})]})]})}})}var e2=l(45754),e3=l(52963),e4=l(86694),e5=l.n(e4),e6=l(6066),e7=l(64685);function e8(e){let a,l,r,s,i,o,c,d,u=(0,n.c)(11),{watch:m}=(0,S.xW)(),b=m("enableRichPresence");u[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,t.jsx)(p.D0.Switch,{side:"right",name:"enableRichPresence",label:(0,t.jsx)("span",{className:"flex gap-1 items-center",children:"Enable"})}),u[0]=a):a=u[0];let g=b?"opacity-100":"opacity-50 pointer-events-none";return u[1]!==g?(l=(0,x.cn)("flex gap-4 items-center flex-col md:flex-row !mt-3",g),u[1]=g,u[2]=l):l=u[2],u[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)(p.D0.Checkbox,{name:"enableAnimeRichPresence",label:"Anime",fieldClass:"w-fit"}),s=(0,t.jsx)(p.D0.Checkbox,{name:"enableMangaRichPresence",label:"Manga",fieldClass:"w-fit"}),u[3]=r,u[4]=s):(r=u[3],s=u[4]),u[5]!==l?(i=(0,t.jsxs)("div",{className:l,children:[r,s]}),u[5]=l,u[6]=i):i=u[6],u[7]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(p.D0.Switch,{side:"right",name:"richPresenceHideSeanimeRepositoryButton",label:"Hide Seanime Repository Button"}),c=(0,t.jsx)(p.D0.Switch,{side:"right",name:"richPresenceShowAniListProfileButton",label:"Show AniList Profile Button",help:"Show a button to open your profile page on AniList."}),u[7]=o,u[8]=c):(o=u[7],c=u[8]),u[9]!==i?(d=(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(h.KT,{title:"Rich Presence",description:"Show what you are watching or reading in Discord.",children:[a,i,o,c]})}),u[9]=i,u[10]=d):d=u[10],d}function e9(e){var a,l;let r,s,i,o,c,d,m,b,y,f,v,S,j,C=(0,n.c)(27),{isPending:P}=e,N=(0,u.v1)(),{mutate:k,isPending:_}=(0,eM.bA)();C[0]!==k?(r={title:"Upload to AniList",description:"This will upload your local Seanime collection to your AniList account. Are you sure you want to proceed?",actionText:"Upload",actionIntent:"primary",onConfirm:async()=>{k()}},C[0]=k,C[1]=r):r=C[1];let D=(0,eI.J)(r);C[2]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(h.Gb,{title:"Local Account",description:"Local anime and manga list managed by Seanime",icon:L.glu}),C[2]=s):s=C[2];let T=(null==N||null==(a=N.user)?void 0:a.isSimulated)&&"opacity-50 pointer-events-none";C[3]!==T?(i=(0,x.cn)(T),C[3]=T,C[4]=i):i=C[4],C[5]===Symbol.for("react.memo_cache_sentinel")?(o=(0,t.jsx)(p.D0.Switch,{side:"right",name:"autoSyncToLocalAccount",label:"Auto sync from AniList",help:"Periodically update your local collection by using your AniList data."}),C[5]=o):o=C[5],C[6]!==i?(c=(0,t.jsx)("div",{className:i,children:o}),C[6]=i,C[7]=c):c=C[7],C[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,t.jsx)(Q.w,{}),C[8]=d):d=C[8],C[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(L.g4b,{className:"size-4"}),C[9]=m):m=C[9],C[10]!==D?(b=()=>{D.open()},C[10]=D,C[11]=b):b=C[11];let A=null==N||null==(l=N.user)?void 0:l.isSimulated;return C[12]!==_||C[13]!==b||C[14]!==A?(y=(0,t.jsx)(g.$n,{size:"sm",intent:"primary-subtle",loading:_,leftIcon:m,onClick:b,disabled:A,children:"Upload to AniList"}),C[12]=_,C[13]=b,C[14]=A,C[15]=y):y=C[15],C[16]!==y||C[17]!==c?(f=(0,t.jsxs)(h.KT,{title:"AniList",children:[c,d,y]}),C[16]=y,C[17]=c,C[18]=f):f=C[18],C[19]!==P?(v=(0,t.jsx)(w,{isPending:P}),C[19]=P,C[20]=v):v=C[20],C[21]!==D?(S=(0,t.jsx)(eI.K,{...D}),C[21]=D,C[22]=S):S=C[22],C[23]!==f||C[24]!==v||C[25]!==S?(j=(0,t.jsxs)("div",{className:"space-y-4",children:[s,f,v,S]}),C[23]=f,C[24]=v,C[25]=S,C[26]=j):j=C[26],j}function ae(e){var a,l,r,s,i,o,c,d,m,g,y,f,v,j;let C,P,N,k,_,D,T,A,M,L,R,E,H,B,U,K,F,G,q,V,z,$=(0,n.c)(36),{isPending:W}=e,X=(0,u.v1)();$[0]===Symbol.for("react.memo_cache_sentinel")?(C={name:"nakamaIsHost"},$[0]=C):C=$[0];let Z=(0,S.FH)(C);$[1]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsx)(h.Gb,{title:"Nakama",description:"Communicate with other Seanime instances",icon:O.u67}),$[1]=P):P=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(N=(0,t.jsxs)(h.KT,{children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"nakamaEnabled",label:"Enable Nakama"}),(0,t.jsx)(p.D0.Text,{label:"Username",name:"nakamaUsername",placeholder:"Username",help:"The username to identify this server to other instances. If empty a random ID will be assigned."})]}),$[2]=N):N=$[2],$[3]!==(null==X||null==(l=X.settings)||null==(a=l.nakama)?void 0:a.isHost)?(k=(null==X||null==(d=X.settings)||null==(c=d.nakama)?void 0:c.isHost)&&(0,t.jsx)(b.F,{intent:"info",description:"Cannot connect to a host while in host mode."}),$[3]=null==X||null==(g=X.settings)||null==(m=g.nakama)?void 0:m.isHost,$[4]=k):k=$[4];let J=(null==X||null==(s=X.settings)||null==(r=s.nakama)?void 0:r.isHost)?"hidden":"";return $[5]!==J?(_=(0,x.cn)("space-y-4",J),$[5]=J,$[6]=_):_=$[6],$[7]!==(null==X||null==(o=X.settings)||null==(i=o.nakama)?void 0:i.isHost)?(D=!(null==X||null==(f=X.settings)||null==(y=f.nakama)?void 0:y.isHost)&&(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-gray-50 dark:bg-gray-900/30 rounded-lg p-3 border border-gray-700 border-dashed text-blue-100",children:[(0,t.jsx)(I.qTh,{className:"text-base"}),(0,t.jsx)("span",{children:"The server you're connecting to must be accessible over the internet."})]}),$[7]=null==X||null==(j=X.settings)||null==(v=j.nakama)?void 0:v.isHost,$[8]=D):D=$[8],$[9]===Symbol.for("react.memo_cache_sentinel")?(M=(0,t.jsx)(p.D0.Text,{label:"Nakama Server URL",name:"nakamaRemoteServerURL",placeholder:"http://{address}",help:"The URL of the Nakama host to connect to."}),L=(0,t.jsx)(p.D0.Text,{label:"Nakama Passcode",name:"nakamaRemoteServerPassword",placeholder:"Passcode",help:"The passcode to connect to the Nakama host."}),R=(0,t.jsx)(Q.w,{className:"!my-6"}),T=(0,t.jsx)("h3",{children:"Library"}),A=(0,t.jsx)(p.D0.Switch,{side:"right",name:"includeNakamaAnimeLibrary",label:"Use Nakama's anime library",help:"If enabled, the Nakama's anime library will be used as your library if it is being shared."}),$[9]=T,$[10]=A,$[11]=M,$[12]=L,$[13]=R):(T=$[9],A=$[10],M=$[11],L=$[12],R=$[13]),$[14]!==_||$[15]!==D?(E=(0,t.jsxs)("div",{className:_,children:[D,M,L,R,T,A]}),$[14]=_,$[15]=D,$[16]=E):E=$[16],$[17]!==E||$[18]!==k?(H=(0,t.jsxs)(h.KT,{title:"Connect to a host",children:[k,E]}),$[17]=E,$[18]=k,$[19]=H):H=$[19],$[20]===Symbol.for("react.memo_cache_sentinel")?(B=(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm bg-gray-50 dark:bg-gray-900/30 rounded-lg p-3 border border-gray-700 border-dashed text-blue-100",children:[(0,t.jsx)(I.qTh,{className:"text-base"}),(0,t.jsx)("span",{children:"Enabling host mode does not automatically set up remote access; you must manually expose your server using your preferred method."})]}),$[20]=B):B=$[20],$[21]!==(null==X?void 0:X.serverHasPassword)?(U=!(null==X?void 0:X.serverHasPassword)&&(0,t.jsx)(b.F,{intent:"warning",description:"Your server is not password protected. Add a password to your config file."}),$[21]=null==X?void 0:X.serverHasPassword,$[22]=U):U=$[22],$[23]===Symbol.for("react.memo_cache_sentinel")?(K=(0,t.jsx)(p.D0.Switch,{side:"right",name:"nakamaIsHost",label:"Enable host mode",help:"If enabled, this server will act as a host for other clients. This requires a host password to be set."}),F=(0,t.jsx)(p.D0.Text,{label:"Host Passcode",name:"nakamaHostPassword",placeholder:"Passcode",help:"Set a passcode to secure your host mode. This passcode should be different than your server password."}),$[23]=K,$[24]=F):(K=$[23],F=$[24]),$[25]!==Z?(G=Z&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Q.w,{className:"!my-6"}),(0,t.jsx)("h3",{children:"Host settings"}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"nakamaHostShareLocalAnimeLibrary",label:"Share local anime library",help:"If enabled, this server will share its local anime library to other clients."}),(0,t.jsx)(p.D0.MediaExclusionSelector,{name:"nakamaHostUnsharedAnimeIds",label:"Exclude anime from sharing",help:"Select anime that you don't want to share with other clients."})]}),$[25]=Z,$[26]=G):G=$[26],$[27]!==U||$[28]!==G?(q=(0,t.jsxs)(h.KT,{title:"Host",children:[B,U,K,F,G]}),$[27]=U,$[28]=G,$[29]=q):q=$[29],$[30]!==W?(V=(0,t.jsx)(w,{isPending:W}),$[30]=W,$[31]=V):V=$[31],$[32]!==H||$[33]!==q||$[34]!==V?(z=(0,t.jsxs)("div",{className:"space-y-4",children:[P,N,H,q,V]}),$[32]=H,$[33]=q,$[34]=V,$[35]=z):z=$[35],z}(0,x.cn)("w-full contents space-y-4"),(0,x.cn)("text-base px-6 rounded-[--radius-md] w-fit border-none data-[state=active]:bg-[--subtle] data-[state=active]:text-white dark:hover:text-white","h-10 lg:justify-center px-3 flex-1"),(0,x.cn)("w-full flex flex-row lg:flex-row flex-wrap h-fit mt-4");let aa=(0,x.cn)("space-y-4 animate-in fade-in-0 duration-300"),al="force-static";function at(){var e,a,l,m,b,y,S,j,C,k,_,T,A,M,H,F,q,V,z,$,Z,Y,ea,et,er,es,eo,ec,ed,eu,em,eg,ex,ep,ey,ef,ev,eS,ej,ew,eP,eN,ek,e_,eD,eA,eM,eL,eI,eH,eU,eK,eO,eG,eq,eV,ez,e$,eW,eX,eZ,eQ,eJ,eY,e0,e4,al,at,ai,ao,ac,ad,au,am,ah,ab,ag,ax,ap,ay,af,av,aS,aj,aC,aw,aP,aN,ak,a_,aD,aT,aA,aM,aL,aI,aR,aE,aH,aB,aU,aK,aO,aF,aG,aq,aV,az,a$,aW,aX,aZ,aQ,aJ,aY,a0,a1,a2,a3,a4,a5,a6,a7,a8,a9,le,la,ll,lt,ln,lr,ls,li,lo,lc,ld,lu,lm,lh,lb,lg,lx,lp,ly,lf,lv,lS,lj,lC,lw,lP,lN,lk,l_,lD,lT,lA,lM,lL,lI,lR,lE,lH,lB,lU,lK,lO,lF,lG,lq,lV,lz,l$,lW,lX,lZ,lQ,lJ,lY,l0,l1,l2,l3,l4,l5,l6,l7,l8,l9,te,ta,tl,tt,tn,tr,ts,ti,to,tc,td,tu;let tm,th,tb,tg,tx,tp,ty,tf,tv,tS,tj,tC,tw,tP,tN,tk,t_,tD,tT,tA,tM,tL,tI,tR,tE,tH,tB,tU,tK,tO,tF,tG,tq,tV,tz,t$,tW,tX,tZ,tQ,tJ,tY,t0,t1,t2,t3,t4,t5,t6,t7,t8,t9,ne=(0,n.c)(165),na=(0,u.v1)(),nl=(0,u.LX)(),nt=(0,e6.useRouter)(),nn=(0,e6.useSearchParams)(),{mutate:nr,data:ns,isPending:ni}=(0,i.Ok)(),[no,nc]=(0,f.fp)(B),nd=v.useRef(null),{data:nu}=(0,s.N2)(),{data:nm}=(0,o.xN)(),{mutate:nh}=(0,r.E)();ne[0]!==ns||ne[1]!==ni||ne[2]!==nl?(tm=()=>{!ni&&(null==ns?void 0:ns.settings)&&nl(ns)},ne[0]=ns,ne[1]=ni,ne[2]=nl,ne[3]=tm):tm=ne[3],ne[4]!==ns||ne[5]!==ni?(th=[ns,ni],ne[4]=ns,ne[5]=ni,ne[6]=th):th=ne[6],v.useEffect(tm,th);let nb=(0,f.Xr)(d.S1);ne[7]!==nt||ne[8]!==nb?(tb=function(){nb(!0),nt.push("/")},ne[7]=nt,ne[8]=nb,ne[9]=tb):tb=ne[9];let ng=tb,nx=v.useRef(no);ne[10]!==no?(tg=()=>{if(no!==nx.current){var e;nx.current=no,null==(e=nd.current)||e.reset()}},tx=[no],ne[10]=no,ne[11]=tg,ne[12]=tx):(tg=ne[11],tx=ne[12]),v.useEffect(tg,tx),ne[13]!==nt||ne[14]!==nn||ne[15]!==nc?(tp=()=>{let e=nn.get("tab");e&&(nc(e),setTimeout(()=>{if(nn.has("tab")){let e=new URLSearchParams(nn);e.delete("tab"),nt.replace("?".concat(e.toString()),{scroll:!1})}},500))},ne[13]=nt,ne[14]=nn,ne[15]=nc,ne[16]=tp):tp=ne[16],ne[17]!==nn?(ty=[nn],ne[17]=nn,ne[18]=ty):ty=ne[18],v.useEffect(tp,ty),ne[19]===Symbol.for("react.memo_cache_sentinel")?(tf=(0,t.jsx)(c.z,{discrete:!0}),ne[19]=tf):tf=ne[19],ne[20]===Symbol.for("react.memo_cache_sentinel")?(tS=(0,x.cn)("w-full grid grid-cols-1 lg:grid lg:grid-cols-[300px,1fr] gap-4"),tj=(0,x.cn)("text-base px-6 rounded-[--radius-md] w-fit lg:w-full rounded-lg border-0 data-[state=active]:bg-[--subtle] data-[state=active]:text-white dark:hover:text-white","h-9 lg:justify-start px-3 transition-all duration-200 hover:bg-[--subtle]/50 hover:transform"),tv=(0,x.cn)("w-full flex flex-wrap lg:flex-nowrap h-fit","lg:block p-2 lg:p-0"),ne[20]=tv,ne[21]=tS,ne[22]=tj):(tv=ne[20],tS=ne[21],tj=ne[22]),ne[23]===Symbol.for("react.memo_cache_sentinel")?(tC=(0,t.jsx)("div",{className:"flex flex-col gap-4 md:flex-row justify-between items-center"}),ne[23]=tC):tC=ne[23],ne[24]===Symbol.for("react.memo_cache_sentinel")?(tw=(0,t.jsx)("h4",{className:"text-center text-xl font-bold",children:"Settings"}),ne[24]=tw):tw=ne[24];let np=null==na?void 0:na.version,ny=null==na?void 0:na.versionName;ne[25]!==np||ne[26]!==ny?(tP=(0,t.jsxs)("p",{className:"text-[--muted] text-sm text-center w-full",children:[np," ",ny]}),ne[25]=np,ne[26]=ny,ne[27]=tP):tP=ne[27];let nf=null==na?void 0:na.os;ne[28]!==nf?(tN=e5()(nf),ne[28]=nf,ne[29]=tN):tN=ne[29],ne[30]===Symbol.for("react.memo_cache_sentinel")?(tk=U.qe&&(0,t.jsx)("span",{className:"font-medium",children:" - Tauri"}),t_=U.nH&&(0,t.jsx)("span",{className:"font-medium",children:" - Denshi"}),ne[30]=tk,ne[31]=t_):(tk=ne[30],t_=ne[31]),ne[32]!==tN?(tD=(0,t.jsxs)("p",{className:"text-[--muted] text-sm text-center w-full",children:[tN,tk,t_]}),ne[32]=tN,ne[33]=tD):tD=ne[33],ne[34]!==tP||ne[35]!==tD?(tT=(0,t.jsx)(e3.Zp,{className:"lg:p-2 contents lg:block border-0 bg-transparent lg:border lg:bg-gray-950/80",children:(0,t.jsxs)("div",{className:"space-y-2 p-4 w-full",children:[tw,(0,t.jsxs)("div",{className:"space-y-1",children:[tP,tD]})]})}),ne[34]=tP,ne[35]=tD,ne[36]=tT):tT=ne[36],ne[37]===Symbol.for("react.memo_cache_sentinel")?(tA=(0,t.jsxs)(eF.Xi,{value:"seanime",className:"group",children:[(0,t.jsx)(L.tXg,{className:"text-xl mr-3 transition-transform duration-200"})," App"]}),ne[37]=tA):tA=ne[37],ne[38]===Symbol.for("react.memo_cache_sentinel")?(tM=(0,t.jsxs)(eF.Xi,{value:"library",className:"group",children:[(0,t.jsx)(L.rjU,{className:"text-xl mr-3 transition-transform duration-200"})," Local Anime Library"]}),ne[38]=tM):tM=ne[38],ne[39]===Symbol.for("react.memo_cache_sentinel")?(tL=(0,t.jsxs)(e3.Zp,{className:"lg:p-2 contents lg:block border-0 bg-transparent lg:border lg:bg-gray-950/80",children:[tA,tM,(0,t.jsxs)(eF.Xi,{value:"playback",className:"group",children:[(0,t.jsx)(L.Ubi,{className:"text-xl mr-3 transition-transform duration-200"})," Video Playback"]})]}),ne[39]=tL):tL=ne[39],ne[40]===Symbol.for("react.memo_cache_sentinel")?(tI=(0,t.jsxs)(eF.Xi,{value:"media-player",className:"group",children:[(0,t.jsx)(L.UUB,{className:"text-xl mr-3 transition-transform duration-200"})," Desktop Media Player"]}),ne[40]=tI):tI=ne[40],ne[41]===Symbol.for("react.memo_cache_sentinel")?(tR=(0,t.jsxs)(eF.Xi,{value:"external-player-link",className:"group",children:[(0,t.jsx)(L.a3$,{className:"text-xl mr-3 transition-transform duration-200"})," External Player Link"]}),ne[41]=tR):tR=ne[41],ne[42]===Symbol.for("react.memo_cache_sentinel")?(tE=(0,t.jsxs)(e3.Zp,{className:"lg:p-2 contents lg:block border-0 bg-transparent lg:border lg:bg-gray-950/80",children:[tI,tR,(0,t.jsxs)(eF.Xi,{value:"mediastream",className:"relative group",children:[(0,t.jsx)(L.FQ9,{className:"text-xl mr-3 transition-transform duration-200"})," Transcoding / Direct Play"]})]}),ne[42]=tE):tE=ne[42],ne[43]===Symbol.for("react.memo_cache_sentinel")?(tH=(0,t.jsxs)(eF.Xi,{value:"torrent",className:"group",children:[(0,t.jsx)(L.mgw,{className:"text-xl mr-3 transition-transform duration-200"})," Torrent Provider"]}),ne[43]=tH):tH=ne[43],ne[44]===Symbol.for("react.memo_cache_sentinel")?(tB=(0,t.jsxs)(eF.Xi,{value:"torrent-client",className:"group",children:[(0,t.jsx)(O.C99,{className:"text-xl mr-3 transition-transform duration-200"})," Torrent Client"]}),ne[44]=tB):tB=ne[44],ne[45]===Symbol.for("react.memo_cache_sentinel")?(tU=(0,t.jsxs)(eF.Xi,{value:"torrentstream",className:"relative group",children:[(0,t.jsx)(eE.gC$,{className:"text-xl mr-3 transition-transform duration-200"})," Torrent Streaming"]}),ne[45]=tU):tU=ne[45],ne[46]===Symbol.for("react.memo_cache_sentinel")?(tK=(0,t.jsxs)(e3.Zp,{className:"lg:p-2 contents lg:block border-0 bg-transparent lg:border lg:bg-gray-950/80",children:[tH,tB,tU,(0,t.jsxs)(eF.Xi,{value:"debrid",className:"group",children:[(0,t.jsx)(el.hgf,{className:"text-xl mr-3 transition-transform duration-200"})," Debrid Service"]})]}),ne[46]=tK):tK=ne[46],ne[47]===Symbol.for("react.memo_cache_sentinel")?(tO=(0,t.jsxs)(eF.Xi,{value:"onlinestream",className:"group",children:[(0,t.jsx)(W.Vvz,{className:"text-xl mr-3 transition-transform duration-200"})," Online Streaming"]}),ne[47]=tO):tO=ne[47],ne[48]===Symbol.for("react.memo_cache_sentinel")?(tF=(0,t.jsxs)(eF.Xi,{value:"manga",className:"group",children:[(0,t.jsx)(L.Z5q,{className:"text-xl mr-3 transition-transform duration-200"})," Manga"]}),ne[48]=tF):tF=ne[48],ne[49]===Symbol.for("react.memo_cache_sentinel")?(tG=(0,t.jsxs)(eF.Xi,{value:"nakama",className:"group relative",children:[(0,t.jsx)(O.u67,{className:"text-xl mr-3 transition-transform duration-200"})," Nakama"]}),ne[49]=tG):tG=ne[49],ne[50]===Symbol.for("react.memo_cache_sentinel")?(tq=(0,t.jsxs)(e3.Zp,{className:"lg:p-2 contents lg:block border-0 bg-transparent lg:border lg:bg-gray-950/80",children:[tO,tF,tG,(0,t.jsxs)(eF.Xi,{value:"discord",className:"group",children:[(0,t.jsx)(eh.O4U,{className:"text-xl mr-3 transition-transform duration-200"})," Discord"]})]}),ne[50]=tq):tq=ne[50],ne[51]===Symbol.for("react.memo_cache_sentinel")?(tV=(0,t.jsxs)(eF.Xi,{value:"ui",className:"group",children:[(0,t.jsx)(O.FSC,{className:"text-xl mr-3 transition-transform duration-200"})," User Interface"]}),ne[51]=tV):tV=ne[51],ne[52]===Symbol.for("react.memo_cache_sentinel")?(tz=(0,t.jsxs)(e3.Zp,{className:"lg:p-2 contents lg:block border-0 bg-transparent lg:border lg:bg-gray-950/80",children:[tV,(0,t.jsxs)(eF.Xi,{value:"logs",className:"group",children:[(0,t.jsx)(L.c4Z,{className:"text-xl mr-3 transition-transform duration-200"})," Logs & Cache"]})]}),ne[52]=tz):tz=ne[52],ne[53]!==tT?(t$=(0,t.jsxs)(h.Xw,{children:[tC,(0,t.jsxs)("div",{className:"overflow-x-none lg:overflow-y-hidden overflow-y-scroll rounded-[--radius-md] space-y-1 lg:space-y-3 flex justify-center flex-wrap lg:block",children:[tT,tL,tE,tK,tq,tz]})]}),ne[53]=tT,ne[54]=t$):t$=ne[54],ne[55]===Symbol.for("react.memo_cache_sentinel")?(tW=(0,t.jsx)("div",{className:"flex justify-center !mt-0 pb-4",children:(0,t.jsx)(ee.i,{href:"https://github.com/sponsors/5rahim",target:"_blank",rel:"noopener noreferrer",children:(0,t.jsx)(g.$n,{intent:"gray-link",size:"md",leftIcon:(0,t.jsx)(K.xko,{className:"text-lg"}),children:"Donate"})})}),ne[55]=tW):tW=ne[55],ne[56]!==t$?(tX=(0,t.jsxs)(eF.j7,{className:"flex-wrap max-w-full lg:space-y-2 sticky top-10",children:[t$,tW]}),ne[56]=t$,ne[57]=tX):tX=ne[57],ne[58]!==nr?(tZ=e=>{var a,l,t,n,r,s,i,o,c,d,u,m,h,b,g,x,p,y,f,v,S,j,C,w,P,N;nr({library:{libraryPath:e.libraryPath,autoUpdateProgress:e.autoUpdateProgress,disableUpdateCheck:e.disableUpdateCheck,torrentProvider:e.torrentProvider,autoScan:e.autoScan,enableOnlinestream:e.enableOnlinestream,includeOnlineStreamingInLibrary:null!=(a=e.includeOnlineStreamingInLibrary)&&a,disableAnimeCardTrailers:e.disableAnimeCardTrailers,enableManga:e.enableManga,dohProvider:"-"===e.dohProvider?"":e.dohProvider,openTorrentClientOnStart:e.openTorrentClientOnStart,openWebURLOnStart:e.openWebURLOnStart,refreshLibraryOnStart:e.refreshLibraryOnStart,autoPlayNextEpisode:null!=(l=e.autoPlayNextEpisode)&&l,enableWatchContinuity:null!=(t=e.enableWatchContinuity)&&t,libraryPaths:null!=(n=e.libraryPaths)?n:[],autoSyncOfflineLocalData:null!=(r=e.autoSyncOfflineLocalData)&&r,scannerMatchingThreshold:e.scannerMatchingThreshold,scannerMatchingAlgorithm:"-"===e.scannerMatchingAlgorithm?"":e.scannerMatchingAlgorithm,autoSyncToLocalAccount:null!=(s=e.autoSyncToLocalAccount)&&s,autoSaveCurrentMediaOffline:null!=(i=e.autoSaveCurrentMediaOffline)&&i},nakama:{enabled:null!=(o=e.nakamaEnabled)&&o,username:e.nakamaUsername,isHost:null!=(c=e.nakamaIsHost)&&c,remoteServerURL:e.nakamaRemoteServerURL,remoteServerPassword:e.nakamaRemoteServerPassword,hostShareLocalAnimeLibrary:null!=(d=e.nakamaHostShareLocalAnimeLibrary)&&d,hostPassword:e.nakamaHostPassword,includeNakamaAnimeLibrary:null!=(u=e.includeNakamaAnimeLibrary)&&u,hostUnsharedAnimeIds:null!=(m=null==e?void 0:e.nakamaHostUnsharedAnimeIds)?m:[],hostEnablePortForwarding:null!=(h=e.nakamaHostEnablePortForwarding)&&h},manga:{defaultMangaProvider:"-"===e.defaultMangaProvider?"":e.defaultMangaProvider,mangaAutoUpdateProgress:null!=(b=e.mangaAutoUpdateProgress)&&b,mangaLocalSourceDirectory:e.mangaLocalSourceDirectory||""},mediaPlayer:{host:e.mediaPlayerHost,defaultPlayer:e.defaultPlayer,vlcPort:e.vlcPort,vlcUsername:e.vlcUsername||"",vlcPassword:e.vlcPassword,vlcPath:e.vlcPath||"",mpcPort:e.mpcPort,mpcPath:e.mpcPath||"",mpvSocket:e.mpvSocket||"",mpvPath:e.mpvPath||"",mpvArgs:e.mpvArgs||"",iinaSocket:e.iinaSocket||"",iinaPath:e.iinaPath||"",iinaArgs:e.iinaArgs||""},torrent:{defaultTorrentClient:e.defaultTorrentClient,qbittorrentPath:e.qbittorrentPath,qbittorrentHost:e.qbittorrentHost,qbittorrentPort:e.qbittorrentPort,qbittorrentPassword:e.qbittorrentPassword,qbittorrentUsername:e.qbittorrentUsername,qbittorrentTags:e.qbittorrentTags,transmissionPath:e.transmissionPath,transmissionHost:e.transmissionHost,transmissionPort:e.transmissionPort,transmissionUsername:e.transmissionUsername,transmissionPassword:e.transmissionPassword,showActiveTorrentCount:null!=(g=e.showActiveTorrentCount)&&g,hideTorrentList:null!=(x=e.hideTorrentList)&&x},discord:{enableRichPresence:null!=(p=null==e?void 0:e.enableRichPresence)&&p,enableAnimeRichPresence:null!=(y=null==e?void 0:e.enableAnimeRichPresence)&&y,enableMangaRichPresence:null!=(f=null==e?void 0:e.enableMangaRichPresence)&&f,richPresenceHideSeanimeRepositoryButton:null!=(v=null==e?void 0:e.richPresenceHideSeanimeRepositoryButton)&&v,richPresenceShowAniListMediaButton:null!=(S=null==e?void 0:e.richPresenceShowAniListMediaButton)&&S,richPresenceShowAniListProfileButton:null!=(j=null==e?void 0:e.richPresenceShowAniListProfileButton)&&j,richPresenceUseMediaTitleStatus:null!=(C=null==e?void 0:e.richPresenceUseMediaTitleStatus)&&C},anilist:{hideAudienceScore:e.hideAudienceScore,enableAdultContent:e.enableAdultContent,blurAdultContent:e.blurAdultContent,disableCacheLayer:e.disableCacheLayer},notifications:{disableNotifications:null!=(w=null==e?void 0:e.disableNotifications)&&w,disableAutoDownloaderNotifications:null!=(P=null==e?void 0:e.disableAutoDownloaderNotifications)&&P,disableAutoScannerNotifications:null!=(N=null==e?void 0:e.disableAutoScannerNotifications)&&N}},{onSuccess:()=>{var e;null==(e=nd.current)||e.reset(nd.current.getValues())}})},ne[58]=nr,ne[59]=tZ):tZ=ne[59];let nv=null==na||null==(a=na.settings)||null==(e=a.library)?void 0:e.libraryPath,nS=null==na||null==(m=na.settings)||null==(l=m.mediaPlayer)?void 0:l.host,nj=(null==na||null==(y=na.settings)||null==(b=y.library)?void 0:b.torrentProvider)||D.r5,nC=null==na||null==(j=na.settings)||null==(S=j.library)?void 0:S.autoScan,nw=null==na||null==(k=na.settings)||null==(C=k.mediaPlayer)?void 0:C.defaultPlayer,nP=null==na||null==(T=na.settings)||null==(_=T.mediaPlayer)?void 0:_.vlcPort,nN=null==na||null==(M=na.settings)||null==(A=M.mediaPlayer)?void 0:A.vlcUsername,nk=null==na||null==(F=na.settings)||null==(H=F.mediaPlayer)?void 0:H.vlcPassword,n_=null==na||null==(V=na.settings)||null==(q=V.mediaPlayer)?void 0:q.vlcPath,nD=null==na||null==($=na.settings)||null==(z=$.mediaPlayer)?void 0:z.mpcPort,nT=null==na||null==(Y=na.settings)||null==(Z=Y.mediaPlayer)?void 0:Z.mpcPath,nA=null==na||null==(et=na.settings)||null==(ea=et.mediaPlayer)?void 0:ea.mpvSocket,nM=null==na||null==(es=na.settings)||null==(er=es.mediaPlayer)?void 0:er.mpvPath,nL=null==na||null==(ec=na.settings)||null==(eo=ec.mediaPlayer)?void 0:eo.mpvArgs,nI=null==na||null==(eu=na.settings)||null==(ed=eu.mediaPlayer)?void 0:ed.iinaSocket,nR=null==na||null==(eg=na.settings)||null==(em=eg.mediaPlayer)?void 0:em.iinaPath,nE=null==na||null==(ep=na.settings)||null==(ex=ep.mediaPlayer)?void 0:ex.iinaArgs,nH=(null==na||null==(ef=na.settings)||null==(ey=ef.torrent)?void 0:ey.defaultTorrentClient)||D.$e,nB=null!=(lP=null==na||null==(eS=na.settings)||null==(ev=eS.torrent)?void 0:ev.hideTorrentList)&&lP,nU=null==na||null==(ew=na.settings)||null==(ej=ew.torrent)?void 0:ej.qbittorrentPath,nK=null==na||null==(eN=na.settings)||null==(eP=eN.torrent)?void 0:eP.qbittorrentHost,nO=null==na||null==(e_=na.settings)||null==(ek=e_.torrent)?void 0:ek.qbittorrentPort,nF=null==na||null==(eA=na.settings)||null==(eD=eA.torrent)?void 0:eD.qbittorrentPassword,nG=null==na||null==(eL=na.settings)||null==(eM=eL.torrent)?void 0:eM.qbittorrentUsername,nq=null==na||null==(eH=na.settings)||null==(eI=eH.torrent)?void 0:eI.qbittorrentTags,nV=null==na||null==(eK=na.settings)||null==(eU=eK.torrent)?void 0:eU.transmissionPath,nz=null==na||null==(eG=na.settings)||null==(eO=eG.torrent)?void 0:eO.transmissionHost,n$=null==na||null==(eV=na.settings)||null==(eq=eV.torrent)?void 0:eq.transmissionPort,nW=null==na||null==(e$=na.settings)||null==(ez=e$.torrent)?void 0:ez.transmissionUsername,nX=null==na||null==(eX=na.settings)||null==(eW=eX.torrent)?void 0:eW.transmissionPassword,nZ=null!=(lN=null==na||null==(eQ=na.settings)||null==(eZ=eQ.anilist)?void 0:eZ.hideAudienceScore)&&lN,nQ=null!=(lk=null==na||null==(eY=na.settings)||null==(eJ=eY.library)?void 0:eJ.autoUpdateProgress)&&lk,nJ=null!=(l_=null==na||null==(e4=na.settings)||null==(e0=e4.library)?void 0:e0.disableUpdateCheck)&&l_,nY=null!=(lD=null==na||null==(at=na.settings)||null==(al=at.library)?void 0:al.enableOnlinestream)&&lD,n0=null!=(lT=null==na||null==(ao=na.settings)||null==(ai=ao.library)?void 0:ai.includeOnlineStreamingInLibrary)&&lT,n1=null!=(lA=null==na||null==(ad=na.settings)||null==(ac=ad.library)?void 0:ac.disableAnimeCardTrailers)&&lA,n2=null!=(lM=null==na||null==(am=na.settings)||null==(au=am.library)?void 0:au.enableManga)&&lM,n3=null!=(lL=null==na||null==(ab=na.settings)||null==(ah=ab.discord)?void 0:ah.enableRichPresence)&&lL,n4=null!=(lI=null==na||null==(ax=na.settings)||null==(ag=ax.discord)?void 0:ag.enableAnimeRichPresence)&&lI,n5=null!=(lR=null==na||null==(ay=na.settings)||null==(ap=ay.discord)?void 0:ap.enableMangaRichPresence)&&lR,n6=null!=(lE=null==na||null==(av=na.settings)||null==(af=av.anilist)?void 0:af.enableAdultContent)&&lE,n7=null!=(lH=null==na||null==(aj=na.settings)||null==(aS=aj.anilist)?void 0:aS.blurAdultContent)&&lH,n8=(null==na||null==(aw=na.settings)||null==(aC=aw.library)?void 0:aC.dohProvider)||"-",n9=null!=(lB=null==na||null==(aN=na.settings)||null==(aP=aN.library)?void 0:aP.openTorrentClientOnStart)&&lB,re=null!=(lU=null==na||null==(a_=na.settings)||null==(ak=a_.library)?void 0:ak.openWebURLOnStart)&&lU,ra=null!=(lK=null==na||null==(aT=na.settings)||null==(aD=aT.library)?void 0:aD.refreshLibraryOnStart)&&lK,rl=null!=(lO=null==na||null==(aM=na.settings)||null==(aA=aM.discord)?void 0:aA.richPresenceHideSeanimeRepositoryButton)&&lO,rt=null!=(lF=null==na||null==(aI=na.settings)||null==(aL=aI.discord)?void 0:aL.richPresenceShowAniListMediaButton)&&lF,rn=null!=(lG=null==na||null==(aE=na.settings)||null==(aR=aE.discord)?void 0:aR.richPresenceShowAniListProfileButton)&&lG,rr=null!=(lq=null==na||null==(aB=na.settings)||null==(aH=aB.discord)?void 0:aH.richPresenceUseMediaTitleStatus)&&lq,rs=null!=(lV=null==na||null==(aK=na.settings)||null==(aU=aK.notifications)?void 0:aU.disableNotifications)&&lV,ri=null!=(lz=null==na||null==(aF=na.settings)||null==(aO=aF.notifications)?void 0:aO.disableAutoDownloaderNotifications)&&lz,ro=null!=(l$=null==na||null==(aq=na.settings)||null==(aG=aq.notifications)?void 0:aG.disableAutoScannerNotifications)&&l$,rc=(null==na||null==(az=na.settings)||null==(aV=az.manga)?void 0:aV.defaultMangaProvider)||"-",rd=null!=(lW=null==na||null==(aW=na.settings)||null==(a$=aW.manga)?void 0:a$.mangaAutoUpdateProgress)&&lW,ru=null!=(lX=null==na||null==(aZ=na.settings)||null==(aX=aZ.torrent)?void 0:aX.showActiveTorrentCount)&&lX,rm=null!=(lZ=null==na||null==(aJ=na.settings)||null==(aQ=aJ.library)?void 0:aQ.autoPlayNextEpisode)&&lZ,rh=null!=(lQ=null==na||null==(a0=na.settings)||null==(aY=a0.library)?void 0:aY.enableWatchContinuity)&&lQ;ne[60]!==(null==na||null==(a2=na.settings)||null==(a1=a2.library)?void 0:a1.libraryPaths)?(tQ=null!=(l2=null==na||null==(lY=na.settings)||null==(lJ=lY.library)?void 0:lJ.libraryPaths)?l2:[],ne[60]=null==na||null==(l1=na.settings)||null==(l0=l1.library)?void 0:l0.libraryPaths,ne[61]=tQ):tQ=ne[61];let rb=null!=(l3=null==na||null==(a4=na.settings)||null==(a3=a4.library)?void 0:a3.autoSyncOfflineLocalData)&&l3,rg=null!=(l4=null==na||null==(a6=na.settings)||null==(a5=a6.library)?void 0:a5.scannerMatchingThreshold)?l4:.5,rx=(null==na||null==(a8=na.settings)||null==(a7=a8.library)?void 0:a7.scannerMatchingAlgorithm)||"-",rp=(null==na||null==(le=na.settings)||null==(a9=le.manga)?void 0:a9.mangaLocalSourceDirectory)||"",ry=null!=(l5=null==na||null==(ll=na.settings)||null==(la=ll.library)?void 0:la.autoSyncToLocalAccount)&&l5,rf=null!=(l6=null==na||null==(ln=na.settings)||null==(lt=ln.nakama)?void 0:lt.enabled)&&l6,rv=null!=(l7=null==na||null==(ls=na.settings)||null==(lr=ls.nakama)?void 0:lr.username)?l7:"",rS=null!=(l8=null==na||null==(lo=na.settings)||null==(li=lo.nakama)?void 0:li.isHost)&&l8,rj=null!=(l9=null==na||null==(ld=na.settings)||null==(lc=ld.nakama)?void 0:lc.remoteServerURL)?l9:"",rC=null!=(te=null==na||null==(lm=na.settings)||null==(lu=lm.nakama)?void 0:lu.remoteServerPassword)?te:"",rw=null!=(ta=null==na||null==(lb=na.settings)||null==(lh=lb.nakama)?void 0:lh.hostShareLocalAnimeLibrary)&&ta,rP=null!=(tl=null==na||null==(lx=na.settings)||null==(lg=lx.nakama)?void 0:lg.hostPassword)?tl:"",rN=null!=(tt=null==na||null==(ly=na.settings)||null==(lp=ly.nakama)?void 0:lp.includeNakamaAnimeLibrary)&&tt;ne[62]!==(null==na||null==(lv=na.settings)||null==(lf=lv.nakama)?void 0:lf.hostUnsharedAnimeIds)?(tJ=null!=(to=null==na||null==(tr=na.settings)||null==(tn=tr.nakama)?void 0:tn.hostUnsharedAnimeIds)?to:[],ne[62]=null==na||null==(ti=na.settings)||null==(ts=ti.nakama)?void 0:ts.hostUnsharedAnimeIds,ne[63]=tJ):tJ=ne[63];let rk=null!=(tc=null==na||null==(lj=na.settings)||null==(lS=lj.library)?void 0:lS.autoSaveCurrentMediaOffline)&&tc;return ne[64]!==tQ||ne[65]!==rb||ne[66]!==rg||ne[67]!==rx||ne[68]!==rp||ne[69]!==ry||ne[70]!==rf||ne[71]!==rv||ne[72]!==rS||ne[73]!==rj||ne[74]!==rC||ne[75]!==rw||ne[76]!==rP||ne[77]!==rN||ne[78]!==tJ||ne[79]!==rk||ne[80]!==nv||ne[81]!==nS||ne[82]!==nj||ne[83]!==nC||ne[84]!==nw||ne[85]!==nP||ne[86]!==nN||ne[87]!==nk||ne[88]!==n_||ne[89]!==nD||ne[90]!==nT||ne[91]!==nA||ne[92]!==nM||ne[93]!==nL||ne[94]!==nI||ne[95]!==nR||ne[96]!==nE||ne[97]!==nH||ne[98]!==nB||ne[99]!==nU||ne[100]!==nK||ne[101]!==nO||ne[102]!==nF||ne[103]!==nG||ne[104]!==nq||ne[105]!==nV||ne[106]!==nz||ne[107]!==n$||ne[108]!==nW||ne[109]!==nX||ne[110]!==nZ||ne[111]!==nQ||ne[112]!==nJ||ne[113]!==nY||ne[114]!==n0||ne[115]!==n1||ne[116]!==n2||ne[117]!==n3||ne[118]!==n4||ne[119]!==n5||ne[120]!==n6||ne[121]!==n7||ne[122]!==n8||ne[123]!==n9||ne[124]!==re||ne[125]!==ra||ne[126]!==rl||ne[127]!==rt||ne[128]!==rn||ne[129]!==rr||ne[130]!==rs||ne[131]!==ri||ne[132]!==ro||ne[133]!==rc||ne[134]!==rd||ne[135]!==ru||ne[136]!==rm||ne[137]!==rh?(tY={libraryPath:nv,mediaPlayerHost:nS,torrentProvider:nj,autoScan:nC,defaultPlayer:nw,vlcPort:nP,vlcUsername:nN,vlcPassword:nk,vlcPath:n_,mpcPort:nD,mpcPath:nT,mpvSocket:nA,mpvPath:nM,mpvArgs:nL,iinaSocket:nI,iinaPath:nR,iinaArgs:nE,defaultTorrentClient:nH,hideTorrentList:nB,qbittorrentPath:nU,qbittorrentHost:nK,qbittorrentPort:nO,qbittorrentPassword:nF,qbittorrentUsername:nG,qbittorrentTags:nq,transmissionPath:nV,transmissionHost:nz,transmissionPort:n$,transmissionUsername:nW,transmissionPassword:nX,hideAudienceScore:nZ,autoUpdateProgress:nQ,disableUpdateCheck:nJ,enableOnlinestream:nY,includeOnlineStreamingInLibrary:n0,disableAnimeCardTrailers:n1,enableManga:n2,enableRichPresence:n3,enableAnimeRichPresence:n4,enableMangaRichPresence:n5,enableAdultContent:n6,blurAdultContent:n7,dohProvider:n8,openTorrentClientOnStart:n9,openWebURLOnStart:re,refreshLibraryOnStart:ra,richPresenceHideSeanimeRepositoryButton:rl,richPresenceShowAniListMediaButton:rt,richPresenceShowAniListProfileButton:rn,richPresenceUseMediaTitleStatus:rr,disableNotifications:rs,disableAutoDownloaderNotifications:ri,disableAutoScannerNotifications:ro,defaultMangaProvider:rc,mangaAutoUpdateProgress:rd,showActiveTorrentCount:ru,autoPlayNextEpisode:rm,enableWatchContinuity:rh,libraryPaths:tQ,autoSyncOfflineLocalData:rb,scannerMatchingThreshold:rg,scannerMatchingAlgorithm:rx,mangaLocalSourceDirectory:rp,autoSyncToLocalAccount:ry,nakamaEnabled:rf,nakamaUsername:rv,nakamaIsHost:rS,nakamaRemoteServerURL:rj,nakamaRemoteServerPassword:rC,nakamaHostShareLocalAnimeLibrary:rw,nakamaHostPassword:rP,includeNakamaAnimeLibrary:rN,nakamaHostUnsharedAnimeIds:tJ,autoSaveCurrentMediaOffline:rk},ne[64]=tQ,ne[65]=rb,ne[66]=rg,ne[67]=rx,ne[68]=rp,ne[69]=ry,ne[70]=rf,ne[71]=rv,ne[72]=rS,ne[73]=rj,ne[74]=rC,ne[75]=rw,ne[76]=rP,ne[77]=rN,ne[78]=tJ,ne[79]=rk,ne[80]=nv,ne[81]=nS,ne[82]=nj,ne[83]=nC,ne[84]=nw,ne[85]=nP,ne[86]=nN,ne[87]=nk,ne[88]=n_,ne[89]=nD,ne[90]=nT,ne[91]=nA,ne[92]=nM,ne[93]=nL,ne[94]=nI,ne[95]=nR,ne[96]=nE,ne[97]=nH,ne[98]=nB,ne[99]=nU,ne[100]=nK,ne[101]=nO,ne[102]=nF,ne[103]=nG,ne[104]=nq,ne[105]=nV,ne[106]=nz,ne[107]=n$,ne[108]=nW,ne[109]=nX,ne[110]=nZ,ne[111]=nQ,ne[112]=nJ,ne[113]=nY,ne[114]=n0,ne[115]=n1,ne[116]=n2,ne[117]=n3,ne[118]=n4,ne[119]=n5,ne[120]=n6,ne[121]=n7,ne[122]=n8,ne[123]=n9,ne[124]=re,ne[125]=ra,ne[126]=rl,ne[127]=rt,ne[128]=rn,ne[129]=rr,ne[130]=rs,ne[131]=ri,ne[132]=ro,ne[133]=rc,ne[134]=rd,ne[135]=ru,ne[136]=rm,ne[137]=rh,ne[138]=tY):tY=ne[138],ne[139]!==ng||ne[140]!==ni||ne[141]!==nh||ne[142]!==(null==na?void 0:na.dataDir)||ne[143]!==(null==na||null==(lw=na.settings)||null==(lC=lw.torrent)?void 0:lC.defaultTorrentClient)||ne[144]!==nu?(t0=e=>{var a,l,n,r;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{}),(0,t.jsxs)(eF.av,{value:"seanime",className:aa,children:[(0,t.jsx)(h.Gb,{title:"App",description:"General app settings",icon:L.tXg}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 slide-in-from-bottom duration-500 delay-150",children:[!!(null==na?void 0:na.dataDir)&&(0,t.jsx)(g.$n,{size:"sm",intent:"gray-outline",onClick:()=>nh({path:null==na?void 0:na.dataDir}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md",leftIcon:(0,t.jsx)(I.j$e,{className:"transition-transform duration-200 group-hover:scale-110"}),children:"Open Data directory"}),(0,t.jsx)(g.$n,{size:"sm",intent:"gray-outline",onClick:ng,leftIcon:(0,t.jsx)(e7.NWf,{className:"transition-transform duration-200 group-hover:scale-110"}),className:"transition-all duration-200 hover:scale-105 hover:shadow-md group",children:"Record an issue"})]}),(0,t.jsx)(eR,{isPending:ni})]}),(0,t.jsxs)(eF.av,{value:"library",className:aa,children:[(0,t.jsx)(h.Gb,{title:"Local Anime Library",description:"Manage your local anime library",icon:L.rjU}),(0,t.jsx)(J,{isPending:ni})]}),(0,t.jsx)(eF.av,{value:"local",className:aa,children:(0,t.jsx)(e9,{isPending:ni})}),(0,t.jsx)(eF.av,{value:"manga",className:aa,children:(0,t.jsx)(eC,{isPending:ni})}),(0,t.jsxs)(eF.av,{value:"onlinestream",className:aa,children:[(0,t.jsx)(h.Gb,{title:"Online Streaming",description:"Configure online streaming settings",icon:W.Vvz}),(0,t.jsx)(h.KT,{children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"enableOnlinestream",label:"Enable",help:"Watch anime episodes from online sources."})}),(0,t.jsx)(h.KT,{title:"My library",children:(0,t.jsx)(p.D0.Switch,{side:"right",name:"includeOnlineStreamingInLibrary",label:"Include in library",help:"Add non-downloaded shows that are in your currently watching list to 'My library' for streaming"})}),(0,t.jsx)(w,{isPending:ni})]}),(0,t.jsxs)(eF.av,{value:"discord",className:aa,children:[(0,t.jsx)(h.Gb,{title:"Discord",description:"Configure Discord rich presence settings",icon:eh.O4U}),(0,t.jsx)(e8,{}),(0,t.jsx)(w,{isPending:ni})]}),(0,t.jsxs)(eF.av,{value:"torrent",className:aa,children:[(0,t.jsx)(h.Gb,{title:"Torrent Provider",description:"Configure the torrent provider",icon:L.mgw}),(0,t.jsx)(h.KT,{children:(0,t.jsx)(p.D0.Select,{name:"torrentProvider",label:"Default Torrent Provider",help:"Used by the search engine and auto downloader. AnimeTosho is recommended for better results. Select 'None' if you don't need torrent support.",leftIcon:(0,t.jsx)(I.j$e,{className:"text-orange-500"}),options:[...(null!=(r=null==nu||null==(a=nu.filter(as))?void 0:a.map(ar))?r:[]).sort(an),{label:"None",value:D.xF.NONE}]})}),(0,t.jsx)(w,{isPending:ni})]}),(0,t.jsx)(eF.av,{value:"media-player",className:aa,children:(0,t.jsx)(R,{isPending:ni})}),(0,t.jsx)(eF.av,{value:"external-player-link",className:aa,children:(0,t.jsx)(E,{})}),(0,t.jsx)(eF.av,{value:"playback",className:aa,children:(0,t.jsx)(G,{})}),(0,t.jsxs)(eF.av,{value:"torrent-client",className:aa,children:[(0,t.jsx)(h.Gb,{title:"Torrent Client",description:"Configure the torrent client",icon:O.C99}),(0,t.jsx)(h.KT,{children:(0,t.jsx)(p.D0.Select,{name:"defaultTorrentClient",label:"Default Torrent Client",options:[{label:"qBittorrent",value:"qbittorrent"},{label:"Transmission",value:"transmission"},{label:"None",value:"none"}]})}),(0,t.jsxs)(N.nD,{type:"single",className:"group/settings-card relative bg-gray-950/70 rounded-xl border overflow-hidden",triggerClass:"px-4 py-3 text-[--muted] dark:data-[state=open]:text-white dark:hover:bg-transparent hover:bg-transparent dark:hover:text-white !font-medium transition-all duration-200 hover:translate-x-1",itemClass:"border-b border-[--border] rounded-none transition-all duration-200 hover:border-[--brand]/30",contentClass:"!p-4 animate-in duration-300",collapsible:!0,defaultValue:null==na||null==(n=na.settings)||null==(l=n.torrent)?void 0:l.defaultTorrentClient,children:[(0,t.jsxs)(N.As,{value:"qbittorrent",children:[(0,t.jsx)(N.$m,{children:(0,t.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,t.jsx)(eE.fy_,{className:"text-blue-400"})," qBittorrent"]})}),(0,t.jsxs)(N.ub,{className:"p-0 py-4 space-y-4",children:[(0,t.jsx)(p.D0.Text,{name:"qbittorrentHost",label:"Host"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)(p.D0.Text,{name:"qbittorrentUsername",label:"Username"}),(0,t.jsx)(p.D0.Text,{name:"qbittorrentPassword",label:"Password"}),(0,t.jsx)(p.D0.Number,{name:"qbittorrentPort",label:"Port",formatOptions:{useGrouping:!1}})]}),(0,t.jsx)(p.D0.Text,{name:"qbittorrentPath",label:"Executable"}),(0,t.jsx)(p.D0.Text,{name:"qbittorrentTags",label:"Tags",help:"Comma separated tags to apply to downloaded torrents. e.g. seanime,anime"})]})]}),(0,t.jsxs)(N.As,{value:"transmission",children:[(0,t.jsx)(N.$m,{children:(0,t.jsxs)("h4",{className:"flex gap-2 items-center",children:[(0,t.jsx)(eE.nfy,{className:"text-orange-200"})," Transmission"]})}),(0,t.jsxs)(N.ub,{className:"p-0 py-4 space-y-4 !border-b-0",children:[(0,t.jsx)(p.D0.Text,{name:"transmissionHost",label:"Host"}),(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,t.jsx)(p.D0.Text,{name:"transmissionUsername",label:"Username"}),(0,t.jsx)(p.D0.Text,{name:"transmissionPassword",label:"Password"}),(0,t.jsx)(p.D0.Number,{name:"transmissionPort",label:"Port",formatOptions:{useGrouping:!1}})]}),(0,t.jsx)(p.D0.Text,{name:"transmissionPath",label:"Executable"})]})]})]}),(0,t.jsxs)(h.KT,{title:"Integration",children:[(0,t.jsx)(p.D0.Switch,{side:"right",name:"showActiveTorrentCount",label:"Show active torrent count",help:"Show the number of active torrents in the sidebar. (Memory intensive)"}),(0,t.jsx)(p.D0.Switch,{side:"right",name:"openTorrentClientOnStart",label:"Open torrent client on startup"})]}),(0,t.jsx)(w,{isPending:ni})]}),(0,t.jsx)(eF.av,{value:"nakama",className:aa,children:(0,t.jsx)(ae,{isPending:ni})})]})},ne[139]=ng,ne[140]=ni,ne[141]=nh,ne[142]=null==na?void 0:na.dataDir,ne[143]=null==na||null==(tu=na.settings)||null==(td=tu.torrent)?void 0:td.defaultTorrentClient,ne[144]=nu,ne[145]=t0):t0=ne[145],ne[146]!==tY||ne[147]!==t0||ne[148]!==tZ?(t1=(0,t.jsx)(p.lV,{schema:D.dP,mRef:nd,onSubmit:tZ,defaultValues:tY,stackClass:"space-y-0 relative",children:t0}),ne[146]=tY,ne[147]=t0,ne[148]=tZ,ne[149]=t1):t1=ne[149],ne[150]===Symbol.for("react.memo_cache_sentinel")?(t2=(0,t.jsx)(eF.av,{value:"mediastream",className:aa,children:(0,t.jsx)(eT,{})}),ne[150]=t2):t2=ne[150],ne[151]===Symbol.for("react.memo_cache_sentinel")?(t3=(0,t.jsxs)(eF.av,{value:"ui",className:aa,children:[(0,t.jsx)(h.Gb,{title:"User Interface",description:"Customize the user interface",icon:L.ZkX}),(0,t.jsx)(e1,{})]}),ne[151]=t3):t3=ne[151],ne[152]===Symbol.for("react.memo_cache_sentinel")?(t4=(0,t.jsx)(h.Gb,{title:"Torrent Streaming",description:"Configure torrent streaming settings",icon:eE.gC$}),ne[152]=t4):t4=ne[152],ne[153]!==nm?(t5=(0,t.jsxs)(eF.av,{value:"torrentstream",className:aa,children:[t4,(0,t.jsx)(eB,{settings:nm})]}),ne[153]=nm,ne[154]=t5):t5=ne[154],ne[155]===Symbol.for("react.memo_cache_sentinel")?(t6=(0,t.jsxs)(eF.av,{value:"logs",className:aa,children:[(0,t.jsx)(h.Gb,{title:"Logs",description:"View the logs",icon:L.c4Z}),(0,t.jsx)(eb,{}),(0,t.jsx)(Q.w,{}),(0,t.jsx)(h.Gb,{title:"Cache",description:"Manage the cache",icon:X.NnF}),(0,t.jsx)(ei,{})]}),ne[155]=t6):t6=ne[155],ne[156]===Symbol.for("react.memo_cache_sentinel")?(t7=(0,t.jsx)(eF.av,{value:"debrid",className:aa,children:(0,t.jsx)(en,{})}),ne[156]=t7):t7=ne[156],ne[157]!==t1||ne[158]!==t5?(t8=(0,t.jsxs)("div",{className:"",children:[t1,t2,t3,t5,t6,t7]}),ne[157]=t1,ne[158]=t5,ne[159]=t8):t8=ne[159],ne[160]!==nc||ne[161]!==t8||ne[162]!==tX||ne[163]!==no?(t9=(0,t.jsxs)(t.Fragment,{children:[tf,(0,t.jsx)(e2.f,{"data-settings-page-container":!0,className:"p-4 sm:p-8 space-y-4 relative",children:(0,t.jsxs)(eF.tU,{value:no,onValueChange:nc,className:tS,triggerClass:tj,listClass:tv,"data-settings-page-tabs":!0,children:[tX,t8]})})]}),ne[160]=nc,ne[161]=t8,ne[162]=tX,ne[163]=no,ne[164]=t9):t9=ne[164],t9}function an(e,a){var l,t;return null!=(t=null==e||null==(l=e.label)?void 0:l.localeCompare(null==a?void 0:a.label))?t:0}function ar(e){return{label:e.name,value:e.id}}function as(e){var a;return(null==e||null==(a=e.settings)?void 0:a.type)==="main"}}},e=>{var a=a=>e(e.s=a);e.O(0,[7518,3873,5271,3380,844,9204,6446,2150,6711,585,5479,4506,5897,8087,5760,3603,7753,7949,2362,4613,512,9910,8429,8481,2202,4777,7825,1805,5290,4762,4218,4791,7228,6905,9986,1597,7528,5045,4809,9690,9325,9360,8154,1298,5340,4101,1029,1078,1683,5334,6862,4033,9484,9832,5565,2975,7363,5667,8441,6891,7358],()=>a(8713)),_N_E=e.O()}]);