(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[978],{13461:function(e,t,r){var n=r(65491).w_;e.exports.n=function(e){return n({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#3F51B5",d:"M43.4,8.3L4,15l-0.3-2c-0.4-2.2,1.1-4.2,3.3-4.6l31.6-5.3c2.2-0.4,4.2,1.1,4.6,3.3L43.4,8.3z"}},{tag:"path",attr:{fill:"#3F51B5",d:"M40,41H8c-2.2,0-4-1.8-4-4V15h40v22C44,39.2,42.2,41,40,41z"}},{tag:"g",attr:{fill:"#9FA8DA"},child:[{tag:"polygon",attr:{points:"18.8,6.4 23.7,11.7 27.7,11 22.7,5.7"}},{tag:"polygon",attr:{points:"10.9,7.7 15.8,13 19.8,12.3 14.8,7.1"}},{tag:"polygon",attr:{points:"26.7,5.1 31.6,10.3 35.5,9.7 30.6,4.4"}},{tag:"polygon",attr:{points:"34.5,3.8 39.5,9 43.4,8.3 38.5,3.1"}}]},{tag:"circle",attr:{fill:"#9FA8DA",cx:"7.5",cy:"11.5",r:"1.5"}},{tag:"g",attr:{fill:"#9FA8DA"},child:[{tag:"polygon",attr:{points:"40,15 36,21 40,21 44,15"}},{tag:"polygon",attr:{points:"32,15 28,21 32,21 36,15"}},{tag:"polygon",attr:{points:"24,15 20,21 24,21 28,15"}},{tag:"polygon",attr:{points:"16,15 12,21 16,21 20,15"}},{tag:"polygon",attr:{points:"8,15 4,21 8,21 12,15"}}]}]})(e)}},66834:function(e,t,r){var n=r(65491).w_;e.exports.T=function(e){return n({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#FFA000",d:"M40,12H22l-4-4H8c-2.2,0-4,1.8-4,4v8h40v-4C44,13.8,42.2,12,40,12z"}},{tag:"path",attr:{fill:"#FFCA28",d:"M40,12H8c-2.2,0-4,1.8-4,4v20c0,2.2,1.8,4,4,4h32c2.2,0,4-1.8,4-4V16C44,13.8,42.2,12,40,12z"}}]})(e)}},13986:function(e,t,r){var n=r(65491).w_;e.exports.a=function(e){return n({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"polygon",attr:{fill:"#CFD8DC",points:"39.4,23 38.6,19 26,21.6 26,8 22,8 22,20.3 8.1,11.3 5.9,14.7 21.1,24.5 9.4,39.8 12.6,42.2 23.9,27.4 32.3,40.1 35.7,37.9 27.3,25.4"}},{tag:"circle",attr:{fill:"#3F51B5",cx:"24",cy:"24",r:"7"}},{tag:"g",attr:{fill:"#00BCD4"},child:[{tag:"circle",attr:{cx:"24",cy:"8",r:"5"}},{tag:"circle",attr:{cx:"39",cy:"21",r:"5"}},{tag:"circle",attr:{cx:"7",cy:"13",r:"5"}},{tag:"circle",attr:{cx:"11",cy:"41",r:"5"}},{tag:"circle",attr:{cx:"34",cy:"39",r:"5"}}]}]})(e)}},82777:function(e,t,r){var n=r(65491).w_;e.exports.E=function(e){return n({tag:"svg",attr:{version:"1",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#4CAF50",d:"M8,12h22c2.2,0,4,1.8,4,4v16c0,2.2-1.8,4-4,4H8c-2.2,0-4-1.8-4-4V16C4,13.8,5.8,12,8,12z"}},{tag:"polygon",attr:{fill:"#388E3C",points:"44,35 34,29 34,19 44,13"}}]})(e)}},93722:function(e,t,r){var n=r(65491).w_;e.exports.p=function(e){return n({tag:"svg",attr:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 48 48",enableBackground:"new 0 0 48 48"},child:[{tag:"path",attr:{fill:"#F57C00",d:"M36.258,28.837c0,0-0.11-0.837-1.257-0.837c-0.216,0-2.392,0-3.719,0c0.798,2.671,1.497,5.135,1.497,5.279\r\n	c0,2.387-3.401,3.393-8.917,3.393c-5.515,0-8.651-0.94-8.651-3.326c0-0.167,0.998-2.692,1.791-5.346c-1.591,0-3.863,0-4.063,0\r\n	c-0.806,0-0.937,0.749-0.937,0.749L8.159,40.986L8.815,42h30.652l0.376-1.014L36.258,28.837z"}},{tag:"path",attr:{fill:"#E0E0E0",d:"M24.001,6c-1.029,0-1.864,0.179-1.864,0.398c-0.492,1.483-8.122,26.143-8.122,26.774\r\n	c0,2.388,4.471,3.827,9.985,3.827s9.986-1.439,9.986-3.827c0-0.549-7.614-25.268-8.122-26.774C25.865,6.179,25.031,6,24.001,6\r\n	L24.001,6z"}},{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"#FF9800",d:"M33.196,30.447C32.032,32.232,28.341,34,24.046,34c-4.34,0-8.156-1.696-9.281-3.51\r\n		c-0.499,1.483-0.892,2.647-0.892,3.28c0,2.386,4.533,4.229,10.128,4.229c5.595,0,10.131-1.844,10.131-4.229\r\n		C34.132,33.222,33.713,31.955,33.196,30.447z"}},{tag:"path",attr:{fill:"#FF9800",d:"M31.387,24.314l-2.074-6.794c0,0-1.857,1.479-5.311,1.479c-3.453,0-5.316-1.479-5.316-1.479l-2.081,6.806\r\n		c0,0,2.068,2.674,7.397,2.674C29.375,27,31.387,24.314,31.387,24.314z"}},{tag:"path",attr:{fill:"#FF9800",d:"M27.241,10.809l-1.376-4.41c0,0-0.083-0.398-1.864-0.398c-1.844,0-1.864,0.398-1.864,0.398l-1.376,4.407\r\n		c0,0,0.885,1.194,3.239,1.194C26.355,12,27.241,10.809,27.241,10.809z"}}]}]})(e)}},60934:function(e,t,r){Promise.resolve().then(r.bind(r,50942))},50942:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Page}});var n=r(57437),l=r(23890),o=r(751),a=r(2265),i=r(26345),s=r(63479),c=r(66834),d=r(34813),u=r(82777),p=r(93722),g=r(13461),v=r(13986),m=r(51472),f=r(57638),h=r(5925),P=r(87826);function Page(){var e,t,r,b,y,x,j,C,N,k,I,S,E,A,z,q,T,D,U,F,B,H,_,R,L,O,K,Q,Z,$,W;let[G,J]=(0,l.KO)(o.X),{mutate:X,data:et,isPending:er}=(0,m.$U)({endpoint:f.E.SETTINGS,mutationKey:["patch-settings"],method:"patch",onSuccess:()=>{h.ZP.success("Settings updated")}});return(0,a.useEffect)(()=>{!er&&(null==et?void 0:et.settings)&&J(et)},[et,er]),(0,n.jsxs)("div",{className:"p-12 space-y-4",children:[(0,n.jsx)("h2",{children:"Settings"}),(0,n.jsxs)(i.Fu,{schema:s.R,onSubmit:e=>{X({library:{libraryPath:e.libraryPath},mediaPlayer:{host:e.mediaPlayerHost,defaultPlayer:e.defaultPlayer,vlcPort:e.vlcPort,vlcUsername:e.vlcUsername||"",vlcPassword:e.vlcPassword,vlcPath:e.vlcPath||"",mpcPort:e.mpcPort,mpcPath:e.mpcPath||""},torrent:{qbittorrentPath:e.qbittorrentPath,qbittorrentHost:e.qbittorrentHost,qbittorrentPort:e.qbittorrentPort,qbittorrentPassword:e.qbittorrentPassword,qbittorrentUsername:e.qbittorrentUsername},anilist:{hideAudienceScore:e.hideAudienceScore}})},defaultValues:{libraryPath:null==G?void 0:null===(t=G.settings)||void 0===t?void 0:null===(e=t.library)||void 0===e?void 0:e.libraryPath,mediaPlayerHost:null==G?void 0:null===(b=G.settings)||void 0===b?void 0:null===(r=b.mediaPlayer)||void 0===r?void 0:r.host,defaultPlayer:null==G?void 0:null===(x=G.settings)||void 0===x?void 0:null===(y=x.mediaPlayer)||void 0===y?void 0:y.defaultPlayer,vlcPort:null==G?void 0:null===(C=G.settings)||void 0===C?void 0:null===(j=C.mediaPlayer)||void 0===j?void 0:j.vlcPort,vlcUsername:null==G?void 0:null===(k=G.settings)||void 0===k?void 0:null===(N=k.mediaPlayer)||void 0===N?void 0:N.vlcUsername,vlcPassword:null==G?void 0:null===(S=G.settings)||void 0===S?void 0:null===(I=S.mediaPlayer)||void 0===I?void 0:I.vlcPassword,vlcPath:null==G?void 0:null===(A=G.settings)||void 0===A?void 0:null===(E=A.mediaPlayer)||void 0===E?void 0:E.vlcPath,mpcPort:null==G?void 0:null===(q=G.settings)||void 0===q?void 0:null===(z=q.mediaPlayer)||void 0===z?void 0:z.mpcPort,mpcPath:null==G?void 0:null===(D=G.settings)||void 0===D?void 0:null===(T=D.mediaPlayer)||void 0===T?void 0:T.mpcPath,qbittorrentPath:null==G?void 0:null===(F=G.settings)||void 0===F?void 0:null===(U=F.torrent)||void 0===U?void 0:U.qbittorrentPath,qbittorrentHost:null==G?void 0:null===(H=G.settings)||void 0===H?void 0:null===(B=H.torrent)||void 0===B?void 0:B.qbittorrentHost,qbittorrentPort:null==G?void 0:null===(R=G.settings)||void 0===R?void 0:null===(_=R.torrent)||void 0===_?void 0:_.qbittorrentPort,qbittorrentPassword:null==G?void 0:null===(O=G.settings)||void 0===O?void 0:null===(L=O.torrent)||void 0===L?void 0:L.qbittorrentPassword,qbittorrentUsername:null==G?void 0:null===(Q=G.settings)||void 0===Q?void 0:null===(K=Q.torrent)||void 0===K?void 0:K.qbittorrentUsername,hideAudienceScore:null!==(W=null==G?void 0:null===($=G.settings)||void 0===$?void 0:null===(Z=$.anilist)||void 0===Z?void 0:Z.hideAudienceScore)&&void 0!==W&&W},stackClassName:"space-y-4",children:[(0,n.jsx)(i.gN.DirectorySelector,{name:"libraryPath",label:"Library folder",leftIcon:(0,n.jsx)(c.T,{}),help:"Folder where your anime library is located. (Keep the casing consistent)",shouldExist:!0}),(0,n.jsx)(d.iz,{}),(0,n.jsxs)(P.UQ,{containerClassName:"hidden md:block space-y-4",triggerClassName:"border border-[--border] bg-gray-900 bg-opacity-80 dark:bg-gray-900 dark:bg-opacity-80 hover:bg-gray-800 dark:hover:bg-gray-800 hover:bg-opacity-100 dark:hover:bg-opacity-100",panelClassName:"p-8 border border-[--border] rounded-md mt-4 space-y-4",children:[(0,n.jsxs)(P.UQ.Item,{title:"Media Player",children:[(0,n.jsx)(i.gN.Select,{name:"defaultPlayer",label:"Default player",leftIcon:(0,n.jsx)(u.E,{}),options:[{label:"VLC",value:"vlc"},{label:"MPC-HC (Windows only)",value:"mpc-hc"}],help:"Player that will be used to open files and track your progress automatically."}),(0,n.jsx)(i.gN.Text,{name:"mediaPlayerHost",label:"Host"}),(0,n.jsx)(d.iz,{}),(0,n.jsxs)("h3",{className:"flex gap-2 items-center",children:[(0,n.jsx)(p.p,{})," VLC"]}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(i.gN.Text,{name:"vlcUsername",label:"Username"}),(0,n.jsx)(i.gN.Text,{name:"vlcPassword",label:"Password"}),(0,n.jsx)(i.gN.Number,{name:"vlcPort",label:"Port",discrete:!0})]}),(0,n.jsx)(i.gN.Text,{name:"vlcPath",label:"Application path"}),(0,n.jsx)(d.iz,{}),(0,n.jsxs)("h3",{className:"flex gap-2 items-center",children:[(0,n.jsx)(g.n,{})," MPC-HC"]}),(0,n.jsx)("div",{className:"flex gap-4",children:(0,n.jsx)(i.gN.Number,{name:"mpcPort",label:"Port",discrete:!0})}),(0,n.jsx)(i.gN.Text,{name:"mpcPath",label:"Application path"})]}),(0,n.jsxs)(P.UQ.Item,{title:"qBittorrent",children:[(0,n.jsxs)("h3",{className:"flex gap-2 items-center",children:[(0,n.jsx)(v.a,{})," qBittorrent"]}),(0,n.jsx)(i.gN.Text,{name:"qbittorrentHost",label:"Host"}),(0,n.jsxs)("div",{className:"flex gap-4",children:[(0,n.jsx)(i.gN.Text,{name:"qbittorrentUsername",label:"Username"}),(0,n.jsx)(i.gN.Text,{name:"qbittorrentPassword",label:"Password"}),(0,n.jsx)(i.gN.Number,{name:"qbittorrentPort",label:"Port",discrete:!0})]}),(0,n.jsx)(i.gN.Text,{name:"qbittorrentPath",label:"Application path"})]}),(0,n.jsx)(P.UQ.Item,{title:"AniList",children:(0,n.jsx)(i.gN.Switch,{name:"hideAudienceScore",label:"Hide audience score"})})]}),(0,n.jsx)(i.gN.Submit,{role:"save",isLoading:er})]})]})}},87826:function(e,t,r){"use strict";r.d(t,{UQ:function(){return d}});var n=r(57437),l=r(2265),o=r(18743),a=r(9805),i=r(54487),s=r(96061);let c=(0,i.xH)({container:(0,s.j)(["UI-Accordion__container","space-y-2"]),trigger:(0,s.j)(["UI-Accordion__trigger","bg-gray-50 dark:bg-gray-800 hover:bg-gray-100 dark:hover:bg-gray-700","flex w-full justify-between rounded-lg px-4 py-3 text-left font-medium transition","focus:outline-none focus-visible:ring-2 focus-visible:ring-[--ring] ring-offset-1"]),panel:(0,s.j)(["UI-Accordion__panel","py-2"]),item:(0,s.j)(["UI-Accordion__item"])}),_Accordion=e=>{let{children:t,triggerClassName:r,containerClassName:o,panelClassName:a,itemClassName:s,className:d,...u}=e,p=l.Children.map(t,e=>l.isValidElement(e)?l.cloneElement(e,{triggerClassName:r,panelClassName:a,itemClassName:s}):e);return(0,n.jsx)("div",{className:(0,i.cn)(c.container(),o,d),children:p})},AccordionItem=e=>{let{children:t,title:r,triggerClassName:l,panelClassName:s,itemClassName:d,className:u,defaultOpen:p,...g}=e;return(0,n.jsx)(o.p,{defaultOpen:p,children:e=>{let{open:p}=e;return(0,n.jsxs)("div",{className:(0,i.cn)(c.item(),d,u),...g,children:[(0,n.jsxs)(o.p.Button,{className:(0,i.cn)(c.trigger(),l),children:[r,(0,n.jsx)("svg",{className:(0,i.cn)("ml-1.5 h-5 w-5 flex-shrink-0 transition duration-300",{"-rotate-180":p}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),(0,n.jsx)(a.u,{show:p,enter:"transition duration-300 ease-out",enterFrom:"transform h-0 opacity-0",enterTo:"transform h-full opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform h-full opacity-100",leaveTo:"transform h-0 opacity-0",children:(0,n.jsx)(o.p.Panel,{static:!0,className:(0,i.cn)(c.panel(),s),children:t})})]})}})};AccordionItem.displayName="AccordionItem",_Accordion.Item=AccordionItem;let d=(0,i.Fm)(_Accordion);d.displayName="Accordion"},63479:function(e,t,r){"use strict";r.d(t,{R:function(){return l}});var n=r(74578);let l=n.z.object({libraryPath:n.z.string().min(1),defaultPlayer:n.z.string(),mediaPlayerHost:n.z.string(),vlcUsername:n.z.string().optional().default(""),vlcPassword:n.z.string().optional().default(""),vlcPort:n.z.number(),vlcPath:n.z.string().optional().default(""),mpcPort:n.z.number(),mpcPath:n.z.string().optional().default(""),qbittorrentPath:n.z.string().optional().default(""),qbittorrentHost:n.z.string(),qbittorrentPort:n.z.number(),qbittorrentUsername:n.z.string().optional().default(""),qbittorrentPassword:n.z.string().optional().default(""),hideAudienceScore:n.z.boolean().optional().default(!1)})},18743:function(e,t,r){"use strict";r.d(t,{p:function(){return I}});var n,l,o,a=r(2265),i=r(60597),s=r(11931),c=r(46618),d=r(75606),u=r(93850),p=r(35863),g=r(25306),v=r(8076),m=r(54851),f=r(12950);let h=null!=(o=a.startTransition)?o:function(e){e()};var P=((n=P||{})[n.Open=0]="Open",n[n.Closed=1]="Closed",n),b=((l=b||{})[l.ToggleDisclosure=0]="ToggleDisclosure",l[l.CloseDisclosure=1]="CloseDisclosure",l[l.SetButtonId=2]="SetButtonId",l[l.SetPanelId=3]="SetPanelId",l[l.LinkPanel=4]="LinkPanel",l[l.UnlinkPanel=5]="UnlinkPanel",l);let y={0:e=>({...e,disclosureState:(0,i.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,t)=>e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId},3:(e,t)=>e.panelId===t.panelId?e:{...e,panelId:t.panelId}},x=(0,a.createContext)(null);function M(e){let t=(0,a.useContext)(x);if(null===t){let t=Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,M),t}return t}x.displayName="DisclosureContext";let j=(0,a.createContext)(null);function w(e){let t=(0,a.useContext)(j);if(null===t){let t=Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,w),t}return t}j.displayName="DisclosureAPIContext";let C=(0,a.createContext)(null);function V(){return(0,a.useContext)(C)}function Y(e,t){return(0,i.E)(t.type,y,e,t)}C.displayName="DisclosurePanelContext";let N=a.Fragment;function ee(e,t){let{defaultOpen:r=!1,...n}=e,l=(0,a.useRef)(null),o=(0,c.T)(t,(0,c.h)(e=>{l.current=e},void 0===e.as||e.as===a.Fragment)),d=(0,a.useRef)(null),u=(0,a.useRef)(null),p=(0,a.useReducer)(Y,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:u,panelRef:d,buttonId:null,panelId:null}),[{disclosureState:v,buttonId:h},P]=p,b=(0,f.z)(e=>{P({type:1});let t=(0,m.r)(l);if(!t||!h)return;let r=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(h):t.getElementById(h);null==r||r.focus()}),y=(0,a.useMemo)(()=>({close:b}),[b]),C=(0,a.useMemo)(()=>({open:0===v,close:b}),[v,b]);return a.createElement(x.Provider,{value:p},a.createElement(j.Provider,{value:y},a.createElement(g.up,{value:(0,i.E)(v,{0:g.ZM.Open,1:g.ZM.Closed})},(0,s.sY)({ourProps:{ref:o},theirProps:n,slot:C,defaultTag:N,name:"Disclosure"}))))}function ne(e,t){let r=(0,d.M)(),{id:n=`headlessui-disclosure-button-${r}`,...l}=e,[o,i]=M("Disclosure.Button"),g=V(),m=null!==g&&g===o.panelId,h=(0,a.useRef)(null),P=(0,c.T)(h,t,m?null:o.buttonRef);(0,a.useEffect)(()=>{if(!m)return i({type:2,buttonId:n}),()=>{i({type:2,buttonId:null})}},[n,i,m]);let b=(0,f.z)(e=>{var t;if(m){if(1===o.disclosureState)return;switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),e.stopPropagation(),i({type:0}),null==(t=o.buttonRef.current)||t.focus()}}else switch(e.key){case u.R.Space:case u.R.Enter:e.preventDefault(),e.stopPropagation(),i({type:0})}}),y=(0,f.z)(e=>{e.key===u.R.Space&&e.preventDefault()}),x=(0,f.z)(t=>{var r;(0,p.P)(t.currentTarget)||e.disabled||(m?(i({type:0}),null==(r=o.buttonRef.current)||r.focus()):i({type:0}))}),j=(0,a.useMemo)(()=>({open:0===o.disclosureState}),[o]),C=(0,v.f)(e,h),N=m?{ref:P,type:C,onKeyDown:b,onClick:x}:{ref:P,id:n,type:C,"aria-expanded":0===o.disclosureState,"aria-controls":o.linkedPanel?o.panelId:void 0,onKeyDown:b,onKeyUp:y,onClick:x};return(0,s.sY)({ourProps:N,theirProps:l,slot:j,defaultTag:"button",name:"Disclosure.Button"})}let k=s.AN.RenderStrategy|s.AN.Static;function re(e,t){let r=(0,d.M)(),{id:n=`headlessui-disclosure-panel-${r}`,...l}=e,[o,i]=M("Disclosure.Panel"),{close:u}=w("Disclosure.Panel"),p=(0,c.T)(t,o.panelRef,e=>{h(()=>i({type:e?4:5}))});(0,a.useEffect)(()=>(i({type:3,panelId:n}),()=>{i({type:3,panelId:null})}),[n,i]);let v=(0,g.oJ)(),m=null!==v?(v&g.ZM.Open)===g.ZM.Open:0===o.disclosureState,f=(0,a.useMemo)(()=>({open:0===o.disclosureState,close:u}),[o,u]);return a.createElement(C.Provider,{value:o.panelId},(0,s.sY)({ourProps:{ref:p,id:n},theirProps:l,slot:f,defaultTag:"div",features:k,visible:m,name:"Disclosure.Panel"}))}let I=Object.assign((0,s.yV)(ee),{Button:(0,s.yV)(ne),Panel:(0,s.yV)(re)})}},function(e){e.O(0,[492,890,999,685,702,898,912,430,345,971,472,744],function(){return e(e.s=60934)}),_N_E=e.O()}]);