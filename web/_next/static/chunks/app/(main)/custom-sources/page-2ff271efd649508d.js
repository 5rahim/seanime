(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3184],{1382:(e,a,t)=>{"use strict";t.d(a,{z:()=>p});var r=t(95155),l=t(19749),n=t(99639),s=t(91360),i=t(90711),o=t(91332),c=t(94077),d=t(84218),u=t(12115),m=t(37178);function p(e){let a,t,p,h,g,f,b,y,x,v,S,j,_,C,N,k,w,O,T,E,P,U=(0,l.c)(47),{discrete:B,isLibraryScreen:M,isHomeScreen:z}=e,I=(0,o.Ky)();a=I.libraryScreenCustomBannerImage?(0,i.sU)(I.libraryScreenCustomBannerImage):"";let[A,L]=u.useState(!1),{y:R}=(0,m.A)();U[0]!==R?(t=()=>{R>100?L(!0):L(!1)},U[0]=R,U[1]=t):t=U[1];let K=R>100;if(U[2]!==K?(p=[K],U[2]=K,U[3]=p):p=U[3],(0,u.useEffect)(t,p),M&&I.libraryScreenBannerType!==o.H4.Custom||B&&I.libraryScreenCustomBackgroundImage||!a)return null;U[4]!==B||U[5]!==z||U[6]!==I.hideTopNavbar?(h=!B&&!z&&(0,r.jsx)("div",{"data-custom-library-banner-top-spacer":!0,className:(0,s.cn)("py-20",I.hideTopNavbar&&"py-28")}),U[4]=B,U[5]=z,U[6]=I.hideTopNavbar,U[7]=h):h=U[7];let D=B&&"opacity-20",F=!!I.libraryScreenCustomBackgroundImage&&"absolute",V=!I.libraryScreenCustomBackgroundImage&&A&&"opacity-5",q=!I.disableSidebarTransparency&&n.j,J=I.disableSidebarTransparency?"scroll-locked-offset-fixed":"scroll-locked-offset-custom-library-banner";U[8]!==D||U[9]!==F||U[10]!==V||U[11]!==q||U[12]!==J?(g=(0,s.cn)("__header h-[30rem] z-[1] top-0 w-full fixed group/library-header transition-opacity duration-1000",D,F,V,q,c.X&&"top-[-2rem]",J),U[8]=D,U[9]=F,U[10]=V,U[11]=q,U[12]=J,U[13]=g):g=U[13],U[14]!==B||U[15]!==I.disableSidebarTransparency?(f=!I.disableSidebarTransparency&&!B&&(0,r.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:"hidden lg:block h-full absolute z-[2] w-[20rem] opacity-70 left-0 top-0 bg-gradient bg-gradient-to-r from-[var(--background)] to-transparent"}),U[14]=B,U[15]=I.disableSidebarTransparency,U[16]=f):f=U[16],U[17]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:"w-full z-[3] absolute bottom-[-5rem] h-[5rem] bg-gradient-to-b from-[--background] via-transparent via-100% to-transparent"}),U[17]=b):b=U[17],U[18]===Symbol.for("react.memo_cache_sentinel")?(y={opacity:0},x={opacity:1,y:0},v={opacity:0},S={duration:1,delay:.2},j=(0,s.cn)("h-[30rem] z-[0] w-full flex-none absolute top-0 overflow-hidden","scroll-locked-offset"),U[18]=y,U[19]=x,U[20]=v,U[21]=S,U[22]=j):(y=U[18],x=U[19],v=U[20],S=U[21],j=U[22]);let X=B&&"opacity-70";U[23]!==X?(_=(0,s.cn)("CUSTOM_LIB_BANNER_TOP_FADE w-full absolute z-[2] top-0 h-[5rem] opacity-40 bg-gradient-to-b from-[--background] to-transparent via",X),U[23]=X,U[24]=_):_=U[24],U[25]!==_?(C=(0,r.jsx)("div",{"data-custom-library-banner-top-gradient":!0,className:_}),U[25]=_,U[26]=C):C=U[26],U[27]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.cn)("CUSTOM_LIB_BANNER_IMG z-[1] absolute inset-0 w-full h-full bg-cover bg-no-repeat transition-opacity duration-1000","scroll-locked-offset"),U[27]=N):N=U[27];let $="url(".concat(a,")"),G=I.libraryScreenCustomBannerPosition||"50% 50%",H=(I.libraryScreenCustomBannerOpacity||100)/100;U[28]!==$||U[29]!==G||U[30]!==H?(k=(0,r.jsx)("div",{"data-custom-library-banner-image":!0,className:N,style:{backgroundImage:$,backgroundPosition:G,opacity:H,backgroundRepeat:"no-repeat",backgroundSize:"cover"}}),U[28]=$,U[29]=G,U[30]=H,U[31]=k):k=U[31];let Y=B&&"via-50% via-opacity-100 h-[40rem]";return U[32]!==Y?(w=(0,s.cn)("CUSTOM_LIB_BANNER_BOTTOM_FADE w-full z-[2] absolute bottom-0 h-[20rem] bg-gradient-to-t from-[--background] via-opacity-50 via-10% to-transparent via",Y),U[32]=Y,U[33]=w):w=U[33],U[34]!==w?(O=(0,r.jsx)("div",{"data-custom-library-banner-bottom-gradient":!0,className:w}),U[34]=w,U[35]=O):O=U[35],U[36]!==C||U[37]!==k||U[38]!==O?(T=(0,r.jsxs)(d.P.div,{initial:y,animate:x,exit:v,transition:S,className:j,"data-custom-library-banner-inner-container":!0,children:[C,k,O]}),U[36]=C,U[37]=k,U[38]=O,U[39]=T):T=U[39],U[40]!==g||U[41]!==f||U[42]!==T?(E=(0,r.jsxs)("div",{"data-custom-library-banner-container":!0,className:g,children:[f,b,T]}),U[40]=g,U[41]=f,U[42]=T,U[43]=E):E=U[43],U[44]!==E||U[45]!==h?(P=(0,r.jsxs)(r.Fragment,{children:[h,E]}),U[44]=E,U[45]=h,U[46]=P):P=U[46],P}},2168:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>O});var r=t(95155),l=t(19749),n=t(7675),s=t(74889),i=t(17946),o=t(1382),c=t(36945),d=t(61585);let u=(0,t(47555).E)({type:"anime",search:"",page:1,perPage:100});var m=t(78106),p=t(45754),h=t(5249),g=t(244),f=t(84127),b=t(91360),y=t(2091),x=t(70170),v=t(30033),S=t(53712),j=t(29724),_=t(6066),C=t(12115),N=t(78453),k=t(75780),w=t(41452);function O(){var e,a,t,c;let d,m,y,x,O,U,B,M,z,I,A,L,R,K,D,F,V,q,J,X,$,G,H,Y,Z,Q,W,ee,ea,et=(0,l.c)(75),er=(0,_.useSearchParams)();et[0]!==er?(d=er.get("provider"),et[0]=er,et[1]=d):d=et[1];let el=d,{data:en}=(0,i.aO)(),[es,ei]=(0,j.fp)(u),[eo,ec]=C.useState(es.search),[ed,eu]=C.useState(null),em=!!ed,ep=ed||"";et[2]!==es.page||et[3]!==es.perPage||et[4]!==es.search||et[5]!==ep?(m={provider:ep,search:es.search,page:es.page,perPage:es.perPage},et[2]=es.page,et[3]=es.perPage,et[4]=es.search,et[5]=ep,et[6]=m):m=et[6];let eh=em&&"anime"===es.type;et[7]!==eh?(y={enabled:eh},et[7]=eh,et[8]=y):y=et[8];let eg=function(e,a){let t,r,i=(0,l.c)(6),{enabled:o}=a;return i[0]!==e?(t=[s.S.CUSTOM_SOURCE.CustomSourceListAnime.key,e],i[0]=e,i[1]=t):t=i[1],i[2]!==o||i[3]!==t||i[4]!==e?(r={endpoint:s.S.CUSTOM_SOURCE.CustomSourceListAnime.endpoint,method:s.S.CUSTOM_SOURCE.CustomSourceListAnime.methods[0],queryKey:t,data:e,enabled:o},i[2]=o,i[3]=t,i[4]=e,i[5]=r):r=i[5],(0,n.fl)(r)}(m,y),ef=ed||"";et[9]!==es.page||et[10]!==es.perPage||et[11]!==es.search||et[12]!==ef?(x={provider:ef,search:es.search,page:es.page,perPage:es.perPage},et[9]=es.page,et[10]=es.perPage,et[11]=es.search,et[12]=ef,et[13]=x):x=et[13];let eb=em&&"manga"===es.type;et[14]!==eb?(O={enabled:eb},et[14]=eb,et[15]=O):O=et[15];let ey=function(e,a){let t,r,i=(0,l.c)(6),{enabled:o}=a;return i[0]!==e?(t=[s.S.CUSTOM_SOURCE.CustomSourceListManga.key,e],i[0]=e,i[1]=t):t=i[1],i[2]!==o||i[3]!==t||i[4]!==e?(r={endpoint:s.S.CUSTOM_SOURCE.CustomSourceListManga.endpoint,method:s.S.CUSTOM_SOURCE.CustomSourceListManga.methods[0],queryKey:t,data:e,enabled:o},i[2]=o,i[3]=t,i[4]=e,i[5]=r):r=i[5],(0,n.fl)(r)}(x,O),{data:ex,isLoading:ev,error:eS}="anime"===es.type?eg:ey;et[16]!==en||et[17]!==el?(B=()=>{if(en){var e,a;eu(el&&null!=(a=null==(e=en.find(e=>e.id===el))?void 0:e.id)?a:en[0].id)}},U=[en,el],et[16]=en,et[17]=el,et[18]=U,et[19]=B):(U=et[18],B=et[19]),C.useEffect(B,U),et[20]!==eo||et[21]!==ei?(M=()=>{ei(e=>{e.search=eo,e.page=1})},et[20]=eo,et[21]=ei,et[22]=M):M=et[22];let ej=M;et[23]!==ej?(z=e=>{"Enter"===e.key&&ej()},et[23]=ej,et[24]=z):z=et[24];let e_=z;et[25]!==es.search?(I=()=>{ec(es.search)},A=[es.search],et[25]=es.search,et[26]=I,et[27]=A):(I=et[26],A=et[27]),C.useEffect(I,A),et[28]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)(o.z,{discrete:!0}),et[28]=L):L=et[28],et[29]===Symbol.for("react.memo_cache_sentinel")?(R=(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsx)(h.i,{href:"/discover",children:(0,r.jsx)(f.$n,{leftIcon:(0,r.jsx)(N.nXt,{}),rounded:!0,intent:"gray-outline",size:"md",children:"Discover"})})}),et[29]=R):R=et[29];let eC=ed?": ".concat(null!=(a=null==en||null==(e=en.find(e=>e.id===ed))?void 0:e.name)?a:""):"s";et[30]!==eC?(K=(0,r.jsxs)("h3",{"data-search-page-title":!0,className:"text-center xl:text-left",children:["Custom source",eC]}),et[30]=eC,et[31]=K):K=et[31],et[32]===Symbol.for("react.memo_cache_sentinel")?(D=(0,r.jsx)(w.YRu,{className:(0,b.cn)("text-indigo-300 font-bold text-xl")}),et[32]=D):D=et[32],et[33]!==en?(F=null==en?void 0:en.map(E),et[33]=en,et[34]=F):F=et[34];let eN=null!=ed?ed:"";return et[35]!==ei?(V=e=>{eu(e),ei(T)},et[35]=ei,et[36]=V):V=et[36],et[37]!==F||et[38]!==eN||et[39]!==V?(q=(0,r.jsx)(v.l,{leftAddon:D,placeholder:"Select a source",className:"w-full",options:F,value:eN,onValueChange:V,fieldClass:"w-[400px]"}),et[37]=F,et[38]=eN,et[39]=V,et[40]=q):q=et[40],et[41]===Symbol.for("react.memo_cache_sentinel")?(J=[{label:"Anime",value:"anime"},{label:"Manga",value:"manga"}],et[41]=J):J=et[41],et[42]!==ei?(X=e=>ei(a=>{a.type=e,a.page=1}),et[42]=ei,et[43]=X):X=et[43],et[44]!==es.type||et[45]!==X?($=(0,r.jsx)(v.l,{className:"w-full",options:J,value:es.type,onValueChange:X,fieldClass:"w-[240px]"}),et[44]=es.type,et[45]=X,et[46]=$):$=et[46],et[47]===Symbol.for("react.memo_cache_sentinel")?(G=(0,r.jsx)(k.CKj,{}),et[47]=G):G=et[47],et[48]!==e_||et[49]!==eo?(H=(0,r.jsx)(S.k,{leftIcon:G,placeholder:"Search titles...",className:"w-full",value:eo,onValueChange:ec,onKeyDown:e_}),et[48]=e_,et[49]=eo,et[50]=H):H=et[50],et[51]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,r.jsx)(k.CKj,{}),et[51]=Y):Y=et[51],et[52]!==ej||et[53]!==ev?(Z=(0,r.jsx)(f.$n,{leftIcon:Y,intent:"gray-outline",size:"md",onClick:ej,loading:ev,children:"Search"}),et[52]=ej,et[53]=ev,et[54]=Z):Z=et[54],et[55]!==q||et[56]!==$||et[57]!==H||et[58]!==Z?(Q=(0,r.jsxs)("div",{className:"flex gap-2",children:[q,$,H,Z]}),et[55]=q,et[56]=$,et[57]=H,et[58]=Z,et[59]=Q):Q=et[59],et[60]!==ed?(W=!ed&&(0,r.jsx)("div",{className:"text-center py-8 text-[--muted]",children:"Select a source to view its content"}),et[60]=ed,et[61]=W):W=et[61],et[62]!==en||et[63]!==ex||et[64]!==eS||et[65]!==ev||et[66]!==es||et[67]!==ed||et[68]!==ei?(ee=ed&&(0,r.jsx)(P,{provider:null!=(c=null==en||null==(t=en.find(e=>e.id===ed))?void 0:t.name)?c:"",data:ex,isLoading:ev,error:eS,params:es,setParams:ei}),et[62]=en,et[63]=ex,et[64]=eS,et[65]=ev,et[66]=es,et[67]=ed,et[68]=ei,et[69]=ee):ee=et[69],et[70]!==K||et[71]!==Q||et[72]!==W||et[73]!==ee?(ea=(0,r.jsxs)(r.Fragment,{children:[L,(0,r.jsxs)(p.f,{"data-search-page-container":!0,className:"space-y-6 px-4 md:p-8 pt-0 pb-10",children:[R,(0,r.jsxs)(g.KZ,{children:[K,Q,W,ee]})]})]}),et[70]=K,et[71]=Q,et[72]=W,et[73]=ee,et[74]=ea):ea=et[74],ea}function T(e){e.page=1}function E(e){return{label:e.name,value:e.id}}function P(e){let a,t,n,s,i,o,u,p,h,g,f,b,S,j,_=(0,l.c)(49),{provider:C,data:N,isLoading:k,error:w,params:O,setParams:T}=e;_[0]!==(null==N?void 0:N.media)?(a=(null==N?void 0:N.media)||[],_[0]=null==N?void 0:N.media,_[1]=a):a=_[1];let E=a,P=(null==N?void 0:N.totalPages)||1,B=O.page;_[2]!==B||_[3]!==P?(t=()=>{let e=[];if(P<=5)for(let a=1;a<=P;a++)e.push(a);else if(e.push(1),B<=3){for(let a=2;a<=4;a++)e.push(a);P>4&&(e.push("ellipsis"),e.push(P))}else if(B>=P-2){e.push("ellipsis");for(let a=P-3;a<=P;a++)a>1&&e.push(a)}else e.push("ellipsis"),e.push(B-1),e.push(B),e.push(B+1),e.push("ellipsis"),e.push(P);return e},_[2]=B,_[3]=P,_[4]=t):t=_[4];let M=t;_[5]!==T||_[6]!==P?(n=e=>{e>=1&&e<=P&&T(a=>{a.page=e})},_[5]=T,_[6]=P,_[7]=n):n=_[7];let z=n;if(w){let e;return _[8]!==C?(e=(0,r.jsx)(m.D,{title:"Failed to load content",children:(0,r.jsxs)("p",{children:["Error loading content from ",C]})}),_[8]=C,_[9]=e):e=_[9],e}if(k){let e;return _[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"flex justify-center py-8",children:(0,r.jsx)(y.kt,{})}),_[10]=e):e=_[10],e}if(!(null==E?void 0:E.length)){let e;return _[11]!==O.type?(e=(0,r.jsx)(m.D,{title:"No results found",children:(0,r.jsxs)("p",{children:["No ",O.type," found for your search criteria"]})}),_[11]=O.type,_[12]=e):e=_[12],e}let I=1===E.length?"":"s";_[13]!==E.length||_[14]!==I?(s=(0,r.jsxs)("h4",{className:"text-lg font-medium",children:[E.length," result",I]}),_[13]=E.length,_[14]=I,_[15]=s):s=_[15];let A=String(O.perPage);_[16]!==T?(i=e=>T(a=>{a.perPage=Number(e),a.page=1}),_[16]=T,_[17]=i):i=_[17],_[18]===Symbol.for("react.memo_cache_sentinel")?(o=[20,50,100].map(U),_[18]=o):o=_[18],_[19]!==A||_[20]!==i?(u=(0,r.jsx)(v.l,{value:A,onValueChange:i,options:o,fieldClass:"w-auto",className:"w-auto",size:"sm"}),_[19]=A,_[20]=i,_[21]=u):u=_[21],_[22]!==B||_[23]!==P?(p=P>1&&(0,r.jsxs)("div",{className:"text-sm text-[--muted]",children:["Page ",B," of ",P]}),_[22]=B,_[23]=P,_[24]=p):p=_[24],_[25]!==p||_[26]!==u?(h=(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[u,p]}),_[25]=p,_[26]=u,_[27]=h):h=_[27],_[28]!==h||_[29]!==s?(g=(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[s,h]}),_[28]=h,_[29]=s,_[30]=g):g=_[30];let L=E.length;if(_[31]!==E||_[32]!==O.type){let e;_[34]!==O.type?(e=(e,a)=>(0,r.jsx)(d.V,{media:e,type:O.type,showLibraryBadge:!0},"".concat(e.id,"-").concat(a)),_[34]=O.type,_[35]=e):e=_[35],f=E.map(e),_[31]=E,_[32]=O.type,_[33]=f}else f=_[33];return _[36]!==E.length||_[37]!==f?(b=(0,r.jsx)(c.xt,{itemCount:L,children:f}),_[36]=E.length,_[37]=f,_[38]=b):b=_[38],_[39]!==B||_[40]!==M||_[41]!==z||_[42]!==k||_[43]!==P?(S=P>1&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsxs)(x.dK,{children:[(0,r.jsx)(x.lJ,{direction:"previous",onClick:()=>z(B-1),disabled:B<=1||k}),M().map((e,a)=>"ellipsis"===e?(0,r.jsx)(x.M_,{},"ellipsis-".concat(a)):(0,r.jsx)(x.cU,{value:e,onClick:()=>z(e),disabled:k,className:e===B?"bg-[--brand] text-white":""},e)),(0,r.jsx)(x.lJ,{direction:"next",onClick:()=>z(B+1),disabled:B>=P||k})]})}),_[39]=B,_[40]=M,_[41]=z,_[42]=k,_[43]=P,_[44]=S):S=_[44],_[45]!==g||_[46]!==b||_[47]!==S?(j=(0,r.jsxs)("div",{className:"space-y-6",children:[g,b,S]}),_[45]=g,_[46]=b,_[47]=S,_[48]=j):j=_[48],j}function U(e){return{value:String(e),label:"".concat(e," per page")}}},54522:(e,a,t)=>{Promise.resolve().then(t.bind(t,2168))}},e=>{var a=a=>e(e.s=a);e.O(0,[7518,3873,5271,3380,844,9204,6446,2150,6711,585,5479,4506,5897,8087,5760,3603,7753,7949,2362,4613,512,9910,8429,8481,2202,7825,1805,5290,4762,4218,4791,7228,6905,9986,1597,7528,5045,4809,9690,9325,9360,8154,1298,5340,4101,1029,1078,1683,5334,6862,4033,9484,9832,5565,2975,7363,8441,6891,7358],()=>a(54522)),_N_E=e.O()}]);