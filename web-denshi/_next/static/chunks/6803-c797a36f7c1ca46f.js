"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6803],{20495:(e,n,a)=>{a.d(n,{V:()=>A,_:()=>K});var i=a(95155),s=a(19749),l=a(17946),t=a(34839);let r=(0,a(21842).tG)("marketplace-url","",void 0,{getOnInit:!0});var o=a(34618),d=a(78106),m=a(14680),c=a(244),u=a(63717),x=a(84127),v=a(52963),h=a(91360),g=a(2091),p=a(76049),f=a(75435),N=a(30033),j=a(23391),y=a(53712),b=a(29724),w=a(31093),C=a.n(w),k=a(86694),S=a.n(k),I=a(6066),_=a(12115),U=a(70376),R=a(58701),E=a(43994),z=a(40568),L=a(69554);function K(e){let{children:n,...a}=e,[s,t]=_.useState(""),[m,u]=_.useState("all"),[h,f]=_.useState("all"),[w,k]=(0,b.fp)(r),[S,K]=_.useState(!1),[P,M]=_.useState(w),[D,T]=_.useState(""),[F,B]=_.useState(!1),{data:O,isPending:$,refetch:V}=(0,l.Bs)(w),{data:Z,isPending:q}=(0,l.dA)(!1),G=(0,I.useSearchParams)();function W(e){var n,a;return!!(null==Z||null==(n=Z.extensions)?void 0:n.find(n=>n.id===e))||!!(null==Z||null==(a=Z.invalidExtensions)?void 0:a.find(n=>n.id===e))}_.useEffect(()=>{let e=G.get("type");e&&u(e)},[G]);let H=_.useMemo(()=>{var e;if(!O)return[];let n=[...O];if("all"!==m&&(n=n.filter(e=>e.type===m)),"all"!==h&&(n=n.filter(e=>{var n;return(null==(n=e.lang)?void 0:n.toLowerCase())===h.toLowerCase()})),s){let e=s.toLowerCase();n=n.filter(n=>{var a;return n.name.toLowerCase().includes(e)||(null==(a=n.description)?void 0:a.toLowerCase().includes(e))||n.id.toLowerCase().includes(e)})}return(e=n)?C()(e,["name","manifestUri"]):[]},[O,s,m,h]),X=(0,_.useMemo)(()=>{if(!O)return[];let e=new Set;return O.forEach(n=>{n.lang&&e.add(n.lang.toLowerCase())}),Array.from(e).sort()},[O]),J=(0,_.useMemo)(()=>{let e=[{value:"all",label:"All Languages"}];return X.forEach(n=>{let a=o.X[n];a?e.push({value:n,label:a.name||n.toUpperCase()}):e.push({value:n,label:n.toUpperCase()})}),e},[X]),Y=H.filter(e=>"plugin"===e.type),Q=H.filter(e=>"anime-torrent-provider"===e.type),ee=H.filter(e=>"manga-provider"===e.type),en=H.filter(e=>"onlinestream-provider"===e.type),ea=e=>{try{return new URL(e),T(""),!0}catch(e){return T("Please enter a valid URL"),!1}},ei=async()=>{if(ea(P)){B(!0);try{k(P),await V(),K(!1),L.oR.success("Marketplace URL updated")}catch(e){L.oR.error("Failed to fetch extensions from the provided URL"),console.error("Error fetching extensions:",e)}finally{B(!1)}}},es=async()=>{B(!0);try{k(""),await V(),K(!1),L.oR.success("Reset to default marketplace URL")}catch(e){L.oR.error("Failed to fetch extensions from the default URL"),console.error("Error fetching extensions:",e)}finally{B(!1)}};return(0,i.jsxs)(c.KZ,{className:"gap-6",children:[(0,i.jsx)(p.a,{open:S,onOpenChange:K,title:"Repository URL",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)("p",{className:"text-sm text-[--muted]",children:"Enter the URL of the repository JSON file."}),(0,i.jsx)(y.k,{label:"Marketplace URL",value:P,onValueChange:e=>{M(e),e&&ea(e)},error:D,placeholder:"Enter marketplace URL"}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"flex gap-2",children:(0,i.jsx)(x.$n,{intent:"primary-subtle",onClick:es,loading:F,disabled:F,children:"Apply Default"})}),(0,i.jsxs)("div",{className:"flex gap-2",children:[(0,i.jsx)(x.$n,{intent:"gray-outline",onClick:()=>K(!1),children:"Cancel"}),(0,i.jsx)(x.$n,{intent:"primary",onClick:ei,disabled:!P||!!D||F,loading:F,children:"Save"})]})]})]})}),(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Marketplace"}),(0,i.jsx)("p",{className:"text-[--muted] text-sm",children:"Browse and install extensions from the repository."}),(0,i.jsxs)("p",{className:"text-[--muted] text-xs mt-1",children:["Source: ",""===w?(0,i.jsx)("span",{children:"Official repository"}):(0,i.jsx)("span",{children:w})]})]}),(0,i.jsx)("div",{className:"flex flex-1"}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)(x.$n,{className:"rounded-full",intent:"gray-outline",onClick:()=>{V(),L.oR.success("Refreshed",{duration:1e3})},children:"Refresh"}),(0,i.jsx)(x.$n,{className:"rounded-full",intent:"gray-outline",leftIcon:(0,i.jsx)(E.xPd,{}),onClick:()=>{M(w),T(""),K(!0)},children:"Change repository"})]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,i.jsx)(j.tH,{className:"h-10 w-fit border rounded-full",triggerClass:"px-4 py-1 text-sm",items:[{name:"All Types",isCurrent:"all"===m,onClick:()=>u("all")},{name:"Plugins",isCurrent:"plugin"===m,onClick:()=>u("plugin")},{name:"Anime Torrents",isCurrent:"anime-torrent-provider"===m,onClick:()=>u("anime-torrent-provider")},{name:"Manga",isCurrent:"manga-provider"===m,onClick:()=>u("manga-provider")},{name:"Online Streaming",isCurrent:"onlinestream-provider"===m,onClick:()=>u("onlinestream-provider")},{name:"Custom Sources",isCurrent:"custom-source"===m,onClick:()=>u("custom-source")}]}),(0,i.jsxs)("div",{className:"flex flex-col lg:flex-row w-full gap-2",children:[(0,i.jsx)(N.l,{value:h,onValueChange:f,options:J,fieldClass:"lg:max-w-[200px]"}),(0,i.jsx)(y.k,{placeholder:"Search extensions...",value:s,onValueChange:e=>t(e),className:"pl-10",leftIcon:(0,i.jsx)(U.iyI,{})})]})]}),$&&(0,i.jsx)(g.kt,{}),!O&&!$&&(0,i.jsx)(d.D,{children:"Could not get marketplace extensions."}),!!O&&0===H.length&&(0,i.jsx)(v.Zp,{className:"p-8 text-center",children:(0,i.jsx)("p",{className:"text-[--muted]",children:"No extensions found matching your criteria."})}),!!(null==Y?void 0:Y.length)&&(0,i.jsxs)(v.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(E.sVt,{})," Plugins"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:Y.map(e=>(0,i.jsx)(A,{extension:e,isInstalled:W(e.id)},e.id))})]}),!!(null==Q?void 0:Q.length)&&(0,i.jsxs)(v.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(z.j$e,{}),"Anime torrents"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:Q.map(e=>(0,i.jsx)(A,{extension:e,isInstalled:W(e.id)},e.id))})]}),!!(null==ee?void 0:ee.length)&&(0,i.jsxs)(v.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(E.Z5q,{}),"Manga"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:ee.map(e=>(0,i.jsx)(A,{extension:e,isInstalled:W(e.id)},e.id))})]}),!!(null==en?void 0:en.length)&&(0,i.jsxs)(v.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(R.Vvz,{})," Online streaming"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:en.map(e=>(0,i.jsx)(A,{extension:e,isInstalled:W(e.id)},e.id))})]})]})}function A(e){let n,a,r,d,c,v,g,p,N,j,y,b,w,C,k,I,U,R,z,K,A,P,M,D=(0,s.c)(63),{extension:T,updateData:F,isInstalled:B,hideInstallButton:O,showType:$}=e;(0,l.dh)();let[,V]=_.useState(!1),{mutate:Z,data:q,isPending:G}=(0,l.lW)();D[0]!==q?(n=()=>{q&&(L.oR.success(q.message),V(!1))},a=[q],D[0]=q,D[1]=n,D[2]=a):(n=D[1],a=D[2]),_.useEffect(n,a);let W=!!F&&"border-[--green]";D[3]!==W?(r=(0,h.cn)("group/extension-card border border-[rgb(255_255_255_/_5%)] relative overflow-hidden","bg-gray-900 rounded-xl p-3",W),D[3]=W,D[4]=r):r=D[4],D[5]!==T.manifestURI||D[6]!==O||D[7]!==Z||D[8]!==B||D[9]!==G?(d=!O&&(0,i.jsx)("div",{className:"absolute top-3 right-3 z-[2]",children:(0,i.jsx)("div",{className:" flex flex-row gap-1 z-[2] flex-wrap justify-end",children:B?(0,i.jsx)(x.K0,{size:"sm",disabled:!0,intent:"success-subtle",icon:(0,i.jsx)(E.sk9,{})}):(0,i.jsx)(x.K0,{size:"sm",intent:"primary-subtle",icon:(0,i.jsx)(E.Oz0,{}),loading:G,onClick:()=>Z({manifestUri:T.manifestURI})})})}),D[5]=T.manifestURI,D[6]=O,D[7]=Z,D[8]=B,D[9]=G,D[10]=d):d=D[10];let H=!!T.icon&&"bg-gray-900";if(D[11]!==H?(c=(0,h.cn)("relative rounded-md size-12 bg-gray-950 overflow-hidden",H),D[11]=H,D[12]=c):c=D[12],D[13]!==T.icon||D[14]!==T.name?(v=T.icon?(0,i.jsx)(m.r,{src:T.icon,alt:"extension icon",crossOrigin:"anonymous",fill:!0,quality:100,priority:!0,className:"object-cover"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)("p",{className:"text-2xl font-bold",children:T.name[0].toUpperCase()})}),D[13]=T.icon,D[14]=T.name,D[15]=v):v=D[15],D[16]!==c||D[17]!==v?(g=(0,i.jsx)("div",{className:c,children:v}),D[16]=c,D[17]=v,D[18]=g):g=D[18],D[19]!==T.name?(p=(0,i.jsx)("p",{className:"font-semibold line-clamp-1",children:T.name}),D[19]=T.name,D[20]=p):p=D[20],D[21]!==T.type||D[22]!==$?(N=$&&(0,i.jsxs)("span",{className:"opacity-70",children:[t.$q[T.type]," - "]}),D[21]=T.type,D[22]=$,D[23]=N):N=D[23],D[24]!==T.id?(j=(0,i.jsx)("span",{className:"opacity-30",children:T.id}),D[24]=T.id,D[25]=j):j=D[25],D[26]!==N||D[27]!==j?(y=(0,i.jsxs)("p",{className:"text-xs line-clamp-1 tracking-wide",children:[N,j]}),D[26]=N,D[27]=j,D[28]=y):y=D[28],D[29]!==y||D[30]!==p?(b=(0,i.jsxs)("div",{children:[p,y]}),D[29]=y,D[30]=p,D[31]=b):b=D[31],D[32]!==b||D[33]!==g?(w=(0,i.jsxs)("div",{className:"flex gap-3 pr-16",children:[g,b]}),D[32]=b,D[33]=g,D[34]=w):w=D[34],D[35]!==T.description?(C=T.description&&(0,i.jsx)(f.A,{trigger:(0,i.jsx)("p",{className:"text-sm text-[--muted] line-clamp-2 cursor-pointer",children:T.description}),children:(0,i.jsx)("p",{className:"text-sm",children:T.description})}),D[35]=T.description,D[36]=C):C=D[36],D[37]!==T.version?(k=!!T.version&&(0,i.jsx)(u.E,{className:"rounded-md tracking-wide",children:T.version}),D[37]=T.version,D[38]=k):k=D[38],D[39]!==T.author?(I=(0,i.jsx)(u.E,{className:"rounded-md",intent:"unstyled",children:T.author}),D[39]=T.author,D[40]=I):I=D[40],D[41]!==T.lang){var X,J,Y,Q;U=(null==(X=T.lang)?void 0:X.toUpperCase())!=="MULTI"&&(0,i.jsx)(u.E,{className:"border-transparent rounded-md",intent:"multi"!==T.lang?"blue":"unstyled",children:(null==(J=o.X[null==(Y=T.lang)?void 0:Y.toLowerCase()])?void 0:J.nativeName)||(null==(Q=T.lang)?void 0:Q.toUpperCase())||"Unknown"}),D[41]=T.lang,D[42]=U}else U=D[42];return D[43]!==T.language?(R=S()(T.language),D[43]=T.language,D[44]=R):R=D[44],D[45]!==R?(z=(0,i.jsx)(u.E,{className:"border-transparent rounded-md text-[--muted] px-0",intent:"unstyled",children:R}),D[45]=R,D[46]=z):z=D[46],D[47]!==F?(K=!!F&&(0,i.jsx)(u.E,{className:"rounded-md",intent:"success",children:"Update available"}),D[47]=F,D[48]=K):K=D[48],D[49]!==k||D[50]!==I||D[51]!==U||D[52]!==z||D[53]!==K?(A=(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[k,I,U,z,K]}),D[49]=k,D[50]=I,D[51]=U,D[52]=z,D[53]=K,D[54]=A):A=D[54],D[55]!==w||D[56]!==C||D[57]!==A?(P=(0,i.jsxs)("div",{className:"z-[1] relative space-y-3",children:[w,C,A]}),D[55]=w,D[56]=C,D[57]=A,D[58]=P):P=D[58],D[59]!==P||D[60]!==r||D[61]!==d?(M=(0,i.jsxs)("div",{className:r,children:[d,P]}),D[59]=P,D[60]=r,D[61]=d,D[62]=M):M=D[62],M}},34618:(e,n,a)=>{a.d(n,{X:()=>i});let i={aa:{name:"Afar",nativeName:"Afaraf"},ab:{name:"Abkhaz",nativeName:"аҧсуа бызшәа"},ae:{name:"Avestan",nativeName:"avesta"},af:{name:"Afrikaans",nativeName:"Afrikaans"},ak:{name:"Akan",nativeName:"Akan"},am:{name:"Amharic",nativeName:"አማርኛ"},an:{name:"Aragonese",nativeName:"aragon\xe9s"},ar:{name:"Arabic",nativeName:"العربية"},as:{name:"Assamese",nativeName:"অসমীয়া"},av:{name:"Avaric",nativeName:"авар мацӀ"},ay:{name:"Aymara",nativeName:"aymar aru"},az:{name:"Azerbaijani",nativeName:"azərbaycan dili"},ba:{name:"Bashkir",nativeName:"башҡорт теле"},be:{name:"Belarusian",nativeName:"беларуская мова"},bg:{name:"Bulgarian",nativeName:"български език"},bi:{name:"Bislama",nativeName:"Bislama"},bm:{name:"Bambara",nativeName:"bamanankan"},bn:{name:"Bengali",nativeName:"বাংলা"},bo:{name:"Tibetan",nativeName:"བོད་ཡིག"},br:{name:"Breton",nativeName:"brezhoneg"},bs:{name:"Bosnian",nativeName:"bosanski jezik"},ca:{name:"Catalan",nativeName:"Catal\xe0"},ce:{name:"Chechen",nativeName:"нохчийн мотт"},ch:{name:"Chamorro",nativeName:"Chamoru"},co:{name:"Corsican",nativeName:"corsu"},cr:{name:"Cree",nativeName:"ᓀᐦᐃᔭᐍᐏᐣ"},cs:{name:"Czech",nativeName:"čeština"},cu:{name:"Old Church Slavonic",nativeName:"ѩзыкъ словѣньскъ"},cv:{name:"Chuvash",nativeName:"чӑваш чӗлхи"},cy:{name:"Welsh",nativeName:"Cymraeg"},da:{name:"Danish",nativeName:"Dansk"},de:{name:"German",nativeName:"Deutsch"},dv:{name:"Divehi",nativeName:"ދިވެހި"},dz:{name:"Dzongkha",nativeName:"རྫོང་ཁ"},ee:{name:"Ewe",nativeName:"Eʋegbe"},el:{name:"Greek",nativeName:"Ελληνικά"},en:{name:"English",nativeName:"English"},eo:{name:"Esperanto",nativeName:"Esperanto"},es:{name:"Spanish",nativeName:"Espa\xf1ol"},et:{name:"Estonian",nativeName:"eesti"},eu:{name:"Basque",nativeName:"euskara"},fa:{name:"Persian",nativeName:"فارسی"},ff:{name:"Fula",nativeName:"Fulfulde"},fi:{name:"Finnish",nativeName:"suomi"},fj:{name:"Fijian",nativeName:"vosa Vakaviti"},fo:{name:"Faroese",nativeName:"F\xf8royskt"},fr:{name:"French",nativeName:"Fran\xe7ais"},fy:{name:"Western Frisian",nativeName:"Frysk"},ga:{name:"Irish",nativeName:"Gaeilge"},gd:{name:"Scottish Gaelic",nativeName:"G\xe0idhlig"},gl:{name:"Galician",nativeName:"galego"},gn:{name:"Guaran\xed",nativeName:"Ava\xf1e'ẽ"},gu:{name:"Gujarati",nativeName:"ગુજરાતી"},gv:{name:"Manx",nativeName:"Gaelg"},ha:{name:"Hausa",nativeName:"هَوُسَ"},he:{name:"Hebrew",nativeName:"עברית"},hi:{name:"Hindi",nativeName:"हिन्दी"},ho:{name:"Hiri Motu",nativeName:"Hiri Motu"},hr:{name:"Croatian",nativeName:"Hrvatski"},ht:{name:"Haitian",nativeName:"Krey\xf2l ayisyen"},hu:{name:"Hungarian",nativeName:"magyar"},hy:{name:"Armenian",nativeName:"Հայերեն"},hz:{name:"Herero",nativeName:"Otjiherero"},ia:{name:"Interlingua",nativeName:"Interlingua"},id:{name:"Indonesian",nativeName:"Bahasa Indonesia"},ie:{name:"Interlingue",nativeName:"Interlingue"},ig:{name:"Igbo",nativeName:"Asụsụ Igbo"},ii:{name:"Nuosu",nativeName:"ꆈꌠ꒿ Nuosuhxop"},ik:{name:"Inupiaq",nativeName:"I\xf1upiaq"},io:{name:"Ido",nativeName:"Ido"},is:{name:"Icelandic",nativeName:"\xcdslenska"},it:{name:"Italian",nativeName:"Italiano"},iu:{name:"Inuktitut",nativeName:"ᐃᓄᒃᑎᑐᑦ"},ja:{name:"Japanese",nativeName:"日本語"},jv:{name:"Javanese",nativeName:"basa Jawa"},ka:{name:"Georgian",nativeName:"ქართული"},kg:{name:"Kongo",nativeName:"Kikongo"},ki:{name:"Kikuyu",nativeName:"Gĩkũyũ"},kj:{name:"Kwanyama",nativeName:"Kuanyama"},kk:{name:"Kazakh",nativeName:"қазақ тілі"},kl:{name:"Kalaallisut",nativeName:"kalaallisut"},km:{name:"Khmer",nativeName:"ខេមរភាសា"},kn:{name:"Kannada",nativeName:"ಕನ್ನಡ"},ko:{name:"Korean",nativeName:"한국어"},kr:{name:"Kanuri",nativeName:"Kanuri"},ks:{name:"Kashmiri",nativeName:"कश्मीरी"},ku:{name:"Kurdish",nativeName:"Kurd\xee"},kv:{name:"Komi",nativeName:"коми кыв"},kw:{name:"Cornish",nativeName:"Kernewek"},ky:{name:"Kyrgyz",nativeName:"Кыргызча"},la:{name:"Latin",nativeName:"latine"},lb:{name:"Luxembourgish",nativeName:"L\xebtzebuergesch"},lg:{name:"Ganda",nativeName:"Luganda"},li:{name:"Limburgish",nativeName:"Limburgs"},ln:{name:"Lingala",nativeName:"Ling\xe1la"},lo:{name:"Lao",nativeName:"ພາສາລາວ"},lt:{name:"Lithuanian",nativeName:"lietuvių kalba"},lu:{name:"Luba-Katanga",nativeName:"Kiluba"},lv:{name:"Latvian",nativeName:"latviešu valoda"},mg:{name:"Malagasy",nativeName:"fiteny malagasy"},mh:{name:"Marshallese",nativeName:"Kajin M̧ajeļ"},mi:{name:"Māori",nativeName:"te reo Māori"},mk:{name:"Macedonian",nativeName:"македонски јазик"},ml:{name:"Malayalam",nativeName:"മലയാളം"},mn:{name:"Mongolian",nativeName:"Монгол хэл"},mr:{name:"Marathi",nativeName:"मराठी"},ms:{name:"Malay",nativeName:"Bahasa Melayu"},mt:{name:"Maltese",nativeName:"Malti"},my:{name:"Burmese",nativeName:"ဗမာစာ"},na:{name:"Nauru",nativeName:"Dorerin Naoero"},nb:{name:"Norwegian Bokm\xe5l",nativeName:"Norsk bokm\xe5l"},nd:{name:"Northern Ndebele",nativeName:"isiNdebele"},ne:{name:"Nepali",nativeName:"नेपाली"},ng:{name:"Ndonga",nativeName:"Owambo"},nl:{name:"Dutch",nativeName:"Nederlands"},nn:{name:"Norwegian Nynorsk",nativeName:"Norsk nynorsk"},no:{name:"Norwegian",nativeName:"Norsk"},nr:{name:"Southern Ndebele",nativeName:"isiNdebele"},nv:{name:"Navajo",nativeName:"Din\xe9 bizaad"},ny:{name:"Chichewa",nativeName:"chiCheŵa"},oc:{name:"Occitan",nativeName:"occitan"},oj:{name:"Ojibwe",nativeName:"ᐊᓂᔑᓈᐯᒧᐎᓐ"},om:{name:"Oromo",nativeName:"Afaan Oromoo"},or:{name:"Oriya",nativeName:"ଓଡ଼ିଆ"},os:{name:"Ossetian",nativeName:"ирон \xe6взаг"},pa:{name:"Panjabi",nativeName:"ਪੰਜਾਬੀ"},pi:{name:"Pāli",nativeName:"पाऴि"},pl:{name:"Polish",nativeName:"Polski"},ps:{name:"Pashto",nativeName:"پښتو"},pt:{name:"Portuguese",nativeName:"Portugu\xeas"},qu:{name:"Quechua",nativeName:"Runa Simi"},rm:{name:"Romansh",nativeName:"rumantsch grischun"},rn:{name:"Kirundi",nativeName:"Ikirundi"},ro:{name:"Romanian",nativeName:"Rom\xe2nă"},ru:{name:"Russian",nativeName:"Русский"},rw:{name:"Kinyarwanda",nativeName:"Ikinyarwanda"},sa:{name:"Sanskrit",nativeName:"संस्कृतम्"},sc:{name:"Sardinian",nativeName:"sardu"},sd:{name:"Sindhi",nativeName:"सिन्धी"},se:{name:"Northern Sami",nativeName:"Davvis\xe1megiella"},sg:{name:"Sango",nativeName:"y\xe2ng\xe2 t\xee s\xe4ng\xf6"},si:{name:"Sinhala",nativeName:"සිංහල"},sk:{name:"Slovak",nativeName:"slovenčina"},sl:{name:"Slovenian",nativeName:"slovenščina"},sm:{name:"Samoan",nativeName:"gagana fa'a Samoa"},sn:{name:"Shona",nativeName:"chiShona"},so:{name:"Somali",nativeName:"Soomaaliga"},sq:{name:"Albanian",nativeName:"Shqip"},sr:{name:"Serbian",nativeName:"српски језик"},ss:{name:"Swati",nativeName:"SiSwati"},st:{name:"Southern Sotho",nativeName:"Sesotho"},su:{name:"Sundanese",nativeName:"Basa Sunda"},sv:{name:"Swedish",nativeName:"Svenska"},sw:{name:"Swahili",nativeName:"Kiswahili"},ta:{name:"Tamil",nativeName:"தமிழ்"},te:{name:"Telugu",nativeName:"తెలుగు"},tg:{name:"Tajik",nativeName:"тоҷикӣ"},th:{name:"Thai",nativeName:"ไทย"},ti:{name:"Tigrinya",nativeName:"ትግርኛ"},tk:{name:"Turkmen",nativeName:"T\xfcrkmen\xe7e"},tl:{name:"Tagalog",nativeName:"Wikang Tagalog"},tn:{name:"Tswana",nativeName:"Setswana"},to:{name:"Tonga",nativeName:"faka Tonga"},tr:{name:"Turkish",nativeName:"T\xfcrk\xe7e"},ts:{name:"Tsonga",nativeName:"Xitsonga"},tt:{name:"Tatar",nativeName:"татар теле"},tw:{name:"Twi",nativeName:"Twi"},ty:{name:"Tahitian",nativeName:"Reo Tahiti"},ug:{name:"Uyghur",nativeName:"ئۇيغۇرچە‎"},uk:{name:"Ukrainian",nativeName:"Українська"},ur:{name:"Urdu",nativeName:"اردو"},uz:{name:"Uzbek",nativeName:"Ўзбек"},ve:{name:"Venda",nativeName:"Tshivenḓa"},vi:{name:"Vietnamese",nativeName:"Tiếng Việt"},vo:{name:"Volap\xfck",nativeName:"Volap\xfck"},wa:{name:"Walloon",nativeName:"walon"},wo:{name:"Wolof",nativeName:"Wollof"},xh:{name:"Xhosa",nativeName:"isiXhosa"},yi:{name:"Yiddish",nativeName:"ייִדיש"},yo:{name:"Yoruba",nativeName:"Yor\xf9b\xe1"},za:{name:"Zhuang",nativeName:"Saɯ cueŋƅ"},zh:{name:"Chinese",nativeName:"中文"},zu:{name:"Zulu",nativeName:"isiZulu"},"pt-br":{name:"Portuguese (Brazil)",nativeName:"Portugu\xeas (Brasil)"},"zh-hans":{name:"Chinese (Simplified)",nativeName:"中文（简体）"},"zh-hant":{name:"Chinese (Traditional)",nativeName:"中文（繁體）"},"zh-cn":{name:"Chinese (China)",nativeName:"中文（中国）"},"zh-tw":{name:"Chinese (Traditional)",nativeName:"中文（台灣）"},"zh-hk":{name:"Chinese (Hong Kong)",nativeName:"中文（香港）"},"zh-mo":{name:"Chinese (Macau)",nativeName:"中文（澳門）"},"zh-sg":{name:"Chinese (Singapore)",nativeName:"中文（新加坡）"},"zh-my":{name:"Chinese (Malaysia)",nativeName:"中文（马来西亚）"},"es-419":{name:"Spanish (Latin America)",nativeName:"Espa\xf1ol (Latinoam\xe9rica)"},"es-es":{name:"Spanish (Spain)",nativeName:"Espa\xf1ol (Espa\xf1a)"},"es-mx":{name:"Spanish (Mexico)",nativeName:"Espa\xf1ol (M\xe9xico)"},"es-ar":{name:"Spanish (Argentina)",nativeName:"Espa\xf1ol (Argentina)"},"es-cl":{name:"Spanish (Chile)",nativeName:"Espa\xf1ol (Chile)"}}},34839:(e,n,a)=>{a.d(n,{$q:()=>er,yh:()=>eo,rb:()=>et});var i=a(95155),s=a(19749),l=a(17946),t=a(64847),r=a(40764),o=a(84127),d=a(2091),m=a(76049),c=a(49995),u=a(72733),x=a(47188),v=a(44534),h=a(7460),g=a(12115);function p(e){let n,a,l=(0,s.c)(5);return l[0]!==e?(n=(0,i.jsx)(N,{...e}),l[0]=e,l[1]=n):n=l[1],l[2]!==e.children||l[3]!==n?(a=(0,i.jsx)(m.a,{contentClass:"max-w-5xl",trigger:e.children,title:"Code",onInteractOutside:f,children:n}),l[2]=e.children,l[3]=n,l[4]=a):a=l[4],a}function f(e){return e.preventDefault()}function N(e){let n,a,t,r,m,c,u,x,v,h,p,f,N,y=(0,s.c)(31),{extension:b}=e,[w,C]=g.useState(""),{data:k,isLoading:S}=(0,l.nF)(b.id);y[0]!==k?(n=()=>{k&&C(k)},a=[k],y[0]=k,y[1]=n,y[2]=a):(n=y[1],a=y[2]),g.useEffect(n,a);let{mutate:I,isPending:_}=(0,l.zA)();y[3]!==b.payload?(t=()=>{C(b.payload)},r=[b.payload],y[3]=b.payload,y[4]=t,y[5]=r):(t=y[4],r=y[5]),g.useLayoutEffect(t,r),y[6]!==w||y[7]!==b.id||y[8]!==b.payload||y[9]!==_||y[10]!==I?(m=function(){_||w===b.payload||0!==w.length&&I({id:b.id,payload:w})},y[6]=w,y[7]=b.id,y[8]=b.payload,y[9]=_,y[10]=I,y[11]=m):m=y[11];let U=m;if(S){let e;return y[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(d.kt,{}),y[12]=e):e=y[12],e}return y[13]!==b.name?(c=(0,i.jsx)("p",{children:b.name}),y[13]=b.name,y[14]=c):c=y[14],y[15]===Symbol.for("react.memo_cache_sentinel")?(u=(0,i.jsx)("div",{className:"text-sm text-[--muted]",children:"You can edit the code of the extension here."}),y[15]=u):u=y[15],y[16]!==c?(x=(0,i.jsxs)("div",{children:[c,u]}),y[16]=c,y[17]=x):x=y[17],y[18]!==U||y[19]!==_?(v=(0,i.jsx)(o.$n,{intent:"white",loading:_,onClick:U,children:"Save"}),y[18]=U,y[19]=_,y[20]=v):v=y[20],y[21]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)("div",{className:"flex flex-1"}),y[21]=h):h=y[21],y[22]!==v?(p=(0,i.jsxs)("div",{className:"flex",children:[v,h]}),y[22]=v,y[23]=p):p=y[23],y[24]!==w||y[25]!==b.language?(f=(0,i.jsx)(j,{code:w,setCode:C,language:b.language}),y[24]=w,y[25]=b.language,y[26]=f):f=y[26],y[27]!==p||y[28]!==f||y[29]!==x?(N=(0,i.jsxs)(i.Fragment,{children:[x,p,f]}),y[27]=p,y[28]=f,y[29]=x,y[30]=N):N=y[30],N}function j(e){let n,a,l,t,r=(0,s.c)(9),{code:o,setCode:d,language:m}=e,g="typescript"===m;return r[0]!==g?(n=(0,c.Q2)({typescript:g}),r[0]=g,r[1]=n):n=r[1],r[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.Tg.define(x.go),r[2]=a):a=r[2],r[3]!==n?(l=[n,a],r[3]=n,r[4]=l):l=r[4],r[5]!==o||r[6]!==d||r[7]!==l?(t=(0,i.jsx)("div",{className:"overflow-hidden rounded-[--radius-md]",children:(0,i.jsx)(h.Ay,{value:o,height:"75vh",theme:v.Ts,extensions:l,onChange:d})}),r[5]=o,r[6]=d,r[7]=l,r[8]=t):t=r[8],t}var y=a(78106),b=a(50558),w=a(91360),C=a(30033),k=a(60695),S=a(53712),I=a(47555),_=a(29724);function U(e){let n,a,l=(0,s.c)(6),{children:t,extension:r,userConfigError:o}=e;return l[0]!==r||l[1]!==o?(n=(0,i.jsx)(E,{extension:r,userConfigError:o}),l[0]=r,l[1]=o,l[2]=n):n=l[2],l[3]!==t||l[4]!==n?(a=(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(m.a,{contentClass:"max-w-3xl",trigger:t,title:"Preferences",children:n})}),l[3]=t,l[4]=n,l[5]=a):a=l[5],a}let R=(0,I.E)({});function E(e){var n,a,t,r,m,c,u,x;let v,h,p,f,N,j,I,U,E,z,L,K,A,P=(0,s.c)(38),{extension:M,userConfigError:D}=e,{data:T,isLoading:F}=(0,l.AJ)(M.id),{mutate:B,isPending:O}=(0,l.F3)(),[$,V]=(0,_.fp)(R);P[0]!==T||P[1]!==V?(v=()=>{if(T){var e,n,a;for(let i of(null==(e=T.userConfig)?void 0:e.fields)||[])(null==(n=T.savedUserConfig)?void 0:n.values)&&i.name in(null==(a=T.savedUserConfig)?void 0:a.values)&&V(e=>{var n,a;e[i.name]=(null==(a=T.savedUserConfig)||null==(n=a.values)?void 0:n[i.name])||i.default||""})}},P[0]=T,P[1]=V,P[2]=v):v=P[2],P[3]!==T?(h=[T],P[3]=T,P[4]=h):h=P[4],g.useLayoutEffect(v,h),P[5]!==(null==T||null==(n=T.userConfig)?void 0:n.fields)||P[6]!==(null==T||null==(a=T.userConfig)?void 0:a.version)||P[7]!==M.id||P[8]!==B||P[9]!==$?(p=function(){var e,n;console.log("Saving user config",$);let a={};for(let n of(null==T||null==(e=T.userConfig)?void 0:e.fields)||[])a[n.name]=$[n.name]||n.default||"";B({id:M.id,version:(null==T||null==(n=T.userConfig)?void 0:n.version)||0,values:a})},P[5]=null==T||null==(r=T.userConfig)?void 0:r.fields,P[6]=null==T||null==(m=T.userConfig)?void 0:m.version,P[7]=M.id,P[8]=B,P[9]=$,P[10]=p):p=P[10];let Z=p;if(F){let e;return P[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(d.kt,{}),P[11]=e):e=P[11],e}if(!T){let e;return P[12]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(y.D,{}),P[12]=e):e=P[12],e}P[13]!==M.name?(f=(0,i.jsx)("p",{children:M.name}),P[13]=M.name,P[14]=f):f=P[14],P[15]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsx)("div",{className:"text-sm text-[--muted]",children:"You can edit the preferences for this extension here."}),P[15]=N):N=P[15],P[16]!==f?(j=(0,i.jsxs)("div",{children:[f,N]}),P[16]=f,P[17]=j):j=P[17],P[18]!==D?(I=D&&(0,i.jsx)(b.F,{intent:"alert-basic",title:"Config error",description:D.reason}),P[18]=D,P[19]=I):I=P[19],P[20]!==(null==T||null==(t=T.userConfig)?void 0:t.fields)||P[21]!==V||P[22]!==$?(U=null==T||null==(u=T.userConfig)||null==(c=u.fields)?void 0:c.map(e=>{if("text"===e.type)return(0,i.jsx)(S.k,{label:e.label,value:$[e.name]||e.default,onValueChange:n=>V(a=>{a[e.name]=n}),help:e.default?"Default: ".concat(e.default):void 0},e.name);if("switch"===e.type)return(0,i.jsx)(k.d,{label:e.label,value:$[e.name]?"true"===$[e.name]:"true"===e.default,onValueChange:n=>V(a=>{a[e.name]=n?"true":"false"}),help:e.default?"Default: ".concat(e.default):void 0},e.name);if("select"===e.type&&e.options){var n,a;return(0,i.jsx)(C.l,{label:e.label,value:$[e.name]||e.default,onValueChange:n=>V(a=>{a[e.name]=n}),options:e.options,help:e.default?"Default: ".concat(null!=(a=null==(n=e.options.find(n=>n.value===e.default))?void 0:n.label)?a:"N/A"):void 0},e.name)}}),P[20]=null==T||null==(x=T.userConfig)?void 0:x.fields,P[21]=V,P[22]=$,P[23]=U):U=P[23];let q=!!D&&"animate-pulse";return P[24]!==q?(E=(0,w.cn)(q),P[24]=q,P[25]=E):E=P[25],P[26]!==Z||P[27]!==O||P[28]!==E?(z=(0,i.jsx)(o.$n,{intent:"white",loading:O,onClick:Z,className:E,children:"Save"}),P[26]=Z,P[27]=O,P[28]=E,P[29]=z):z=P[29],P[30]===Symbol.for("react.memo_cache_sentinel")?(L=(0,i.jsx)("div",{className:"flex flex-1"}),P[30]=L):L=P[30],P[31]!==z?(K=(0,i.jsxs)("div",{className:"flex",children:[z,L]}),P[31]=z,P[32]=K):K=P[32],P[33]!==K||P[34]!==j||P[35]!==I||P[36]!==U?(A=(0,i.jsxs)(i.Fragment,{children:[j,I,U,K]}),P[33]=K,P[34]=j,P[35]=I,P[36]=U,P[37]=A):A=P[37],A}var z=a(34618),L=a(75733),K=a(14680),A=a(244),P=a(63717),M=a(75435),D=a(97400),T=a(6066),F=a(66380),B=a(43994),O=a(40568),$=a(80893),V=a(69554);function Z(e){let n,a,t,r,d,m,c,u,x,v,h,g,f,N,j,y,b,C,k,S,I,_,R,E,L,A,F,O,$=(0,s.c)(83),{extension:Z,updateData:G,isInstalled:W,userConfigError:H,allowReload:X}=e,J=(0,T.useRouter)(),Y="builtin"===Z.manifestURI,{mutate:Q,isPending:ee}=(0,l.dh)(),en=!!G&&"border-[--green]";$[0]!==en?(n=(0,w.cn)("group/extension-card border border-[rgb(255_255_255_/_5%)] relative overflow-hidden","bg-gray-900 rounded-xl p-3",en),$[0]=en,$[1]=n):n=$[1],$[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,i.jsx)("div",{className:(0,w.cn)("absolute z-[0] right-0 top-0 h-full w-full max-w-[150px] bg-gradient-to-l to-gray-950")}),$[2]=a):a=$[2],$[3]!==Z||$[4]!==H?(t=!!Z.userConfig&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(U,{extension:Z,userConfigError:H,children:(0,i.jsx)("div",{children:(0,i.jsx)(D.m_,{side:"top",trigger:(0,i.jsx)(o.K0,{size:"sm",intent:H?"alert":"gray-basic",icon:(0,i.jsx)(B.ZB5,{}),className:(0,w.cn)(H&&"animate-bounce")}),children:"Preferences"})})})}),$[3]=Z,$[4]=H,$[5]=t):t=$[5],$[6]===Symbol.for("react.memo_cache_sentinel")?(r=(0,i.jsx)("div",{children:(0,i.jsx)(D.m_,{trigger:(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:(0,i.jsx)(B.bWB,{})}),children:"Info"})}),$[6]=r):r=$[6],$[7]!==Z||$[8]!==W||$[9]!==G?(d=(0,i.jsx)(q,{extension:Z,isInstalled:W,updateData:G,children:r}),$[7]=Z,$[8]=W,$[9]=G,$[10]=d):d=$[10],$[11]!==t||$[12]!==d?(m=(0,i.jsxs)("div",{className:" flex flex-row gap-1 z-[2] flex-wrap justify-end",children:[t,d]}),$[11]=t,$[12]=d,$[13]=m):m=$[13],$[14]!==Z||$[15]!==Y?(c=!Y&&(0,i.jsx)(p,{extension:Z,children:(0,i.jsx)("div",{children:(0,i.jsx)(D.m_,{trigger:(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:(0,i.jsx)(B.Fzf,{})}),side:"left",children:"Code"})})}),$[14]=Z,$[15]=Y,$[16]=c):c=$[16],$[17]!==X||$[18]!==Z.id||$[19]!==Y||$[20]!==ee||$[21]!==Q?(u=X&&!Y&&(0,i.jsx)("div",{children:(0,i.jsx)(D.m_,{side:"right",trigger:(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:(0,i.jsx)(B.A1o,{}),onClick:()=>{if(!Z.id)return V.oR.error("Extension has no ID");Q({id:Z.id})},disabled:ee}),children:"Reload"})}),$[17]=X,$[18]=Z.id,$[19]=Y,$[20]=ee,$[21]=Q,$[22]=u):u=$[22],$[23]!==c||$[24]!==u?(x=(0,i.jsxs)("div",{className:"flex flex-row gap-1 z-[2] flex-wrap",children:[c,u]}),$[23]=c,$[24]=u,$[25]=x):x=$[25],$[26]!==m||$[27]!==x?(v=(0,i.jsxs)("div",{className:"absolute top-3 right-3 z-[2]",children:[m,x]}),$[26]=m,$[27]=x,$[28]=v):v=$[28];let ea=!!Z.icon&&"bg-gray-900";$[29]!==ea?(h=(0,w.cn)("relative rounded-md size-12 flex-none bg-gray-950 overflow-hidden",ea),$[29]=ea,$[30]=h):h=$[30],$[31]!==Z.icon||$[32]!==Z.name?(g=Z.icon?(0,i.jsx)(K.r,{src:Z.icon,alt:"extension icon",crossOrigin:"anonymous",fill:!0,quality:100,priority:!0,className:"object-cover"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)("p",{className:"text-2xl font-bold",children:Z.name[0].toUpperCase()})}),$[31]=Z.icon,$[32]=Z.name,$[33]=g):g=$[33],$[34]!==h||$[35]!==g?(f=(0,i.jsx)("div",{className:h,children:g}),$[34]=h,$[35]=g,$[36]=f):f=$[36];let ei="custom-source"===Z.type&&"cursor-pointer hover:underline hover:underline-offset-2 hover:decoration-2 hover:decoration-solid hover:decoration-gray-500";if($[37]!==ei?(N=(0,w.cn)("font-semibold line-clamp-1 flex items-center gap-1",ei),$[37]=ei,$[38]=N):N=$[38],$[39]!==Z.id||$[40]!==Z.type||$[41]!==J?(j=()=>{"custom-source"===Z.type&&J.push("/custom-sources?provider=".concat(Z.id))},$[39]=Z.id,$[40]=Z.type,$[41]=J,$[42]=j):j=$[42],$[43]!==Z.type?(y="custom-source"===Z.type&&(0,i.jsx)(B.qbB,{className:"ml-1 text-lg inline-block"}),$[43]=Z.type,$[44]=y):y=$[44],$[45]!==Z.name||$[46]!==N||$[47]!==j||$[48]!==y?(b=(0,i.jsxs)("p",{className:N,onClick:j,children:[Z.name,y]}),$[45]=Z.name,$[46]=N,$[47]=j,$[48]=y,$[49]=b):b=$[49],$[50]!==Z.description?(C=(0,i.jsx)("p",{className:"opacity-30 mt-1 text-xs line-clamp-1 tracking-wide",children:Z.description}),$[50]=Z.description,$[51]=C):C=$[51],$[52]!==Z.description||$[53]!==C?(k=(0,i.jsx)(M.A,{className:"text-sm cursor-pointer",trigger:C,children:Z.description}),$[52]=Z.description,$[53]=C,$[54]=k):k=$[54],$[55]!==b||$[56]!==k?(S=(0,i.jsxs)("div",{children:[b,k]}),$[55]=b,$[56]=k,$[57]=S):S=$[57],$[58]!==f||$[59]!==S?(I=(0,i.jsxs)("div",{className:"flex gap-3 pr-16",children:[f,S]}),$[58]=f,$[59]=S,$[60]=I):I=$[60],$[61]!==Y?(_=Y&&(0,i.jsx)(P.E,{className:"rounded-md tracking-wide border-transparent px-0 italic opacity-50",intent:"unstyled",children:"Built-in"}),$[61]=Y,$[62]=_):_=$[62],$[63]!==Z.version||$[64]!==G?(R=!!Z.version&&(0,i.jsxs)(P.E,{className:"rounded-md tracking-wide",intent:G?"success":"unstyled",children:[Z.version,G?" → "+G.version:""]}),$[63]=Z.version,$[64]=G,$[65]=R):R=$[65],$[66]!==Z.author||$[67]!==Y?(E=!Y&&(0,i.jsx)(P.E,{className:"rounded-md",intent:"unstyled",children:Z.author}),$[66]=Z.author,$[67]=Y,$[68]=E):E=$[68],$[69]!==Z.lang){var es,el,et,er;L=(null==(es=Z.lang)?void 0:es.toUpperCase())!=="MULTI"&&(0,i.jsx)(P.E,{className:"border-transparent rounded-md !px-0",intent:"unstyled",children:(null==(el=z.X[null==(et=Z.lang)?void 0:et.toLowerCase()])?void 0:el.nativeName)||(null==(er=Z.lang)?void 0:er.toUpperCase())||"Unknown"}),$[69]=Z.lang,$[70]=L}else L=$[70];return $[71]!==_||$[72]!==R||$[73]!==E||$[74]!==L?(A=(0,i.jsxs)("div",{className:"flex gap-2 flex-wrap pt-4 flex-1 items-end",children:[_,R,E,L]}),$[71]=_,$[72]=R,$[73]=E,$[74]=L,$[75]=A):A=$[75],$[76]!==I||$[77]!==A?(F=(0,i.jsxs)("div",{className:"z-[1] relative flex flex-col h-full",children:[I,A]}),$[76]=I,$[77]=A,$[78]=F):F=$[78],$[79]!==n||$[80]!==v||$[81]!==F?(O=(0,i.jsxs)("div",{className:n,children:[a,v,F]}),$[79]=n,$[80]=v,$[81]=F,$[82]=O):O=$[82],O}function q(e){let n,a,t,c,u,x,v,h,p,f,N,j=(0,s.c)(40),{extension:y,children:b,isInstalled:w,updateData:C}=e,k="builtin"===y.manifestURI,{mutate:S,isPending:I}=(0,l.uJ)(),{mutate:_,data:U,isPending:R,reset:E}=(0,l.KK)(y.id),z="Remove ".concat(y.name);j[0]!==y.id||j[1]!==S?(n=()=>{S({id:y.id})},j[0]=y.id,j[1]=S,j[2]=n):n=j[2],j[3]!==z||j[4]!==n?(a={title:z,description:"This action cannot be undone.",onConfirm:n},j[3]=z,j[4]=n,j[5]=a):a=j[5];let K=(0,L.J)(a),{mutate:P,data:M,isPending:D}=(0,l.lW)();j[6]!==M||j[7]!==E?(t=()=>{M&&(V.oR.success(M.message),E())},j[6]=M,j[7]=E,j[8]=t):t=j[8],j[9]!==M?(c=[M],j[9]=M,j[10]=c):c=j[10],g.useEffect(t,c);let T=g.useRef(!1);j[11]!==y.manifestURI||j[12]!==_?(u=function(){_({manifestUri:y.manifestURI}),T.current=!0},j[11]=y.manifestURI,j[12]=_,j[13]=u):u=j[13];let B=u;return j[14]!==y.version||j[15]!==U?(x=()=>{U&&T.current&&(T.current=!1,U.version!==y.version?V.oR.success("Update available"):V.oR.info("The extension is up to date"))},j[14]=y.version,j[15]=U,j[16]=x):x=j[16],j[17]!==U?(v=[U],j[17]=U,j[18]=v):v=j[18],g.useEffect(x,v),j[19]!==I?(h=I&&(0,i.jsx)(d.p8,{}),j[19]=I,j[20]=h):h=j[20],j[21]!==y?(p=(0,i.jsx)(r.I,{extension:y}),j[21]=y,j[22]=p):p=j[22],j[23]!==K||j[24]!==y.manifestURI||j[25]!==y.version||j[26]!==U||j[27]!==B||j[28]!==P||j[29]!==k||j[30]!==R||j[31]!==w||j[32]!==D||j[33]!==C?(f=!k&&(0,i.jsxs)(i.Fragment,{children:[w&&(0,i.jsx)("div",{className:"flex gap-2",children:(0,i.jsxs)(i.Fragment,{children:[!!y.manifestURI&&(0,i.jsx)(o.$n,{intent:"gray-outline",leftIcon:(0,i.jsx)(F.VCt,{className:"text-lg"}),disabled:!y.manifestURI,onClick:B,loading:R,children:"Check for updates"}),(0,i.jsx)(o.$n,{intent:"alert-subtle",leftIcon:(0,i.jsx)(O.WFf,{className:"text-xl"}),onClick:K.open,children:"Uninstall"})]})}),(!!U&&(null==U?void 0:U.version)!==y.version||!!C)&&(0,i.jsxs)(A.KZ,{children:[(0,i.jsxs)("p",{className:"",children:["Update available: ",(0,i.jsx)("span",{className:"font-bold text-white",children:(null==U?void 0:U.version)||(null==C?void 0:C.version)})]}),(0,i.jsx)(o.$n,{intent:"white",leftIcon:(0,i.jsx)($.kvS,{className:"text-lg"}),loading:D,onClick:()=>{P({manifestUri:(null==U?void 0:U.manifestURI)||(null==C?void 0:C.manifestURI)||""})},children:"Install update"})]}),(0,i.jsx)(L.K,{...K})]}),j[23]=K,j[24]=y.manifestURI,j[25]=y.version,j[26]=U,j[27]=B,j[28]=P,j[29]=k,j[30]=R,j[31]=w,j[32]=D,j[33]=C,j[34]=f):f=j[34],j[35]!==b||j[36]!==f||j[37]!==h||j[38]!==p?(N=(0,i.jsxs)(m.a,{trigger:b,contentClass:"max-w-3xl",children:[h,p,f]}),j[35]=b,j[36]=f,j[37]=h,j[38]=p,j[39]=N):N=j[39],N}var G=a(70376),W=a(3692);function H(e){var n,a,t,r,d,c,u,x,v,h,g,f,N,j,y,b,C,k,S,I,_,U,R,E,z,L,A,M,D,T,F;let O,$,Z,H,X,J,Y,Q,ee,en,ea,ei,es,el,et,er,eo,ed,em,ec,eu,ex,ev,eh,eg,ep,ef,eN=(0,s.c)(66),{extension:ej,isInstalled:ey}=e,{mutate:eb,isPending:ew}=(0,l.dh)();eN[0]===Symbol.for("react.memo_cache_sentinel")?(O=(0,w.cn)("group/extension-card relative overflow-hidden","bg-gray-900 border border-red-400/10 rounded-xl p-3"),$=(0,i.jsx)("div",{className:(0,w.cn)("absolute z-[0] left-0 top-0 h-full w-full max-w-[150px] bg-gradient-to-r to-gray-900","max-w-[50%] from-red-900/10")}),eN[0]=O,eN[1]=$):(O=eN[0],$=eN[1]),eN[2]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,i.jsx)(o.K0,{size:"sm",intent:"alert-basic",icon:(0,i.jsx)(G.wfp,{})}),eN[2]=Z):Z=eN[2],eN[3]===Symbol.for("react.memo_cache_sentinel")?(H=(0,i.jsx)("p",{children:"Seanime failed to load this extension. If you aren't sure what this means, please contact the author."}),eN[3]=H):H=eN[3],eN[4]!==ej.code?(X=(0,i.jsxs)("p",{children:["Code: ",(0,i.jsx)("strong",{children:ej.code})]}),eN[4]=ej.code,eN[5]=X):X=eN[5],eN[6]!==ej.reason?(J=(0,i.jsx)("code",{className:"code text-red-200",children:ej.reason}),eN[6]=ej.reason,eN[7]=J):J=eN[7],eN[8]!==ej.path?(Y=(0,i.jsx)("p",{className:"whitespace-pre-wrap w-full max-w-full overflow-x-auto text-xs text-center tracking-wide text-[--muted]",children:ej.path}),eN[8]=ej.path,eN[9]=Y):Y=eN[9],eN[10]!==X||eN[11]!==J||eN[12]!==Y?(Q=(0,i.jsxs)(m.a,{trigger:Z,title:"Error details",contentClass:"max-w-2xl",children:[H,X,J,Y]}),eN[10]=X,eN[11]=J,eN[12]=Y,eN[13]=Q):Q=eN[13],eN[14]!==ej.extension||eN[15]!==ey?(ee=!!(null==(h=ej.extension)?void 0:h.id)&&!!(null==(g=ej.extension)?void 0:g.manifestURI)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(q,{extension:null==ej?void 0:ej.extension,isInstalled:ey,children:(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:(0,i.jsx)(G.nMM,{})})})}),eN[14]=ej.extension,eN[15]=ey,eN[16]=ee):ee=eN[16],eN[17]===Symbol.for("react.memo_cache_sentinel")?(en=(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:(0,i.jsx)(W.FSj,{})}),eN[17]=en):en=eN[17],eN[18]!==ej.extension?(ea=(0,i.jsx)(p,{extension:ej.extension,children:en}),eN[18]=ej.extension,eN[19]=ea):ea=eN[19],eN[20]===Symbol.for("react.memo_cache_sentinel")?(ei=(0,i.jsx)(B.A1o,{}),eN[20]=ei):ei=eN[20],eN[21]!==(null==(n=ej.extension)?void 0:n.id)||eN[22]!==eb?(es=()=>{var e,n,a;if(!(null==(e=ej.extension)?void 0:e.id))return V.oR.error("Extension has no ID");eb({id:null!=(a=null==(n=ej.extension)?void 0:n.id)?a:""})},eN[21]=null==(f=ej.extension)?void 0:f.id,eN[22]=eb,eN[23]=es):es=eN[23],eN[24]!==ew||eN[25]!==es?(el=(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:ei,onClick:es,disabled:ew}),eN[24]=ew,eN[25]=es,eN[26]=el):el=eN[26],eN[27]!==ea||eN[28]!==el||eN[29]!==Q||eN[30]!==ee?(et=(0,i.jsxs)("div",{className:"absolute top-3 right-3 grid grid-cols-2 gap-1 p-1 rounded-[--radius-md] bg-gray-900 z-[2]",children:[Q,ee,ea,el]}),eN[27]=ea,eN[28]=el,eN[29]=Q,eN[30]=ee,eN[31]=et):et=eN[31],eN[32]!==(null==(a=ej.extension)?void 0:a.icon)||eN[33]!==(null==(r=ej.extension)||null==(t=r.name)?void 0:t[0])?(er=(0,i.jsx)("div",{className:"relative rounded-[--radius-md] size-12 bg-gray-900 overflow-hidden",children:(null==(N=ej.extension)?void 0:N.icon)?(0,i.jsx)(K.r,{src:null==(j=ej.extension)?void 0:j.icon,alt:"extension icon",crossOrigin:"anonymous",fill:!0,quality:100,priority:!0,className:"object-cover"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)("p",{className:"text-2xl font-bold",children:(null!=(I=null==(b=ej.extension)||null==(y=b.name)?void 0:y[0])?I:"?").toUpperCase()})})}),eN[32]=null==(C=ej.extension)?void 0:C.icon,eN[33]=null==(S=ej.extension)||null==(k=S.name)?void 0:k[0],eN[34]=er):er=eN[34];let eC=null!=(_=null==(d=ej.extension)?void 0:d.name)?_:"Unknown";eN[35]!==eC?(eo=(0,i.jsx)("p",{className:"font-semibold line-clamp-1",children:eC}),eN[35]=eC,eN[36]=eo):eo=eN[36];let ek=null!=(U=null==(c=ej.extension)?void 0:c.id)?U:"Invalid ID";eN[37]!==ek?(ed=(0,i.jsx)("p",{className:"text-[--muted] text-sm line-clamp-1 italic",children:ek}),eN[37]=ek,eN[38]=ed):ed=eN[38],eN[39]!==eo||eN[40]!==ed?(em=(0,i.jsxs)("div",{children:[eo,ed]}),eN[39]=eo,eN[40]=ed,eN[41]=em):em=eN[41],eN[42]!==er||eN[43]!==em?(ec=(0,i.jsxs)("div",{className:"flex gap-3 pr-16",children:[er,em]}),eN[42]=er,eN[43]=em,eN[44]=ec):ec=eN[44];let eS="invalid_manifest"===ej.code&&"Manifest error",eI="invalid_semver_constraint"===ej.code&&"Incompatible with this version of Seanime",e_="invalid_payload"===ej.code&&"Invalid or incompatible code";eN[45]!==eS||eN[46]!==eI||eN[47]!==e_?(eu=(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"text-red-400 text-sm",children:[eS,eI,e_]})}),eN[45]=eS,eN[46]=eI,eN[47]=e_,eN[48]=eu):eu=eN[48],eN[49]!==(null==(u=ej.extension)?void 0:u.version)?(ex=!!(null==(R=ej.extension)?void 0:R.version)&&(0,i.jsx)(P.E,{className:"rounded-[--radius-md]",children:null==(E=ej.extension)?void 0:E.version}),eN[49]=null==(z=ej.extension)?void 0:z.version,eN[50]=ex):ex=eN[50];let eU=null!=(L=null==(x=ej.extension)?void 0:x.author)?L:"-";return eN[51]!==eU?(ev=(0,i.jsx)(P.E,{className:"rounded-[--radius-md]",intent:"unstyled",children:eU}),eN[51]=eU,eN[52]=ev):ev=eN[52],eN[53]!==(null==(v=ej.extension)?void 0:v.lang)?(eh=(null==(A=ej.extension)?void 0:A.lang)&&(0,i.jsx)(P.E,{className:"rounded-[--radius-md]",intent:"unstyled",children:null==(T=ej.extension)||null==(D=T.lang)||null==(M=D.toUpperCase)?void 0:M.call(D)}),eN[53]=null==(F=ej.extension)?void 0:F.lang,eN[54]=eh):eh=eN[54],eN[55]!==ex||eN[56]!==ev||eN[57]!==eh?(eg=(0,i.jsxs)("div",{className:"flex gap-2",children:[ex,ev,eh]}),eN[55]=ex,eN[56]=ev,eN[57]=eh,eN[58]=eg):eg=eN[58],eN[59]!==ec||eN[60]!==eu||eN[61]!==eg?(ep=(0,i.jsxs)("div",{className:"z-[1] relative space-y-3",children:[ec,eu,eg]}),eN[59]=ec,eN[60]=eu,eN[61]=eg,eN[62]=ep):ep=eN[62],eN[63]!==et||eN[64]!==ep?(ef=(0,i.jsxs)("div",{className:O,children:[$,et,ep]}),eN[63]=et,eN[64]=ep,eN[65]=ef):ef=eN[65],ef}function X(e){var n,a,t,r,d,c,u,x,v,h,g,p,f,N,j,y,b;let C,k,S,I,_,U,R,E,L,A,M,D,T,F,O,$,Z,W,H,X,J,Y,Q,ee,en,ea=(0,s.c)(62),{extension:ei,isInstalled:es}=e,{mutate:el,isPending:et}=(0,l.bm)();(0,l.dh)(),ea[0]===Symbol.for("react.memo_cache_sentinel")?(C=(0,w.cn)("group/extension-card relative overflow-hidden","bg-gray-900 border  rounded-xl p-3 border-yellow-400/10"),k=(0,i.jsx)("div",{className:(0,w.cn)("absolute z-[0] left-0 top-0 h-full w-full max-w-[150px] bg-gradient-to-r to-gray-900","max-w-[50%] from-yellow-900/10")}),ea[0]=C,ea[1]=k):(C=ea[0],k=ea[1]),ea[2]===Symbol.for("react.memo_cache_sentinel")?(S=(0,i.jsx)(o.$n,{size:"sm",intent:"warning-basic",leftIcon:(0,i.jsx)(B.VIB,{}),className:"animate-bounce",children:"Grant"}),ea[2]=S):S=ea[2];let er=null==(n=ei.extension)?void 0:n.name;ea[3]!==er?(I=(0,i.jsxs)("p",{children:["The plugin ",(0,i.jsx)("span",{className:"font-bold",children:er})," is requesting the following permissions:"]}),ea[3]=er,ea[4]=I):I=ea[4],ea[5]!==ei.pluginPermissionDescription?(_=(0,i.jsx)("p",{className:"whitespace-pre-wrap w-full max-w-full overflow-x-auto text-md leading-relaxed text-left bg-[--subtle] p-2 rounded-md",children:ei.pluginPermissionDescription}),ea[5]=ei.pluginPermissionDescription,ea[6]=_):_=ea[6],ea[7]!==ei.path?(U=(0,i.jsx)("p",{className:"whitespace-pre-wrap w-full max-w-full overflow-x-auto text-sm text-center text-[--muted]",children:ei.path}),ea[7]=ei.path,ea[8]=U):U=ea[8],ea[9]===Symbol.for("react.memo_cache_sentinel")?(R=(0,i.jsx)(B.VIB,{className:"size-5"}),ea[9]=R):R=ea[9],ea[10]!==ei.extension.id||ea[11]!==el?(E=()=>{var e,n,a;if(!(null==(e=ei.extension)?void 0:e.id))return V.oR.error("Extension has no ID");el({id:null!=(a=null==(n=ei.extension)?void 0:n.id)?a:""})},ea[10]=ei.extension.id,ea[11]=el,ea[12]=E):E=ea[12],ea[13]!==et||ea[14]!==E?(L=(0,i.jsx)(o.$n,{size:"md",intent:"success-subtle",leftIcon:R,onClick:E,loading:et,children:"Grant permissions"}),ea[13]=et,ea[14]=E,ea[15]=L):L=ea[15],ea[16]!==I||ea[17]!==_||ea[18]!==U||ea[19]!==L?(A=(0,i.jsxs)(m.a,{trigger:S,title:"Permissions required",contentClass:"max-w-2xl",children:[I,_,U,L]}),ea[16]=I,ea[17]=_,ea[18]=U,ea[19]=L,ea[20]=A):A=ea[20],ea[21]!==ei.extension||ea[22]!==es?(M=!!(null==(d=ei.extension)?void 0:d.id)&&!!(null==(c=ei.extension)?void 0:c.manifestURI)&&(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(q,{extension:null==ei?void 0:ei.extension,isInstalled:es,children:(0,i.jsx)(o.K0,{size:"sm",intent:"gray-basic",icon:(0,i.jsx)(G.nMM,{})})})}),ea[21]=ei.extension,ea[22]=es,ea[23]=M):M=ea[23],ea[24]!==A||ea[25]!==M?(D=(0,i.jsxs)("div",{className:"absolute top-3 right-3 flex flex-col gap-1 p-1 rounded-xl bg-gray-900 z-[2]",children:[A,M]}),ea[24]=A,ea[25]=M,ea[26]=D):D=ea[26],ea[27]!==ei.extension.icon||ea[28]!==(null==(a=ei.extension.name)?void 0:a[0])?(T=(0,i.jsx)("div",{className:"relative rounded-[--radius-md] size-12 bg-gray-900 overflow-hidden",children:(null==(u=ei.extension)?void 0:u.icon)?(0,i.jsx)(K.r,{src:null==(x=ei.extension)?void 0:x.icon,alt:"extension icon",crossOrigin:"anonymous",fill:!0,quality:100,priority:!0,className:"object-cover"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)("p",{className:"text-2xl font-bold",children:(null!=(p=null==(h=ei.extension)||null==(v=h.name)?void 0:v[0])?p:"?").toUpperCase()})})}),ea[27]=ei.extension.icon,ea[28]=null==(g=ei.extension.name)?void 0:g[0],ea[29]=T):T=ea[29];let eo=null!=(f=null==(t=ei.extension)?void 0:t.name)?f:"Unknown";ea[30]!==eo?(F=(0,i.jsx)("p",{className:"font-semibold line-clamp-1",children:eo}),ea[30]=eo,ea[31]=F):F=ea[31];let ed=null!=(N=null==(r=ei.extension)?void 0:r.id)?N:"Invalid ID";ea[32]!==ed?(O=(0,i.jsx)("p",{className:"text-[--muted] text-xs line-clamp-1 italic",children:ed}),ea[32]=ed,ea[33]=O):O=ea[33],ea[34]!==F||ea[35]!==O?($=(0,i.jsxs)("div",{children:[F,O]}),ea[34]=F,ea[35]=O,ea[36]=$):$=ea[36],ea[37]!==T||ea[38]!==$?(Z=(0,i.jsxs)("div",{className:"flex gap-3 pr-16",children:[T,$]}),ea[37]=T,ea[38]=$,ea[39]=Z):Z=ea[39];let em="invalid_manifest"===ei.code&&"Manifest error",ec="invalid_payload"===ei.code&&"Invalid or incompatible code";return ea[40]!==em||ea[41]!==ec?(W=(0,i.jsx)("div",{children:(0,i.jsxs)("p",{className:"text-red-400 text-sm",children:[em,ec]})}),ea[40]=em,ea[41]=ec,ea[42]=W):W=ea[42],ea[43]!==ei.extension.version?(H=!!ei.extension.version&&(0,i.jsx)(P.E,{className:"rounded-md tracking-wide",intent:"unstyled",children:ei.extension.version}),ea[43]=ei.extension.version,ea[44]=H):H=ea[44],ea[45]!==ei.extension.author?(X=(0,i.jsx)(P.E,{className:"rounded-md",intent:"unstyled",children:ei.extension.author}),ea[45]=ei.extension.author,ea[46]=X):X=ea[46],ea[47]!==ei.extension.lang?(J=(null==(j=z.X[null==(y=ei.extension.lang)?void 0:y.toLowerCase()])?void 0:j.nativeName)||(null==(b=ei.extension.lang)?void 0:b.toUpperCase())||"Unknown",ea[47]=ei.extension.lang,ea[48]=J):J=ea[48],ea[49]!==J?(Y=(0,i.jsx)(P.E,{className:"border-transparent rounded-md",intent:"unstyled",children:J}),ea[49]=J,ea[50]=Y):Y=ea[50],ea[51]!==H||ea[52]!==X||ea[53]!==Y?(Q=(0,i.jsxs)("div",{className:"flex gap-2",children:[H,X,Y]}),ea[51]=H,ea[52]=X,ea[53]=Y,ea[54]=Q):Q=ea[54],ea[55]!==Z||ea[56]!==W||ea[57]!==Q?(ee=(0,i.jsxs)("div",{className:"z-[1] relative space-y-3",children:[Z,W,Q]}),ea[55]=Z,ea[56]=W,ea[57]=Q,ea[58]=ee):ee=ea[58],ea[59]!==D||ea[60]!==ee?(en=(0,i.jsxs)("div",{className:C,children:[k,D,ee]}),ea[59]=D,ea[60]=ee,ea[61]=en):en=ea[61],en}var J=a(5249),Y=a(52963),Q=a(17934),ee=a(42500),en=a(31093),ea=a.n(en),ei=a(58701),es=a(41452),el=a(28002);let et=(0,ee.eU)("installed"),er={plugin:"Plugin","anime-torrent-provider":"Anime Torrent Provider","manga-provider":"Manga Provider","onlinestream-provider":"Online Streaming Provider","custom-source":"Custom Source"};function eo(e){var n,a,r,m,c,u,x,v;let h,p,f,N,j,b=(0,s.c)(87),w=(0,T.useRouter)(),[C,k]=g.useState(!1),{data:S,isPending:I}=(0,l.dA)(C),U=(0,_.Xr)(et),{mutate:R,isPending:E}=(0,l.lW)();b[0]===Symbol.for("react.memo_cache_sentinel")?(h=function(e){return e?ea()(e,["name","manifestUri"]):[]},b[0]=h):h=b[0];let z=h;b[1]!==(null==S?void 0:S.extensions)||b[2]!==(null==S?void 0:S.invalidExtensions)?(p=function(e){var n,a;return!!(null==S||null==(n=S.extensions)?void 0:n.find(n=>n.id===e))||!!(null==S||null==(a=S.invalidExtensions)?void 0:a.find(n=>n.id===e))},b[1]=null==S?void 0:S.extensions,b[2]=null==S?void 0:S.invalidExtensions,b[3]=p):p=b[3];let L=p;if(b[4]!==(null==S?void 0:S.extensions)?(f=null!=(n=null==S?void 0:S.extensions)?n:[],b[4]=null==S?void 0:S.extensions,b[5]=f):f=b[5],b[6]!==S||b[7]!==R||b[8]!==L||b[9]!==E||b[10]!==I||b[11]!==w||b[12]!==U||b[13]!==f){j=Symbol.for("react.early_return_sentinel");e:{let e,n,s,l,h,g,p,C,_,K,P=z(f).filter(ep);b[16]!==(null==S?void 0:S.extensions)?(e=null!=(a=null==S?void 0:S.extensions)?a:[],b[16]=null==S?void 0:S.extensions,b[17]=e):e=b[17];let M=z(e).filter(eg);b[18]!==(null==S?void 0:S.extensions)?(n=null!=(r=null==S?void 0:S.extensions)?r:[],b[18]=null==S?void 0:S.extensions,b[19]=n):n=b[19];let D=z(n).filter(eh);b[20]!==(null==S?void 0:S.extensions)?(s=null!=(m=null==S?void 0:S.extensions)?m:[],b[20]=null==S?void 0:S.extensions,b[21]=s):s=b[21];let T=z(s).filter(ev);b[22]!==(null==S?void 0:S.extensions)?(l=null!=(c=null==S?void 0:S.extensions)?c:[],b[22]=null==S?void 0:S.extensions,b[23]=l):l=b[23];let q=z(l).filter(ex);if(b[24]!==(null==S?void 0:S.invalidExtensions)?(h=null!=(u=null==S?void 0:S.invalidExtensions)?u:[],b[24]=null==S?void 0:S.invalidExtensions,b[25]=h):h=b[25],b[26]!==S||b[27]!==R||b[28]!==L||b[29]!==E||b[30]!==I||b[31]!==w||b[32]!==U||b[33]!==h){let e,n=h.filter(eu).sort(ec);if(b[39]!==(null==S?void 0:S.invalidExtensions)?(e=null!=(x=null==S?void 0:S.invalidExtensions)?x:[],b[39]=null==S?void 0:S.invalidExtensions,b[40]=e):e=b[40],b[41]!==S||b[42]!==R||b[43]!==L||b[44]!==E||b[45]!==I||b[46]!==w||b[47]!==U||b[48]!==e){let n,a,s,l,r,m,c,u,x,h,f,N,z,K,P,M,D=e.filter(em).sort(ed);if(I){let e;b[53]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(d.kt,{}),b[53]=e):e=b[53],j=e;break e}if(!S){let e;b[54]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)(y.D,{children:"Could not get extensions."}),b[54]=e):e=b[54],j=e;break e}g=A.KZ,p="gap-6",b[55]===Symbol.for("react.memo_cache_sentinel")?(n=(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{children:"Extensions"}),(0,i.jsx)("p",{className:"text-[--muted] text-sm",children:"Manage your plugins and content providers."})]}),a=(0,i.jsx)("div",{className:"flex flex-1"}),b[55]=n,b[56]=a):(n=b[55],a=b[56]),b[57]!==S.hasUpdate||b[58]!==R||b[59]!==E?(s=!!(null==S||null==(v=S.hasUpdate)?void 0:v.length)&&(0,i.jsx)(o.$n,{className:"rounded-full animate-pulse",intent:"success",leftIcon:(0,i.jsx)(B.Oz0,{className:"text-lg"}),loading:E,onClick:()=>{var e;V.oR.info("Installing updates..."),null==S||null==(e=S.hasUpdate)||e.forEach(e=>{R({manifestUri:e.manifestURI})})},children:"Update all"}),b[57]=S.hasUpdate,b[58]=R,b[59]=E,b[60]=s):s=b[60],b[61]===Symbol.for("react.memo_cache_sentinel")?(l=(0,i.jsx)($.yPB,{className:"text-lg"}),b[61]=l):l=b[61],b[62]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{k(!0)},b[62]=r):r=b[62],b[63]!==I?(m=(0,i.jsx)(o.$n,{className:"rounded-full",intent:"gray-basic",leftIcon:l,disabled:I,onClick:r,children:"Check for updates"}),b[63]=I,b[64]=m):m=b[64],b[65]===Symbol.for("react.memo_cache_sentinel")?(c=(0,i.jsx)(o.$n,{className:"rounded-full",intent:"white-subtle",leftIcon:(0,i.jsx)(F.O9f,{className:"text-lg"}),children:"Add extensions"}),b[65]=c):c=b[65],b[66]!==S.extensions?(u=(0,i.jsx)(t.Q,{extensions:S.extensions,children:c}),b[66]=S.extensions,b[67]=u):u=b[67],b[68]===Symbol.for("react.memo_cache_sentinel")?(x=(0,i.jsx)(o.K0,{icon:(0,i.jsx)(G.voe,{}),intent:"gray-basic"}),b[68]=x):x=b[68],b[69]!==w?(h=()=>{w.push("/extensions/playground")},b[69]=w,b[70]=h):h=b[70],b[71]===Symbol.for("react.memo_cache_sentinel")?(f=(0,i.jsx)("span",{children:"Playground"}),b[71]=f):f=b[71],b[72]!==h?(N=(0,i.jsx)(Q._2,{onClick:h,children:f}),b[72]=h,b[73]=N):N=b[73],b[74]!==U?(z=()=>{U("marketplace")},b[74]=U,b[75]=z):z=b[75],b[76]===Symbol.for("react.memo_cache_sentinel")?(K=(0,i.jsx)("span",{children:"Marketplace"}),b[76]=K):K=b[76],b[77]!==z?(P=(0,i.jsx)(Q._2,{onClick:z,children:K}),b[77]=z,b[78]=P):P=b[78],b[79]!==N||b[80]!==P?(M=(0,i.jsxs)(Q.rI,{trigger:x,children:[N,P]}),b[79]=N,b[80]=P,b[81]=M):M=b[81],b[82]!==s||b[83]!==m||b[84]!==u||b[85]!==M?(C=(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[n,a,(0,i.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[s,m,u,M]})]}),b[82]=s,b[83]=m,b[84]=u,b[85]=M,b[86]=C):C=b[86],_=!!(null==D?void 0:D.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6",children:[(0,i.jsx)("h3",{className:"flex gap-3 items-center",children:"Permissions required"}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:D.map(e=>(0,i.jsx)(X,{extension:e,isInstalled:L(e.id)},e.id))})]}),b[41]=S,b[42]=R,b[43]=L,b[44]=E,b[45]=I,b[46]=w,b[47]=U,b[48]=e,b[49]=g,b[50]=p,b[51]=C,b[52]=_}else g=b[49],p=b[50],C=b[51],_=b[52];K=!!(null==n?void 0:n.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6 border-red-800",children:[(0,i.jsx)("h3",{className:"flex gap-3 items-center",children:"Invalid extensions"}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:n.map(e=>(0,i.jsx)(H,{extension:e,isInstalled:L(e.id)},e.id))})]}),b[26]=S,b[27]=R,b[28]=L,b[29]=E,b[30]=I,b[31]=w,b[32]=U,b[33]=h,b[34]=g,b[35]=p,b[36]=C,b[37]=_,b[38]=K}else g=b[34],p=b[35],C=b[36],_=b[37],K=b[38];N=(0,i.jsxs)(g,{className:p,children:[C,_,K,!!(null==P?void 0:P.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(B.sVt,{})," Plugins"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:P.map(e=>{var n,a;return(0,i.jsx)(Z,{extension:e,updateData:null==S||null==(n=S.hasUpdate)?void 0:n.find(n=>n.extensionID===e.id),isInstalled:L(e.id),userConfigError:null==S||null==(a=S.invalidUserConfigExtensions)?void 0:a.find(n=>n.id==e.id),allowReload:!0},e.id)})})]}),!!(null==q?void 0:q.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("div",{className:"flex items-center gap-4",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(es.YRu,{}),"Custom Sources"]}),(0,i.jsx)(J.i,{href:"/custom-sources",className:"text-sm underline underline-offset-2 text-[--muted] hover:text-[--foreground]",children:"Browse all media"})]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:q.map(e=>{var n,a;return(0,i.jsx)(Z,{extension:e,updateData:null==S||null==(n=S.hasUpdate)?void 0:n.find(n=>n.extensionID===e.id),isInstalled:L(e.id),userConfigError:null==S||null==(a=S.invalidUserConfigExtensions)?void 0:a.find(n=>n.id==e.id),allowReload:!0},e.id)})})]}),!!(null==M?void 0:M.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(O.j$e,{}),"Anime torrents"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:M.map(e=>{var n,a;return(0,i.jsx)(Z,{extension:e,updateData:null==S||null==(n=S.hasUpdate)?void 0:n.find(n=>n.extensionID===e.id),isInstalled:L(e.id),userConfigError:null==S||null==(a=S.invalidUserConfigExtensions)?void 0:a.find(n=>n.id==e.id),allowReload:!0},e.id)})})]}),!!(null==D?void 0:D.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(el.s8$,{}),"Manga"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:D.map(e=>{var n,a;return(0,i.jsx)(Z,{extension:e,updateData:null==S||null==(n=S.hasUpdate)?void 0:n.find(n=>n.extensionID===e.id),isInstalled:L(e.id),userConfigError:null==S||null==(a=S.invalidUserConfigExtensions)?void 0:a.find(n=>n.id==e.id),allowReload:!0},e.id)})})]}),!!(null==T?void 0:T.length)&&(0,i.jsxs)(Y.Zp,{className:"p-4 space-y-6",children:[(0,i.jsxs)("h3",{className:"flex gap-3 items-center",children:[(0,i.jsx)(ei.Vvz,{})," Online streaming"]}),(0,i.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-3 2xl:grid-cols-4 gap-4",children:T.map(e=>{var n,a;return(0,i.jsx)(Z,{extension:e,updateData:null==S||null==(n=S.hasUpdate)?void 0:n.find(n=>n.extensionID===e.id),isInstalled:L(e.id),userConfigError:null==S||null==(a=S.invalidUserConfigExtensions)?void 0:a.find(n=>n.id==e.id),allowReload:!0},e.id)})})]})]})}b[6]=S,b[7]=R,b[8]=L,b[9]=E,b[10]=I,b[11]=w,b[12]=U,b[13]=f,b[14]=N,b[15]=j}else N=b[14],j=b[15];return j!==Symbol.for("react.early_return_sentinel")?j:N}function ed(e,n){return e.id.localeCompare(n.id)}function em(e){return"plugin_permissions_not_granted"===e.code}function ec(e,n){return e.id.localeCompare(n.id)}function eu(e){return"plugin_permissions_not_granted"!==e.code}function ex(e){return"custom-source"===e.type}function ev(e){return"onlinestream-provider"===e.type}function eh(e){return"manga-provider"===e.type}function eg(e){return"anime-torrent-provider"===e.type}function ep(e){return"plugin"===e.type}},40764:(e,n,a)=>{a.d(n,{I:()=>x});var i=a(95155),s=a(19749),l=a(34618),t=a(14680),r=a(5249),o=a(63717),d=a(84127),m=a(86694),c=a.n(m);a(12115);var u=a(3692);function x(e){var n,a;let m,x,v,h,g,p,f,N,j,y,b,w,C,k,S,I,_,U,R,E=(0,s.c)(44),{extension:z}=e,L="builtin"===z.manifestURI;E[0]!==z.icon||E[1]!==z.name?(m=(0,i.jsx)("div",{className:"relative rounded-[--radius-md] size-12 bg-gray-900 overflow-hidden",children:z.icon?(0,i.jsx)(t.r,{src:z.icon,alt:"extension icon",crossOrigin:"anonymous",fill:!0,quality:100,priority:!0,className:"object-cover"}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)("p",{className:"text-2xl font-bold",children:z.name[0].toUpperCase()})})}),E[0]=z.icon,E[1]=z.name,E[2]=m):m=E[2],E[3]!==z.version?(x=!!z.version&&(0,i.jsx)(o.E,{className:"rounded-[--radius-md] text-md",children:z.version}),E[3]=z.version,E[4]=x):x=E[4],E[5]!==z.name||E[6]!==x?(v=(0,i.jsxs)("p",{className:"text-md font-semibold flex gap-2 flex-wrap",children:[z.name," ",x]}),E[5]=z.name,E[6]=x,E[7]=v):v=E[7],E[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,i.jsx)("div",{className:"flex flex-1"}),E[8]=h):h=E[8],E[9]!==z.website?(g=!!z.website&&(0,i.jsx)(r.i,{href:z.website,target:"_blank",className:"inline-block",children:(0,i.jsx)(d.$n,{size:"sm",intent:"gray-outline",leftIcon:(0,i.jsx)(u.AnD,{}),children:"Website"})}),E[9]=z.website,E[10]=g):g=E[10],E[11]!==v||E[12]!==g?(p=(0,i.jsxs)("div",{className:"flex items-center flex-wrap",children:[v,h,g]}),E[11]=v,E[12]=g,E[13]=p):p=E[13],E[14]!==z.description?(f=(0,i.jsx)("p",{className:"text-[--muted] text-sm text-pretty",children:z.description}),E[14]=z.description,E[15]=f):f=E[15],E[16]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsx)("span",{className:"text-[--muted]",children:"ID:"}),E[16]=N):N=E[16],E[17]!==z.id?(j=(0,i.jsxs)("p",{className:"text-md line-clamp-1",children:[N," ",(0,i.jsx)("span",{className:"",children:z.id})]}),E[17]=z.id,E[18]=j):j=E[18],E[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsx)("span",{className:"text-[--muted]",children:"Author:"}),E[19]=y):y=E[19],E[20]!==z.author?(b=(0,i.jsxs)("p",{className:"text-md line-clamp-1",children:[y," ",(0,i.jsx)("span",{className:"",children:z.author})]}),E[20]=z.author,E[21]=b):b=E[21],E[22]===Symbol.for("react.memo_cache_sentinel")?(w=(0,i.jsx)("span",{className:"text-[--muted]",children:"Language: "}),E[22]=w):w=E[22];let K=(null==(n=l.X[null==(a=z.lang)?void 0:a.toLowerCase()])?void 0:n.nativeName)||z.lang;return E[23]!==K?(C=(0,i.jsxs)("p",{className:"text-md line-clamp-1",children:[w,(0,i.jsx)("span",{className:"",children:K})]}),E[23]=K,E[24]=C):C=E[24],E[25]===Symbol.for("react.memo_cache_sentinel")?(k=(0,i.jsx)("span",{className:"text-[--muted]",children:"Programming language:"}),E[25]=k):k=E[25],E[26]!==z.language?(S=c()(z.language),E[26]=z.language,E[27]=S):S=E[27],E[28]!==S?(I=(0,i.jsxs)("p",{className:"text-md line-clamp-1",children:[k," ",(0,i.jsx)("span",{className:"",children:S})]}),E[28]=S,E[29]=I):I=E[29],E[30]!==z.manifestURI||E[31]!==L?(_=!!z.manifestURI&&!L&&(0,i.jsxs)("p",{className:"text-md w-full",children:[(0,i.jsx)("span",{className:"text-[--muted]",children:"Manifest URL:"})," ",(0,i.jsx)("span",{className:"",children:z.manifestURI})]}),E[30]=z.manifestURI,E[31]=L,E[32]=_):_=E[32],E[33]!==b||E[34]!==C||E[35]!==I||E[36]!==_||E[37]!==p||E[38]!==f||E[39]!==j?(U=(0,i.jsxs)("div",{className:"space-y-2",children:[p,f,j,b,C,I,_]}),E[33]=b,E[34]=C,E[35]=I,E[36]=_,E[37]=p,E[38]=f,E[39]=j,E[40]=U):U=E[40],E[41]!==m||E[42]!==U?(R=(0,i.jsxs)(i.Fragment,{children:[m,U]}),E[41]=m,E[42]=U,E[43]=R):R=E[43],R}},64847:(e,n,a)=>{a.d(n,{Q:()=>g});var i=a(95155),s=a(19749),l=a(17946),t=a(40764),r=a(20495),o=a(84127),d=a(76049),m=a(57073),c=a(53712),u=a(12115),x=a(75780),v=a(43994),h=a(69554);function g(e){let n,a,r,g,N,j,y,b,w,C,k,S,I=(0,s.c)(39),{extensions:_,children:U}=e,[R,E]=u.useState(!1),[z,L]=u.useState(""),[K,A]=u.useState(""),{mutate:P,data:M,isPending:D,reset:T}=(0,l.KK)(null),{mutate:F,data:B,isPending:O,reset:$}=(0,l.fz)(),{mutate:V,data:Z,isPending:q}=(0,l.lW)();I[0]!==Z||I[1]!==T?(n=()=>{Z&&(h.oR.success(Z.message),E(!1),T())},I[0]=Z,I[1]=T,I[2]=n):n=I[2],I[3]!==Z?(a=[Z],I[3]=Z,I[4]=a):a=I[4],u.useEffect(n,a),I[5]!==P||I[6]!==z?(r=function(){if(!z)return void h.oR.warning("Please provide a valid URL.");P({manifestUri:z})},I[5]=P,I[6]=z,I[7]=r):r=I[7];let G=r;I[8]!==F||I[9]!==K||I[10]!==$?(g=function(e){if(!K)return void h.oR.warning("Please provide a valid URL.");F({repositoryUri:K,install:e},{onSuccess:()=>{e&&(h.oR.success("Extensions installed successfully."),E(!1),A(""),$())}})},I[8]=F,I[9]=K,I[10]=$,I[11]=g):g=I[11];let W=g;if(I[12]===Symbol.for("react.memo_cache_sentinel")?(N=(0,i.jsxs)("div",{className:"lg:w-1/3",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold",children:"Install from URL"}),(0,i.jsx)("p",{className:"text-[--muted]",children:"Install an extension by entering the manifest URL."})]}),I[12]=N):N=I[12],I[13]!==z?(j=(0,i.jsx)(c.k,{placeholder:"https://example.com/extension.json",value:z,onValueChange:L}),I[13]=z,I[14]=j):j=I[14],I[15]===Symbol.for("react.memo_cache_sentinel")?(y=(0,i.jsx)(v.qbB,{}),I[15]=y):y=I[15],I[16]!==G||I[17]!==D?(b=(0,i.jsx)(o.$n,{leftIcon:y,intent:"white",onClick:G,loading:D,children:"Find"}),I[16]=G,I[17]=D,I[18]=b):b=I[18],I[19]!==j||I[20]!==b?(w=(0,i.jsxs)("div",{className:"flex gap-4 flex-col lg:flex-row",children:[N,(0,i.jsxs)("div",{className:"lg:w-2/3 gap-3 flex flex-col",children:[j,b]})]}),I[19]=j,I[20]=b,I[21]=w):w=I[21],I[22]!==M||I[23]!==_||I[24]!==V||I[25]!==q?(C=!!M&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.w,{}),(0,i.jsx)(t.I,{extension:M}),(null==_?void 0:_.find(e=>e.id===M.id))?(0,i.jsx)("p",{className:"text-center",children:"This extension is already installed."}):(0,i.jsx)(o.$n,{intent:"white",loading:q,onClick:()=>{V({manifestUri:null==M?void 0:M.manifestURI})},children:"Install"})]}),I[22]=M,I[23]=_,I[24]=V,I[25]=q,I[26]=C):C=I[26],I[27]!==M||I[28]!==W||I[29]!==O||I[30]!==B||I[31]!==K){var H;k=!M&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.w,{}),(0,i.jsx)("p",{className:"text-center text-[--muted]",children:"You can also install many extensions at once by importing them from a repository."}),(0,i.jsxs)("div",{className:"flex gap-4 flex-col lg:flex-row-reverse",children:[(0,i.jsxs)("div",{className:"lg:w-1/3",children:[(0,i.jsx)("h3",{className:"text-xl font-bold",children:"Import from repository"}),(0,i.jsx)("p",{className:"text-[--muted]",children:"Import and automatically install extensions by entering a repository URL."})]}),(0,i.jsxs)("div",{className:"lg:w-2/3 gap-3 flex flex-col",children:[(0,i.jsx)(c.k,{placeholder:'https://example.com/extensions.json or { "urls": [...] }',value:K,onValueChange:A}),(0,i.jsx)(o.$n,{leftIcon:(0,i.jsx)(x.a4x,{}),intent:"gray-outline",onClick:()=>W(!1),loading:O,children:"Import all"})]})]}),!!B&&(0,i.jsxs)(i.Fragment,{children:[null==(H=B.extensions)?void 0:H.toSorted(f).map(p),(0,i.jsx)(o.$n,{leftIcon:(0,i.jsx)(x.a4x,{}),intent:"white",onClick:()=>W(!0),loading:O,children:"Install all"})]})]}),I[27]=M,I[28]=W,I[29]=O,I[30]=B,I[31]=K,I[32]=k}else k=I[32];return I[33]!==U||I[34]!==R||I[35]!==k||I[36]!==w||I[37]!==C?(S=(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(d.a,{open:R,onOpenChange:E,trigger:U,contentClass:"max-w-3xl",titleClass:"text-center pb-4",title:"Add extensions",children:[w,C,k]})}),I[33]=U,I[34]=R,I[35]=k,I[36]=w,I[37]=C,I[38]=S):S=I[38],S}function p(e){return(0,i.jsx)("div",{className:"",children:(0,i.jsx)(r.V,{extension:e,isInstalled:!1,hideInstallButton:!0,showType:!0})},e.id)}function f(e,n){return e.id.toLowerCase().localeCompare(n.id.toLowerCase())}}}]);