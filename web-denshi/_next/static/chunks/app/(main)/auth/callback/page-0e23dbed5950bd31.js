(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7944],{16524:(e,t,n)=>{Promise.resolve().then(n.bind(n,91779))},21068:(e,t,n)=>{"use strict";n.d(t,{$M:()=>a,q9:()=>o,tL:()=>r});let a="https://anilist.co/api/v2/oauth/authorize?client_id=15168&response_type=token",r="https://anilist.co/api/v2/oauth/authorize?client_id=13985&response_type=token",o=43e3},24151:(e,t,n)=>{"use strict";n.d(t,{$e:()=>o,Cc:()=>m,XH:()=>i,aD:()=>f,bY:()=>s,dP:()=>d,iK:()=>p,lA:()=>b,nG:()=>c,r5:()=>r,xF:()=>l});var a=n(5290);let r="",o="qbittorrent",i=function(e){return e.QBITTORRENT="qbittorrent",e.TRANSMISSION="transmission",e.NONE="none",e}({}),l=function(e){return e.NONE="none",e}({}),s=function(e){return e.TORBOX="torbox",e.REALDEBRID="realdebrid",e}({}),u=a.z.object({enableTranscode:a.z.boolean().optional().default(!1),enableTorrentStreaming:a.z.boolean().optional().default(!1),debridProvider:a.z.string().optional().default("none"),debridApiKey:a.z.string().optional().default("")}),d=a.z.object({libraryPath:a.z.string().optional().default(""),defaultPlayer:a.z.string(),torrentProvider:a.z.string().default(r),autoScan:a.z.boolean().optional().default(!1),mediaPlayerHost:a.z.string(),vlcUsername:a.z.string().optional().default(""),vlcPassword:a.z.string().optional().default(""),vlcPort:a.z.number(),vlcPath:a.z.string().optional().default(""),mpcPort:a.z.number(),mpcPath:a.z.string().optional().default(""),mpvSocket:a.z.string().optional().default(""),mpvPath:a.z.string().optional().default(""),mpvArgs:a.z.string().optional().default(""),iinaSocket:a.z.string().optional().default(""),iinaPath:a.z.string().optional().default(""),iinaArgs:a.z.string().optional().default(""),defaultTorrentClient:a.z.string().optional().default(o),hideTorrentList:a.z.boolean().optional().default(!1),qbittorrentPath:a.z.string().optional().default(""),qbittorrentHost:a.z.string().optional().default(""),qbittorrentPort:a.z.number(),qbittorrentUsername:a.z.string().optional().default(""),qbittorrentPassword:a.z.string().optional().default(""),qbittorrentTags:a.z.string().optional().default(""),transmissionPath:a.z.string().optional().default(""),transmissionHost:a.z.string().optional().default(""),transmissionPort:a.z.number().optional().default(9091),transmissionUsername:a.z.string().optional().default(""),transmissionPassword:a.z.string().optional().default(""),hideAudienceScore:a.z.boolean().optional().default(!1),autoUpdateProgress:a.z.boolean().optional().default(!1),disableUpdateCheck:a.z.boolean().optional().default(!1),enableOnlinestream:a.z.boolean().optional().default(!1),includeOnlineStreamingInLibrary:a.z.boolean().optional().default(!1),disableAnimeCardTrailers:a.z.boolean().optional().default(!1),enableManga:a.z.boolean().optional().default(!0),mangaLocalSourceDirectory:a.z.string().optional().default(""),enableRichPresence:a.z.boolean().optional().default(!1),enableAnimeRichPresence:a.z.boolean().optional().default(!1),enableMangaRichPresence:a.z.boolean().optional().default(!1),enableAdultContent:a.z.boolean().optional().default(!1),blurAdultContent:a.z.boolean().optional().default(!1),dohProvider:a.z.string().optional().default(""),openTorrentClientOnStart:a.z.boolean().optional().default(!1),openWebURLOnStart:a.z.boolean().optional().default(!1),refreshLibraryOnStart:a.z.boolean().optional().default(!1),richPresenceHideSeanimeRepositoryButton:a.z.boolean().optional().default(!1),richPresenceShowAniListMediaButton:a.z.boolean().optional().default(!1),richPresenceShowAniListProfileButton:a.z.boolean().optional().default(!1),richPresenceUseMediaTitleStatus:a.z.boolean().optional().default(!0),disableNotifications:a.z.boolean().optional().default(!1),disableAutoDownloaderNotifications:a.z.boolean().optional().default(!1),disableAutoScannerNotifications:a.z.boolean().optional().default(!1),defaultMangaProvider:a.z.string().optional().default(""),mangaAutoUpdateProgress:a.z.boolean().optional().default(!1),autoPlayNextEpisode:a.z.boolean().optional().default(!1),showActiveTorrentCount:a.z.boolean().optional().default(!1),enableWatchContinuity:a.z.boolean().optional().default(!1),libraryPaths:a.z.array(a.z.string()).optional().default([]),autoSyncOfflineLocalData:a.z.boolean().optional().default(!1),scannerMatchingThreshold:a.z.number().optional().default(.5),scannerMatchingAlgorithm:a.z.string().optional().default(""),autoSyncToLocalAccount:a.z.boolean().optional().default(!1),nakamaIsHost:a.z.boolean().optional().default(!1),nakamaHostPassword:a.z.string().optional().default(""),nakamaRemoteServerURL:a.z.string().optional().default(""),nakamaRemoteServerPassword:a.z.string().optional().default(""),nakamaHostShareLocalAnimeLibrary:a.z.boolean().optional().default(!1),nakamaEnabled:a.z.boolean().optional().default(!1),nakamaHostEnablePortForwarding:a.z.boolean().optional().default(!1),nakamaUsername:a.z.string().optional().default(""),includeNakamaAnimeLibrary:a.z.boolean().optional().default(!1),nakamaHostUnsharedAnimeIds:a.z.array(a.z.number()).optional().default([]),autoSaveCurrentMediaOffline:a.z.boolean().optional().default(!1),disableCacheLayer:a.z.boolean().optional().default(!1),autoSelectTorrentProvider:a.z.string().optional().default("")}),c=u.extend(d.shape),b=e=>({library:{libraryPath:e.libraryPath,autoUpdateProgress:!0,disableUpdateCheck:!1,torrentProvider:e.torrentProvider||r,autoSelectTorrentProvider:"",autoScan:!1,disableAnimeCardTrailers:!1,enableManga:e.enableManga,enableOnlinestream:e.enableOnlinestream,dohProvider:"",openTorrentClientOnStart:!1,openWebURLOnStart:!1,refreshLibraryOnStart:!1,autoPlayNextEpisode:!1,enableWatchContinuity:e.enableWatchContinuity,libraryPaths:[],autoSyncOfflineLocalData:!1,includeOnlineStreamingInLibrary:!1,scannerMatchingThreshold:0,scannerMatchingAlgorithm:"",autoSyncToLocalAccount:!1,autoSaveCurrentMediaOffline:!1},nakama:{enabled:!1,isHost:!1,hostPassword:"",remoteServerURL:"",remoteServerPassword:"",hostShareLocalAnimeLibrary:!1,username:e.nakamaUsername,includeNakamaAnimeLibrary:!1,hostUnsharedAnimeIds:[],hostEnablePortForwarding:!1},manga:{defaultMangaProvider:"",mangaAutoUpdateProgress:!1,mangaLocalSourceDirectory:""},mediaPlayer:{host:e.mediaPlayerHost,defaultPlayer:e.defaultPlayer,vlcPort:e.vlcPort,vlcUsername:e.vlcUsername||"",vlcPassword:e.vlcPassword,vlcPath:e.vlcPath||"",mpcPort:e.mpcPort,mpcPath:e.mpcPath||"",mpvSocket:e.mpvSocket||"",mpvPath:e.mpvPath||"",mpvArgs:"",iinaSocket:e.iinaSocket||"",iinaPath:e.iinaPath||"",iinaArgs:""},discord:{enableRichPresence:e.enableRichPresence,enableAnimeRichPresence:!0,enableMangaRichPresence:!0,richPresenceHideSeanimeRepositoryButton:!1,richPresenceShowAniListMediaButton:!1,richPresenceShowAniListProfileButton:!1,richPresenceUseMediaTitleStatus:!0},torrent:{defaultTorrentClient:e.defaultTorrentClient,qbittorrentPath:e.qbittorrentPath,qbittorrentHost:e.qbittorrentHost,qbittorrentPort:e.qbittorrentPort,qbittorrentPassword:e.qbittorrentPassword,qbittorrentUsername:e.qbittorrentUsername,qbittorrentTags:"",transmissionPath:e.transmissionPath,transmissionHost:e.transmissionHost,transmissionPort:e.transmissionPort,transmissionUsername:e.transmissionUsername,transmissionPassword:e.transmissionPassword,showActiveTorrentCount:!1,hideTorrentList:!1},anilist:{hideAudienceScore:!1,enableAdultContent:e.enableAdultContent,blurAdultContent:!1,disableCacheLayer:!1},enableTorrentStreaming:e.enableTorrentStreaming,enableTranscode:e.enableTranscode,notifications:{disableNotifications:!1,disableAutoDownloaderNotifications:!1,disableAutoScannerNotifications:!1},debridProvider:e.debridProvider,debridApiKey:e.debridApiKey});function p(){return{getDefaultVlcPath:e=>{switch(e){case"windows":default:return"C:\\Program Files\\VideoLAN\\VLC\\vlc.exe";case"linux":return"/usr/bin/vlc";case"darwin":return"/Applications/VLC.app/Contents/MacOS/VLC"}},getDefaultQBittorrentPath:e=>{switch(e){case"windows":default:return"C:/Program Files/qBittorrent/qbittorrent.exe";case"linux":return"/usr/bin/qbittorrent";case"darwin":return"/Applications/qbittorrent.app/Contents/MacOS/qbittorrent"}},getDefaultTransmissionPath:e=>{switch(e){case"windows":default:return"C:/Program Files/Transmission/transmission-qt.exe";case"linux":return"/usr/bin/transmission-gtk";case"darwin":return"/Applications/Transmission.app/Contents/MacOS/Transmission"}}}}function m(e){return"windows"===e?"\\\\.\\pipe\\mpv_ipc":"/tmp/mpv_socket"}function f(e){return"/tmp/iina_socket"}},35349:(e,t,n)=>{"use strict";n.d(t,{H5:()=>i,Q:()=>l,uQ:()=>s});var a=n(42500),r=n(47555),o=n(21842);let i=(0,r.E)(void 0),l=(0,a.eU)(!1),s=(0,o.tG)("sea-server-auth-token",void 0,void 0,{getOnInit:!0})},45886:(e,t,n)=>{"use strict";n.d(t,{M:()=>o});var a=n(21068),r=n(94077);function o(){var e,t,n,o,i,l,s,u;let d=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(r.X){let e=(a.q9,"http://127.0.0.1:43211");return d&&(e=e.replace("http://","").replace("https://","")),e}let c="".concat(null==(t=window)||null==(e=t.location)?void 0:e.protocol,"//")+("".concat(null==(o=window)||null==(n=o.location)?void 0:n.hostname,":").concat(a.q9),null==(l=window)||null==(i=l.location)?void 0:i.host);return d&&(c=c.replace("http://","").replace("https://","")),c}},50477:()=>{},62322:(e,t,n)=>{"use strict";n.d(t,{W:()=>c,v:()=>d});var a=n(19749),r=n(7675),o=n(74889),i=n(96826),l=n(46278),s=n(6066),u=n(69554);function d(){let e,t,n,d,c=(0,a.c)(10),b=(0,l.jE)(),p=(0,s.useRouter)(),m=(0,i.LX)();return c[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.AUTH.Login.key],c[0]=e):e=c[0],c[1]!==b||c[2]!==p||c[3]!==m?(t=async e=>{e&&(u.oR.success("Successfully authenticated"),await b.invalidateQueries({queryKey:[o.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await b.invalidateQueries({queryKey:[o.S.ANILIST.GetRawAnimeCollection.key]}),await b.invalidateQueries({queryKey:[o.S.ANILIST.GetAnimeCollection.key]}),await b.invalidateQueries({queryKey:[o.S.MANGA.GetMangaCollection.key]}),m(e),p.push("/"),b.invalidateQueries({queryKey:[o.S.ANIME_ENTRIES.GetMissingEpisodes.key]}),b.invalidateQueries({queryKey:[o.S.ANIME_ENTRIES.GetAnimeEntry.key]}),b.invalidateQueries({queryKey:[o.S.MANGA.GetMangaEntry.key]}))},c[1]=b,c[2]=p,c[3]=m,c[4]=t):t=c[4],c[5]!==p?(n=async e=>{u.oR.error(e.message),p.push("/")},c[5]=p,c[6]=n):n=c[6],c[7]!==t||c[8]!==n?(d={endpoint:o.S.AUTH.Login.endpoint,method:o.S.AUTH.Login.methods[0],mutationKey:e,onSuccess:t,onError:n},c[7]=t,c[8]=n,c[9]=d):d=c[9],(0,r.qk)(d)}function c(){let e,t,n=(0,a.c)(4),d=(0,l.jE)(),c=(0,s.useRouter)();return(0,i.LX)(),n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.AUTH.Logout.key],n[0]=e):e=n[0],n[1]!==d||n[2]!==c?(t={endpoint:o.S.AUTH.Logout.endpoint,method:o.S.AUTH.Logout.methods[0],mutationKey:e,onSuccess:async()=>{u.oR.success("Successfully logged out"),await d.invalidateQueries({queryKey:[o.S.ANIME_COLLECTION.GetLibraryCollection.key]}),await d.invalidateQueries({queryKey:[o.S.ANILIST.GetRawAnimeCollection.key]}),await d.invalidateQueries({queryKey:[o.S.ANILIST.GetAnimeCollection.key]}),await d.invalidateQueries({queryKey:[o.S.MANGA.GetMangaCollection.key]}),c.push("/"),d.invalidateQueries({queryKey:[o.S.ANIME_ENTRIES.GetMissingEpisodes.key]}),d.invalidateQueries({queryKey:[o.S.ANIME_ENTRIES.GetAnimeEntry.key]}),d.invalidateQueries({queryKey:[o.S.MANGA.GetMangaEntry.key]})}},n[1]=d,n[2]=c,n[3]=t):t=n[3],(0,r.qk)(t)}},91360:(e,t,n)=>{"use strict";n.d(t,{cn:()=>i,u:()=>o});var a=n(35403),r=n(59055);function o(e){return e}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.QP)((0,a.$)(t))}},91779:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m,dynamic:()=>p});var a=n(95155),r=n(19749),o=n(62322),i=n(26603),l=n(2091),s=n(29724),u=n(6066),d=n(12115),c=n(69554);function b(e){let t,n,b,p=(0,r.c)(7),m=(0,u.useRouter)(),f=(0,s.md)(i.ST),{mutate:g}=(0,o.v)(),h=d.useRef(!1);return p[0]!==g||p[1]!==m||p[2]!==f?(t=()=>{if(f){var e,t,n,a;let r=null==(a=window)||null==(n=a.location)||null==(t=n.hash)||null==(e=t.replace("#access_token=",""))?void 0:e.replace(/&.*/,"");r&&!h.current?(g({token:r}),h.current=!0):(c.oR.error("Invalid token"),m.push("/"))}},p[0]=g,p[1]=m,p[2]=f,p[3]=t):t=p[3],p[4]!==f?(n=[f],p[4]=f,p[5]=n):n=p[5],d.useEffect(t,n),p[6]===Symbol.for("react.memo_cache_sentinel")?(b=(0,a.jsx)("div",{children:(0,a.jsx)(l.p8,{className:"fixed w-full h-full z-[80]",children:(0,a.jsx)("h3",{className:"mt-2",children:"Authenticating..."})})}),p[6]=b):b=p[6],b}let p="force-static";function m(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,a.jsx)(b,{}),t[0]=e):e=t[0],e}},94077:(e,t,n)=>{"use strict";n.d(t,{Ck:()=>i,X:()=>a,nH:()=>r,qe:()=>o});let a=!0,r=!0,o=!1,i=!1},96826:(e,t,n)=>{"use strict";n.d(t,{iZ:()=>p,bV:()=>f,FA:()=>h,hK:()=>y,lJ:()=>m,E_:()=>g,OB:()=>P,S5:()=>v,OZ:()=>S,v1:()=>c,LX:()=>b});var a=n(19749),r=n(35349),o=n(84762);class i{async generateToken(e){let t=Math.floor(Date.now()/1e3),n=btoa(JSON.stringify({endpoint:e,iat:t,exp:t+this.ttl})).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),a=await this.generateHMACSignature(n);return"".concat(n,".").concat(a)}generateQueryParam(e,t){return this.generateToken(e).then(e=>"".concat(t||"?","token=").concat(encodeURIComponent(e)))}async generateHMACSignature(e){let t=o.HmacSHA256(e,this.secret);return o.enc.Base64.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}constructor(e,t){this.secret=e,this.ttl=t}}function l(e){return new i(e,86400)}function s(e){return new i(e,86400)}var u=n(24151),d=n(29724);function c(){return(0,d.md)(r.H5)}function b(){return(0,d.Xr)(r.H5)}function p(){let e=c();return null==e||e.user,null==e?void 0:e.user}function m(){var e,t,n,r,o,i;let l,s,d=(0,a.c)(2),b=c();return null==b||null==(t=b.settings)||null==(e=t.library)||e.torrentProvider,l=!!(null==b||null==(r=b.settings)||null==(n=r.library)?void 0:n.torrentProvider)&&(null==b||null==(i=b.settings)||null==(o=i.library)?void 0:o.torrentProvider)!==u.xF.NONE,d[0]!==l?(s={hasTorrentProvider:l},d[0]=l,d[1]=s):s=d[1],s}function f(){var e,t;let n,r,o=(0,a.c)(2),i=c();return null==i||i.debridSettings,n=!!(null==i||null==(e=i.debridSettings)?void 0:e.enabled)&&!!(null==i||null==(t=i.debridSettings)?void 0:t.provider),o[0]!==n?(r={hasDebridService:n},o[0]=n,o[1]=r):r=o[1],r}function g(){var e;let t,n,r=(0,a.c)(2),o=c();return null==o||o.torrentstreamSettings,t=!!(null==o||null==(e=o.torrentstreamSettings)?void 0:e.enabled),r[0]!==t?(n={hasTorrentStreaming:t},r[0]=t,r[1]=n):n=r[1],n}function h(){var e,t,n;let r,o,i=(0,a.c)(2),l=c();return null==l||null==(e=l.settings)||e.library,r=!!(null==l||null==(n=l.settings)||null==(t=n.library)?void 0:t.enableOnlinestream),i[0]!==r?(o={hasOnlineStreaming:r},i[0]=r,i[1]=o):o=i[1],o}function v(){var e;let t,n,r=(0,a.c)(2),o=c();return null==o||o.debridSettings,t=null==o||null==(e=o.debridSettings)?void 0:e.provider,r[0]!==t?(n={selectedDebridService:t},r[0]=t,r[1]=n):n=r[1],n}function y(){var e,t,n,r,o;let i,l,s=(0,a.c)(3),u=c(),{hasDebridService:d}=f(),{hasTorrentStreaming:b}=g(),{hasOnlineStreaming:p}=h(),m=p||b||d;return null==u||u.debridSettings,null==u||u.torrentstreamSettings,i=!!(null==u||null==(e=u.debridSettings)?void 0:e.enabled)&&!!(null==u||null==(t=u.debridSettings)?void 0:t.provider)&&!!(null==u||null==(n=u.debridSettings)?void 0:n.includeDebridStreamInLibrary)||!!(null==u||null==(r=u.torrentstreamSettings)?void 0:r.enabled)&&(null==u||null==(o=u.torrentstreamSettings)?void 0:o.includeInLibrary),s[0]!==m||s[1]!==i?(l={hasStreamingEnabled:m,hasTorrentOrDebridInclusion:i},s[0]=m,s[1]=i,s[2]=l):l=s[2],l}function S(){let e,t=(0,a.c)(3),n=c(),[o]=(0,d.fp)(r.uQ);return t[0]!==o||t[1]!==(null==n?void 0:n.serverHasPassword)?(e={getHMACTokenQueryParam:async(e,t)=>{if(!(null==n?void 0:n.serverHasPassword)||!o)return"";try{let n=l(o);return await n.generateQueryParam(e,t)}catch(e){return console.error("Failed to generate HMAC token:",e),""}},generateHMACToken:async e=>{if(!(null==n?void 0:n.serverHasPassword)||!o)return"";try{let t=l(o);return await t.generateToken(e)}catch(e){return console.error("Failed to generate HMAC token:",e),""}}},t[0]=o,t[1]=null==n?void 0:n.serverHasPassword,t[2]=e):e=t[2],e}function P(){var e,t,n,r,o,i,l,u,d,b;let p,m=(0,a.c)(3),f=c(),g=(null==f||null==(t=f.settings)||null==(e=t.nakama)?void 0:e.isHost)?null==f||null==(r=f.settings)||null==(n=r.nakama)?void 0:n.hostPassword:null==f||null==(i=f.settings)||null==(o=i.nakama)?void 0:o.remoteServerPassword;return m[0]!==g||m[1]!==(null==f||null==(u=f.settings)||null==(l=u.nakama)?void 0:l.enabled)?(p={getHMACTokenQueryParam:async(e,t)=>{var n,a;if(!(null==f||null==(a=f.settings)||null==(n=a.nakama)?void 0:n.enabled)||!g)return"";try{let n=s(g);return await n.generateQueryParam(e,t)}catch(e){return console.error("Failed to generate Nakama HMAC token:",e),""}},generateHMACToken:async e=>{var t,n;if(!(null==f||null==(n=f.settings)||null==(t=n.nakama)?void 0:t.enabled)||!g)return"";try{let t=s(g);return await t.generateToken(e)}catch(e){return console.error("Failed to generate Nakama HMAC token:",e),""}}},m[0]=g,m[1]=null==f||null==(b=f.settings)||null==(d=b.nakama)?void 0:d.enabled,m[2]=p):p=m[2],p}n(12115)}},e=>{var t=t=>e(e.s=t);e.O(0,[3873,5271,3380,844,585,7825,1805,5290,4762,4791,1626,6905,9986,7528,1334,5697,1683,5334,9484,8441,6891,7358],()=>t(16524)),_N_E=e.O()}]);