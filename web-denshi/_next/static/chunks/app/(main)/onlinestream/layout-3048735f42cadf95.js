(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5180],{4873:(e,t,n)=>{"use strict";var a=n(12115).__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;t.c=function(e){return a.H.useMemoCache(e)}},6066:(e,t,n)=>{"use strict";var a=n(98790);n.o(a,"usePathname")&&n.d(t,{usePathname:function(){return a.usePathname}}),n.o(a,"useRouter")&&n.d(t,{useRouter:function(){return a.useRouter}}),n.o(a,"useSearchParams")&&n.d(t,{useSearchParams:function(){return a.useSearchParams}})},19749:(e,t,n)=>{"use strict";e.exports=n(4873)},24151:(e,t,n)=>{"use strict";n.d(t,{$e:()=>o,Cc:()=>f,XH:()=>i,aD:()=>p,bY:()=>s,dP:()=>d,iK:()=>m,lA:()=>b,nG:()=>c,r5:()=>r,xF:()=>l});var a=n(5290);let r="",o="qbittorrent",i=function(e){return e.QBITTORRENT="qbittorrent",e.TRANSMISSION="transmission",e.NONE="none",e}({}),l=function(e){return e.NONE="none",e}({}),s=function(e){return e.TORBOX="torbox",e.REALDEBRID="realdebrid",e}({}),u=a.z.object({enableTranscode:a.z.boolean().optional().default(!1),enableTorrentStreaming:a.z.boolean().optional().default(!1),debridProvider:a.z.string().optional().default("none"),debridApiKey:a.z.string().optional().default("")}),d=a.z.object({libraryPath:a.z.string().optional().default(""),defaultPlayer:a.z.string(),torrentProvider:a.z.string().default(r),autoScan:a.z.boolean().optional().default(!1),mediaPlayerHost:a.z.string(),vlcUsername:a.z.string().optional().default(""),vlcPassword:a.z.string().optional().default(""),vlcPort:a.z.number(),vlcPath:a.z.string().optional().default(""),mpcPort:a.z.number(),mpcPath:a.z.string().optional().default(""),mpvSocket:a.z.string().optional().default(""),mpvPath:a.z.string().optional().default(""),mpvArgs:a.z.string().optional().default(""),iinaSocket:a.z.string().optional().default(""),iinaPath:a.z.string().optional().default(""),iinaArgs:a.z.string().optional().default(""),defaultTorrentClient:a.z.string().optional().default(o),hideTorrentList:a.z.boolean().optional().default(!1),qbittorrentPath:a.z.string().optional().default(""),qbittorrentHost:a.z.string().optional().default(""),qbittorrentPort:a.z.number(),qbittorrentUsername:a.z.string().optional().default(""),qbittorrentPassword:a.z.string().optional().default(""),qbittorrentTags:a.z.string().optional().default(""),transmissionPath:a.z.string().optional().default(""),transmissionHost:a.z.string().optional().default(""),transmissionPort:a.z.number().optional().default(9091),transmissionUsername:a.z.string().optional().default(""),transmissionPassword:a.z.string().optional().default(""),hideAudienceScore:a.z.boolean().optional().default(!1),autoUpdateProgress:a.z.boolean().optional().default(!1),disableUpdateCheck:a.z.boolean().optional().default(!1),enableOnlinestream:a.z.boolean().optional().default(!1),includeOnlineStreamingInLibrary:a.z.boolean().optional().default(!1),disableAnimeCardTrailers:a.z.boolean().optional().default(!1),enableManga:a.z.boolean().optional().default(!0),mangaLocalSourceDirectory:a.z.string().optional().default(""),enableRichPresence:a.z.boolean().optional().default(!1),enableAnimeRichPresence:a.z.boolean().optional().default(!1),enableMangaRichPresence:a.z.boolean().optional().default(!1),enableAdultContent:a.z.boolean().optional().default(!1),blurAdultContent:a.z.boolean().optional().default(!1),dohProvider:a.z.string().optional().default(""),openTorrentClientOnStart:a.z.boolean().optional().default(!1),openWebURLOnStart:a.z.boolean().optional().default(!1),refreshLibraryOnStart:a.z.boolean().optional().default(!1),richPresenceHideSeanimeRepositoryButton:a.z.boolean().optional().default(!1),richPresenceShowAniListMediaButton:a.z.boolean().optional().default(!1),richPresenceShowAniListProfileButton:a.z.boolean().optional().default(!1),richPresenceUseMediaTitleStatus:a.z.boolean().optional().default(!0),disableNotifications:a.z.boolean().optional().default(!1),disableAutoDownloaderNotifications:a.z.boolean().optional().default(!1),disableAutoScannerNotifications:a.z.boolean().optional().default(!1),defaultMangaProvider:a.z.string().optional().default(""),mangaAutoUpdateProgress:a.z.boolean().optional().default(!1),autoPlayNextEpisode:a.z.boolean().optional().default(!1),showActiveTorrentCount:a.z.boolean().optional().default(!1),enableWatchContinuity:a.z.boolean().optional().default(!1),libraryPaths:a.z.array(a.z.string()).optional().default([]),autoSyncOfflineLocalData:a.z.boolean().optional().default(!1),scannerMatchingThreshold:a.z.number().optional().default(.5),scannerMatchingAlgorithm:a.z.string().optional().default(""),autoSyncToLocalAccount:a.z.boolean().optional().default(!1),nakamaIsHost:a.z.boolean().optional().default(!1),nakamaHostPassword:a.z.string().optional().default(""),nakamaRemoteServerURL:a.z.string().optional().default(""),nakamaRemoteServerPassword:a.z.string().optional().default(""),nakamaHostShareLocalAnimeLibrary:a.z.boolean().optional().default(!1),nakamaEnabled:a.z.boolean().optional().default(!1),nakamaHostEnablePortForwarding:a.z.boolean().optional().default(!1),nakamaUsername:a.z.string().optional().default(""),includeNakamaAnimeLibrary:a.z.boolean().optional().default(!1),nakamaHostUnsharedAnimeIds:a.z.array(a.z.number()).optional().default([]),autoSaveCurrentMediaOffline:a.z.boolean().optional().default(!1),disableCacheLayer:a.z.boolean().optional().default(!1),autoSelectTorrentProvider:a.z.string().optional().default("")}),c=u.extend(d.shape),b=e=>({library:{libraryPath:e.libraryPath,autoUpdateProgress:!0,disableUpdateCheck:!1,torrentProvider:e.torrentProvider||r,autoSelectTorrentProvider:"",autoScan:!1,disableAnimeCardTrailers:!1,enableManga:e.enableManga,enableOnlinestream:e.enableOnlinestream,dohProvider:"",openTorrentClientOnStart:!1,openWebURLOnStart:!1,refreshLibraryOnStart:!1,autoPlayNextEpisode:!1,enableWatchContinuity:e.enableWatchContinuity,libraryPaths:[],autoSyncOfflineLocalData:!1,includeOnlineStreamingInLibrary:!1,scannerMatchingThreshold:0,scannerMatchingAlgorithm:"",autoSyncToLocalAccount:!1,autoSaveCurrentMediaOffline:!1},nakama:{enabled:!1,isHost:!1,hostPassword:"",remoteServerURL:"",remoteServerPassword:"",hostShareLocalAnimeLibrary:!1,username:e.nakamaUsername,includeNakamaAnimeLibrary:!1,hostUnsharedAnimeIds:[],hostEnablePortForwarding:!1},manga:{defaultMangaProvider:"",mangaAutoUpdateProgress:!1,mangaLocalSourceDirectory:""},mediaPlayer:{host:e.mediaPlayerHost,defaultPlayer:e.defaultPlayer,vlcPort:e.vlcPort,vlcUsername:e.vlcUsername||"",vlcPassword:e.vlcPassword,vlcPath:e.vlcPath||"",mpcPort:e.mpcPort,mpcPath:e.mpcPath||"",mpvSocket:e.mpvSocket||"",mpvPath:e.mpvPath||"",mpvArgs:"",iinaSocket:e.iinaSocket||"",iinaPath:e.iinaPath||"",iinaArgs:""},discord:{enableRichPresence:e.enableRichPresence,enableAnimeRichPresence:!0,enableMangaRichPresence:!0,richPresenceHideSeanimeRepositoryButton:!1,richPresenceShowAniListMediaButton:!1,richPresenceShowAniListProfileButton:!1,richPresenceUseMediaTitleStatus:!0},torrent:{defaultTorrentClient:e.defaultTorrentClient,qbittorrentPath:e.qbittorrentPath,qbittorrentHost:e.qbittorrentHost,qbittorrentPort:e.qbittorrentPort,qbittorrentPassword:e.qbittorrentPassword,qbittorrentUsername:e.qbittorrentUsername,qbittorrentTags:"",transmissionPath:e.transmissionPath,transmissionHost:e.transmissionHost,transmissionPort:e.transmissionPort,transmissionUsername:e.transmissionUsername,transmissionPassword:e.transmissionPassword,showActiveTorrentCount:!1,hideTorrentList:!1},anilist:{hideAudienceScore:!1,enableAdultContent:e.enableAdultContent,blurAdultContent:!1,disableCacheLayer:!1},enableTorrentStreaming:e.enableTorrentStreaming,enableTranscode:e.enableTranscode,notifications:{disableNotifications:!1,disableAutoDownloaderNotifications:!1,disableAutoScannerNotifications:!1},debridProvider:e.debridProvider,debridApiKey:e.debridApiKey});function m(){return{getDefaultVlcPath:e=>{switch(e){case"windows":default:return"C:\\Program Files\\VideoLAN\\VLC\\vlc.exe";case"linux":return"/usr/bin/vlc";case"darwin":return"/Applications/VLC.app/Contents/MacOS/VLC"}},getDefaultQBittorrentPath:e=>{switch(e){case"windows":default:return"C:/Program Files/qBittorrent/qbittorrent.exe";case"linux":return"/usr/bin/qbittorrent";case"darwin":return"/Applications/qbittorrent.app/Contents/MacOS/qbittorrent"}},getDefaultTransmissionPath:e=>{switch(e){case"windows":default:return"C:/Program Files/Transmission/transmission-qt.exe";case"linux":return"/usr/bin/transmission-gtk";case"darwin":return"/Applications/Transmission.app/Contents/MacOS/Transmission"}}}}function f(e){return"windows"===e?"\\\\.\\pipe\\mpv_ipc":"/tmp/mpv_socket"}function p(e){return"/tmp/iina_socket"}},35349:(e,t,n)=>{"use strict";n.d(t,{H5:()=>i,Q:()=>l,uQ:()=>s});var a=n(42500),r=n(47555),o=n(21842);let i=(0,r.E)(void 0),l=(0,a.eU)(!1),s=(0,o.tG)("sea-server-auth-token",void 0,void 0,{getOnInit:!0})},49503:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s,dynamic:()=>u});var a=n(95155),r=n(19749),o=n(96826),i=n(6066),l=n(12115);function s(e){var t,n,s,u,d,c,b,m;let f,p,g,P=(0,r.c)(7),{children:h}=e,v=(0,i.useRouter)(),S=(0,o.v1)();P[0]!==v||P[1]!==(null==S||null==(n=S.settings)||null==(t=n.library)?void 0:t.enableOnlinestream)?(f=()=>{var e,t;(null==S||null==(t=S.settings)||null==(e=t.library)?void 0:e.enableOnlinestream)||v.replace("/")},P[0]=v,P[1]=null==S||null==(m=S.settings)||null==(b=m.library)?void 0:b.enableOnlinestream,P[2]=f):f=P[2];let z=null==S||null==(u=S.settings)||null==(s=u.library)?void 0:s.enableOnlinestream;return(P[3]!==z?(p=[z],P[3]=z,P[4]=p):p=P[4],l.useEffect(f,p),null==S||null==(c=S.settings)||null==(d=c.library)?void 0:d.enableOnlinestream)?(P[5]!==h?(g=(0,a.jsx)(a.Fragment,{children:h}),P[5]=h,P[6]=g):g=P[6],g):null}let u="force-static"},50477:()=>{},84686:(e,t,n)=>{Promise.resolve().then(n.bind(n,49503))},96826:(e,t,n)=>{"use strict";n.d(t,{iZ:()=>m,bV:()=>p,FA:()=>P,hK:()=>v,lJ:()=>f,E_:()=>g,OB:()=>z,S5:()=>h,OZ:()=>S,v1:()=>c,LX:()=>b});var a=n(19749),r=n(35349),o=n(84762);class i{async generateToken(e){let t=Math.floor(Date.now()/1e3),n=btoa(JSON.stringify({endpoint:e,iat:t,exp:t+this.ttl})).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,""),a=await this.generateHMACSignature(n);return"".concat(n,".").concat(a)}generateQueryParam(e,t){return this.generateToken(e).then(e=>"".concat(t||"?","token=").concat(encodeURIComponent(e)))}async generateHMACSignature(e){let t=o.HmacSHA256(e,this.secret);return o.enc.Base64.stringify(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}constructor(e,t){this.secret=e,this.ttl=t}}function l(e){return new i(e,86400)}function s(e){return new i(e,86400)}var u=n(24151),d=n(29724);function c(){return(0,d.md)(r.H5)}function b(){return(0,d.Xr)(r.H5)}function m(){let e=c();return null==e||e.user,null==e?void 0:e.user}function f(){var e,t,n,r,o,i;let l,s,d=(0,a.c)(2),b=c();return null==b||null==(t=b.settings)||null==(e=t.library)||e.torrentProvider,l=!!(null==b||null==(r=b.settings)||null==(n=r.library)?void 0:n.torrentProvider)&&(null==b||null==(i=b.settings)||null==(o=i.library)?void 0:o.torrentProvider)!==u.xF.NONE,d[0]!==l?(s={hasTorrentProvider:l},d[0]=l,d[1]=s):s=d[1],s}function p(){var e,t;let n,r,o=(0,a.c)(2),i=c();return null==i||i.debridSettings,n=!!(null==i||null==(e=i.debridSettings)?void 0:e.enabled)&&!!(null==i||null==(t=i.debridSettings)?void 0:t.provider),o[0]!==n?(r={hasDebridService:n},o[0]=n,o[1]=r):r=o[1],r}function g(){var e;let t,n,r=(0,a.c)(2),o=c();return null==o||o.torrentstreamSettings,t=!!(null==o||null==(e=o.torrentstreamSettings)?void 0:e.enabled),r[0]!==t?(n={hasTorrentStreaming:t},r[0]=t,r[1]=n):n=r[1],n}function P(){var e,t,n;let r,o,i=(0,a.c)(2),l=c();return null==l||null==(e=l.settings)||e.library,r=!!(null==l||null==(n=l.settings)||null==(t=n.library)?void 0:t.enableOnlinestream),i[0]!==r?(o={hasOnlineStreaming:r},i[0]=r,i[1]=o):o=i[1],o}function h(){var e;let t,n,r=(0,a.c)(2),o=c();return null==o||o.debridSettings,t=null==o||null==(e=o.debridSettings)?void 0:e.provider,r[0]!==t?(n={selectedDebridService:t},r[0]=t,r[1]=n):n=r[1],n}function v(){var e,t,n,r,o;let i,l,s=(0,a.c)(3),u=c(),{hasDebridService:d}=p(),{hasTorrentStreaming:b}=g(),{hasOnlineStreaming:m}=P(),f=m||b||d;return null==u||u.debridSettings,null==u||u.torrentstreamSettings,i=!!(null==u||null==(e=u.debridSettings)?void 0:e.enabled)&&!!(null==u||null==(t=u.debridSettings)?void 0:t.provider)&&!!(null==u||null==(n=u.debridSettings)?void 0:n.includeDebridStreamInLibrary)||!!(null==u||null==(r=u.torrentstreamSettings)?void 0:r.enabled)&&(null==u||null==(o=u.torrentstreamSettings)?void 0:o.includeInLibrary),s[0]!==f||s[1]!==i?(l={hasStreamingEnabled:f,hasTorrentOrDebridInclusion:i},s[0]=f,s[1]=i,s[2]=l):l=s[2],l}function S(){let e,t=(0,a.c)(3),n=c(),[o]=(0,d.fp)(r.uQ);return t[0]!==o||t[1]!==(null==n?void 0:n.serverHasPassword)?(e={getHMACTokenQueryParam:async(e,t)=>{if(!(null==n?void 0:n.serverHasPassword)||!o)return"";try{let n=l(o);return await n.generateQueryParam(e,t)}catch(e){return console.error("Failed to generate HMAC token:",e),""}},generateHMACToken:async e=>{if(!(null==n?void 0:n.serverHasPassword)||!o)return"";try{let t=l(o);return await t.generateToken(e)}catch(e){return console.error("Failed to generate HMAC token:",e),""}}},t[0]=o,t[1]=null==n?void 0:n.serverHasPassword,t[2]=e):e=t[2],e}function z(){var e,t,n,r,o,i,l,u,d,b;let m,f=(0,a.c)(3),p=c(),g=(null==p||null==(t=p.settings)||null==(e=t.nakama)?void 0:e.isHost)?null==p||null==(r=p.settings)||null==(n=r.nakama)?void 0:n.hostPassword:null==p||null==(i=p.settings)||null==(o=i.nakama)?void 0:o.remoteServerPassword;return f[0]!==g||f[1]!==(null==p||null==(u=p.settings)||null==(l=u.nakama)?void 0:l.enabled)?(m={getHMACTokenQueryParam:async(e,t)=>{var n,a;if(!(null==p||null==(a=p.settings)||null==(n=a.nakama)?void 0:n.enabled)||!g)return"";try{let n=s(g);return await n.generateQueryParam(e,t)}catch(e){return console.error("Failed to generate Nakama HMAC token:",e),""}},generateHMACToken:async e=>{var t,n;if(!(null==p||null==(n=p.settings)||null==(t=n.nakama)?void 0:t.enabled)||!g)return"";try{let t=s(g);return await t.generateToken(e)}catch(e){return console.error("Failed to generate Nakama HMAC token:",e),""}}},f[0]=g,f[1]=null==p||null==(b=p.settings)||null==(d=b.nakama)?void 0:d.enabled,f[2]=m):m=f[2],m}n(12115)}},e=>{var t=t=>e(e.s=t);e.O(0,[1805,5290,4762,8441,6891,7358],()=>t(84686)),_N_E=e.O()}]);