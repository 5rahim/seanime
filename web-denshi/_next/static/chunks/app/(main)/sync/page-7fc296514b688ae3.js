(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1555],{24463:(e,l,n)=>{Promise.resolve().then(n.bind(n,88805))},88805:(e,l,n)=>{"use strict";n.r(l),n.d(l,{default:()=>ee,dynamic:()=>X});var t=n(95155),i=n(19749),a=n(20051),s=n(38900),d=n(75006),r=n(36945),o=n(61585),c=n(14490),m=n(96826),u=n(75733),f=n(35656),h=n(14680),x=n(84127),v=n(63352),p=n(91360),g=n(76049),j=n(29724),y=n(12115),N=n(19022),I=n(41452);function b(e){let l,n,s,d,r,o,c,m=(0,i.c)(15),{savedMediaIds:u}=e;m[0]===Symbol.for("react.memo_cache_sentinel")?(l=[],m[0]=l):l=m[0];let[f,h]=y.useState(l),{mutate:v,isPending:p}=(0,a.mi)();m[1]!==v||m[2]!==f?(n=function(){v({media:f},{onSuccess:()=>{h([])}})},m[1]=v,m[2]=f,m[3]=n):n=m[3];let j=n;return m[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,t.jsx)(I.Qpb,{className:"text-2xl"}),m[4]=s):s=m[4],m[5]!==p?(d=(0,t.jsx)(x.$n,{intent:"gray-subtle",rounded:!0,leftIcon:s,loading:p,children:"Select media to save"}),m[5]=p,m[6]=d):d=m[6],m[7]===Symbol.for("react.memo_cache_sentinel")?(r=(0,t.jsx)("p",{className:"text-[--muted]",children:"Select the media you want to save locally. Click on already saved media to remove it from local storage."}),m[7]=r):r=m[7],m[8]!==j||m[9]!==u||m[10]!==f?(o=(0,t.jsx)(S,{selectedMedia:f,setSelectedMedia:h,savedMediaIds:u,onSave:j}),m[8]=j,m[9]=u,m[10]=f,m[11]=o):o=m[11],m[12]!==d||m[13]!==o?(c=(0,t.jsxs)(g.a,{title:"Saved media",contentClass:"max-w-4xl",trigger:d,children:[r,o]}),m[12]=d,m[13]=o,m[14]=c):c=m[14],c}function S(e){let l,n,r,o,c,m,u,f,h,v,p=(0,i.c)(35),{savedMediaIds:g,selectedMedia:y,setSelectedMedia:N,onSave:b}=e,S=(0,j.md)(d._$),{data:w}=(0,s.QJ)(),{mutate:M,isPending:k}=(0,a.$N)();p[0]!==N?(l=function(e){N(l=>l.find(l=>l.mediaId===e)?l.filter(l=>l.mediaId!==e):[...l,{mediaId:e,type:"anime"}])},p[0]=N,p[1]=l):l=p[1];let T=l;p[2]!==N?(n=function(e){N(l=>l.find(l=>l.mediaId===e)?l.filter(l=>l.mediaId!==e):[...l,{mediaId:e,type:"manga"}])},p[2]=N,p[3]=n):n=p[3];let R=n;p[4]!==g||p[5]!==N?(r=function(e,l,n){let t=l.filter(e=>!g.includes(e.mediaId)).map(_);N(e=>{if(!n)return e.filter(e=>!t.includes(e.mediaId)||"anime"!==e.type);{let l=t.filter(l=>!e.find(e=>e.mediaId===l)).map(C);return[...e,...l]}})},p[4]=g,p[5]=N,p[6]=r):r=p[6];let A=r;p[7]!==g||p[8]!==N?(o=function(e,l,n){let t=l.filter(e=>!g.includes(e.mediaId)).map(E);N(e=>{if(!n)return e.filter(e=>!t.includes(e.mediaId)||"manga"!==e.type);{let l=t.filter(l=>!e.find(e=>e.mediaId===l)).map(P);return[...e,...l]}})},p[7]=g,p[8]=N,p[9]=o):o=p[9];let U=o;p[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,t.jsx)("div",{className:"flex flex-1"}),p[10]=c):c=p[10];let O=0===y.length;return p[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,t.jsx)(I.Qpb,{className:"text-2xl"}),p[11]=m):m=p[11],p[12]!==b||p[13]!==O?(u=(0,t.jsxs)("div",{className:"flex items-center",children:[c,(0,t.jsx)(x.$n,{intent:"white",onClick:b,disabled:O,rounded:!0,leftIcon:m,children:"Save locally"})]}),p[12]=b,p[13]=O,p[14]=u):u=p[14],p[15]!==S||p[16]!==A||p[17]!==T||p[18]!==k||p[19]!==M||p[20]!==g||p[21]!==y?(f=S&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-center",children:"Anime"}),(0,t.jsx)(D,{collection:S,selectedMedia:y,savedMediaIds:g,onBatchSelect:A,entry:e=>(0,t.jsx)(F,{entry:e,onClick:()=>T(e.mediaId),isSelected:!!y.find(l=>l.mediaId===e.mediaId),isSaved:g.includes(e.mediaId),onUntrack:()=>{M({mediaId:e.mediaId,type:"anime"})},isPending:k})})]}),p[15]=S,p[16]=A,p[17]=T,p[18]=k,p[19]=M,p[20]=g,p[21]=y,p[22]=f):f=p[22],p[23]!==U||p[24]!==R||p[25]!==k||p[26]!==w||p[27]!==M||p[28]!==g||p[29]!==y?(h=w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-center",children:"Manga"}),(0,t.jsx)(D,{collection:w,selectedMedia:y,savedMediaIds:g,onBatchSelect:U,entry:e=>(0,t.jsx)(F,{entry:e,onClick:()=>R(e.mediaId),isSelected:!!y.find(l=>l.mediaId===e.mediaId),isSaved:g.includes(e.mediaId),onUntrack:()=>{M({mediaId:e.mediaId,type:"manga"})},isPending:k})})]}),p[23]=U,p[24]=R,p[25]=k,p[26]=w,p[27]=M,p[28]=g,p[29]=y,p[30]=h):h=p[30],p[31]!==u||p[32]!==f||p[33]!==h?(v=(0,t.jsxs)("div",{className:"space-y-4",children:[u,f,h]}),p[31]=u,p[32]=f,p[33]=h,p[34]=v):v=p[34],v}function P(e){return{mediaId:e,type:"manga"}}function E(e){return e.mediaId}function C(e){return{mediaId:e,type:"anime"}}function _(e){return e.mediaId}function D(e){var l,n,a,s,d,r,o,c,m,u,f,h,x,v,p,g,j,y,N,I,b,S,P,E,C;let _,D,F,z,G,Q,V,Y,J,H,K,Z,q,W=(0,i.c)(52),{collection:X,entry:ee,selectedMedia:el,savedMediaIds:en,onBatchSelect:et}=e;return W[0]!==X.lists?(D=null!=(d=null==(s=X.lists)||null==(a=s.find(B))||null==(n=a.entries)||null==(l=n.filter(Boolean))?void 0:l.toSorted(L))?d:[],W[0]=X.lists,W[1]=D):D=W[1],W[2]!==X.lists?(F=null!=(u=null==(m=X.lists)||null==(c=m.find(O))||null==(o=c.entries)||null==(r=o.filter(Boolean))?void 0:r.toSorted(U))?u:[],W[2]=X.lists,W[3]=F):F=W[3],W[4]!==X.lists?(z=null!=(p=null==(v=X.lists)||null==(x=v.find(A))||null==(h=x.entries)||null==(f=h.filter(Boolean))?void 0:f.toSorted(R))?p:[],W[4]=X.lists,W[5]=z):z=W[5],W[6]!==X.lists?(G=null!=(I=null==(N=X.lists)||null==(y=N.find(T))||null==(j=y.entries)||null==(g=j.filter(Boolean))?void 0:g.toSorted(k))?I:[],W[6]=X.lists,W[7]=G):G=W[7],W[8]!==X.lists?(Q=null!=(C=null==(E=X.lists)||null==(P=E.find(M))||null==(S=P.entries)||null==(b=S.filter(Boolean))?void 0:b.toSorted(w))?C:[],W[8]=X.lists,W[9]=Q):Q=W[9],W[10]!==D||W[11]!==F||W[12]!==z||W[13]!==G||W[14]!==Q?(V={CURRENT:D,PLANNING:F,COMPLETED:z,PAUSED:G,DROPPED:Q},W[10]=D,W[11]=F,W[12]=z,W[13]=G,W[14]=Q,W[15]=V):V=W[15],_=V,W[16]!==ee||W[17]!==_.CURRENT||W[18]!==et||W[19]!==en||W[20]!==el?(Y=!!_.CURRENT.length&&(0,t.jsx)($,{listType:"CURRENT",title:"Current",entries:_.CURRENT,selectedMedia:el,savedMediaIds:en,onBatchSelect:et,entry:ee}),W[16]=ee,W[17]=_.CURRENT,W[18]=et,W[19]=en,W[20]=el,W[21]=Y):Y=W[21],W[22]!==ee||W[23]!==_.PAUSED||W[24]!==et||W[25]!==en||W[26]!==el?(J=!!_.PAUSED.length&&(0,t.jsx)($,{listType:"PAUSED",title:"Paused",entries:_.PAUSED,selectedMedia:el,savedMediaIds:en,onBatchSelect:et,entry:ee}),W[22]=ee,W[23]=_.PAUSED,W[24]=et,W[25]=en,W[26]=el,W[27]=J):J=W[27],W[28]!==ee||W[29]!==_.PLANNING||W[30]!==et||W[31]!==en||W[32]!==el?(H=!!_.PLANNING.length&&(0,t.jsx)($,{listType:"PLANNING",title:"Planning",entries:_.PLANNING,selectedMedia:el,savedMediaIds:en,onBatchSelect:et,entry:ee}),W[28]=ee,W[29]=_.PLANNING,W[30]=et,W[31]=en,W[32]=el,W[33]=H):H=W[33],W[34]!==ee||W[35]!==_.COMPLETED||W[36]!==et||W[37]!==en||W[38]!==el?(K=!!_.COMPLETED.length&&(0,t.jsx)($,{listType:"COMPLETED",title:"Completed",entries:_.COMPLETED,selectedMedia:el,savedMediaIds:en,onBatchSelect:et,entry:ee}),W[34]=ee,W[35]=_.COMPLETED,W[36]=et,W[37]=en,W[38]=el,W[39]=K):K=W[39],W[40]!==ee||W[41]!==_.DROPPED||W[42]!==et||W[43]!==en||W[44]!==el?(Z=!!_.DROPPED.length&&(0,t.jsx)($,{listType:"DROPPED",title:"Dropped",entries:_.DROPPED,selectedMedia:el,savedMediaIds:en,onBatchSelect:et,entry:ee}),W[40]=ee,W[41]=_.DROPPED,W[42]=et,W[43]=en,W[44]=el,W[45]=Z):Z=W[45],W[46]!==K||W[47]!==Z||W[48]!==Y||W[49]!==J||W[50]!==H?(q=(0,t.jsxs)(t.Fragment,{children:[Y,J,H,K,Z]}),W[46]=K,W[47]=Z,W[48]=Y,W[49]=J,W[50]=H,W[51]=q):q=W[51],q}function w(e,l){return e.media.title.userPreferred.localeCompare(l.media.title.userPreferred)}function M(e){return"DROPPED"===e.type}function k(e,l){return e.media.title.userPreferred.localeCompare(l.media.title.userPreferred)}function T(e){return"PAUSED"===e.type}function R(e,l){return e.media.title.userPreferred.localeCompare(l.media.title.userPreferred)}function A(e){return"COMPLETED"===e.type}function U(e,l){return e.media.title.userPreferred.localeCompare(l.media.title.userPreferred)}function O(e){return"PLANNING"===e.type}function L(e,l){return e.media.title.userPreferred.localeCompare(l.media.title.userPreferred)}function B(e){return"CURRENT"===e.type}function $(e){let l,n,a,s,d,r,o,c,m=(0,i.c)(33),{listType:u,title:f,entries:h,selectedMedia:x,savedMediaIds:p,onBatchSelect:g,entry:j}=e;e:{let e,n,t;if(m[0]!==h||m[1]!==p||m[2]!==x){if(0===(e=h.filter(e=>!p.includes(e.mediaId))).length){let e;m[6]===Symbol.for("react.memo_cache_sentinel")?(e={value:!1},m[6]=e):e=m[6],l=e;break e}n=e.filter(e=>x.some(l=>l.mediaId===e.mediaId)),m[0]=h,m[1]=p,m[2]=x,m[3]=e,m[4]=n,m[5]=l}else e=m[3],n=m[4],l=m[5];let i=n.length;if(0===i){let e;m[7]===Symbol.for("react.memo_cache_sentinel")?(e={value:!1},m[7]=e):e=m[7],l=e;break e}if(i===e.length){let e;m[8]===Symbol.for("react.memo_cache_sentinel")?(e={value:!0},m[8]=e):e=m[8],l=e;break e}m[9]===Symbol.for("react.memo_cache_sentinel")?(t={value:"indeterminate"},m[9]=t):t=m[9],l=t}let N=l,I=h.filter(e=>!p.includes(e.mediaId)).length;m[10]!==h||m[11]!==u||m[12]!==g?(n=e=>{g(u,h,!0===e)},m[10]=h,m[11]=u,m[12]=g,m[13]=n):n=m[13];let b=n;m[14]!==f?(a=(0,t.jsx)("h4",{className:"flex-1",children:f}),m[14]=f,m[15]=a):a=m[15];let S=0===I;if(m[16]!==N.value||m[17]!==b||m[18]!==S?(s=(0,t.jsx)(v.Sc,{value:N.value,onValueChange:b,disabled:S,fieldClass:"w-fit items-center justify-end"}),m[16]=N.value,m[17]=b,m[18]=S,m[19]=s):s=m[19],m[20]!==a||m[21]!==s?(d=(0,t.jsxs)("div",{className:"flex items-center gap-2 border-b pb-1 mb-1",children:[a,s]}),m[20]=a,m[21]=s,m[22]=d):d=m[22],m[23]!==h||m[24]!==j){let e;m[26]!==j?(e=e=>(0,t.jsx)(y.Fragment,{children:j(e)},e.mediaId),m[26]=j,m[27]=e):e=m[27],r=h.map(e),m[23]=h,m[24]=j,m[25]=r}else r=m[25];return m[28]!==r?(o=(0,t.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-2",children:r}),m[28]=r,m[29]=o):o=m[29],m[30]!==d||m[31]!==o?(c=(0,t.jsxs)(t.Fragment,{children:[d,o]}),m[30]=d,m[31]=o,m[32]=c):c=m[32],c}function F(e){var l,n,a,s,d,r,o;let c,m,x,v,g,j,y,I,b,S,P,E,C,_,D,w,M=(0,i.c)(45),{entry:k,onClick:T,isSelected:R,isSaved:A,onUntrack:U,isPending:O}=e;M[0]!==U?(c={title:"Remove offline data",description:"This action will remove the offline data for this media entry. Are you sure you want to proceed?",onConfirm:()=>{U()}},M[0]=U,M[1]=c):c=M[1];let L=(0,u.J)(c),B=k.mediaId,$=A&&"",F=O&&"pointer-events-none";M[2]!==$||M[3]!==F?(m=(0,p.cn)("col-span-1 aspect-[6/7] rounded-[--radius-md] overflow-hidden relative bg-[var(--background)] cursor-pointer transition-opacity select-none",$,F),M[2]=$,M[3]=F,M[4]=m):m=M[4],M[5]!==L||M[6]!==O||M[7]!==A||M[8]!==T?(x=()=>{O||(A?L.open():T())},M[5]=L,M[6]=O,M[7]=A,M[8]=T,M[9]=x):x=M[9],M[10]!==A?(v=A&&(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-[10]",children:(0,t.jsx)(N.cxC,{className:"text-3xl"})}),M[10]=A,M[11]=v):v=M[11],M[12]!==A||M[13]!==R?(g=R&&!A&&(0,t.jsx)("div",{className:"absolute top-2 left-2 w-full h-full flex z-[10]",children:(0,t.jsx)(N.eFy,{className:"text-xl bg-black/50 rounded-full p-1"})}),M[12]=A,M[13]=R,M[14]=g):g=M[14];let z=(null==(n=k.media)||null==(l=n.coverImage)?void 0:l.large)||(null==(a=k.media)?void 0:a.bannerImage)||"";M[15]===Symbol.for("react.memo_cache_sentinel")?(j=(0,f.r)(700,475),M[15]=j):j=M[15];let G=R?"opacity-100":"opacity-60";M[16]!==G?(y=(0,p.cn)("object-center object-cover rounded-[--radius-md] transition-opacity",G),M[16]=G,M[17]=y):y=M[17],M[18]!==y||M[19]!==z?(I=(0,t.jsx)(h.r,{src:z,placeholder:j,sizes:"10rem",fill:!0,alt:"",className:y}),M[18]=y,M[19]=z,M[20]=I):I=M[20];let Q=A&&"text-[--green]";M[21]!==Q?(b=(0,p.cn)("line-clamp-2 text-sm absolute m-2 bottom-0 font-semibold z-[10]",Q),M[21]=Q,M[22]=b):b=M[22];let V=(null==(d=k.media)||null==(s=d.title)?void 0:s.userPreferred)||(null==(o=k.media)||null==(r=o.title)?void 0:r.romaji);M[23]!==b||M[24]!==V?(S=(0,t.jsx)("p",{className:b,children:V}),M[23]=b,M[24]=V,M[25]=S):S=M[25],M[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,t.jsx)("div",{className:"z-[5] absolute -bottom-1 w-full h-[80%] bg-gradient-to-t from-[--background] to-transparent"}),M[26]=P):P=M[26];let Y=R?"opacity-0":"opacity-100 hover:opacity-80";return M[27]!==Y?(E=(0,p.cn)("z-[5] absolute top-0 w-full h-[80%] bg-gradient-to-b from-[--background] to-transparent transition-opacity",Y),M[27]=Y,M[28]=E):E=M[28],M[29]!==E?(C=(0,t.jsx)("div",{className:E}),M[29]=E,M[30]=C):C=M[30],M[31]!==k.mediaId||M[32]!==I||M[33]!==S||M[34]!==C||M[35]!==m||M[36]!==x||M[37]!==v||M[38]!==g?(_=(0,t.jsxs)("div",{className:m,onClick:x,children:[v,g,I,S,P,C]},B),M[31]=k.mediaId,M[32]=I,M[33]=S,M[34]=C,M[35]=m,M[36]=x,M[37]=v,M[38]=g,M[39]=_):_=M[39],M[40]!==L?(D=(0,t.jsx)(u.K,{...L}),M[40]=L,M[41]=D):D=M[41],M[42]!==_||M[43]!==D?(w=(0,t.jsxs)(t.Fragment,{children:[_,D]}),M[42]=_,M[43]=D,M[44]=w):w=M[44],w}var z=n(78106),G=n(45754),Q=n(50558),V=n(63717),Y=n(2091),J=n(57073),H=n(99288),K=n(23862),Z=n(43994),q=n(64685),W=n(69554);let X="force-static";function ee(){var e,l,n,i;let u=(0,m.v1)(),[f,h]=y.useState(!1),{data:v,isLoading:N}=(0,a.hs)(),{mutate:I,isPending:S}=(0,a.S2)(),{mutate:P,isPending:E}=(0,a.Q4)(),{data:C}=(0,a.RH)(),{mutate:_,isPending:D}=(0,a.pn)(),{data:w}=(0,a.ys)(),{mutate:M,isPending:k}=(0,a.Uf)(),T=y.useMemo(()=>{var e;return null!=(e=null==v?void 0:v.filter(e=>{var l;return"anime"===e.type&&!!(null==(l=e.animeEntry)?void 0:l.media)}))?e:[]},[v]),R=y.useMemo(()=>{var e;return null!=(e=null==v?void 0:v.filter(e=>{var l;return"manga"===e.type&&!!(null==(l=e.mangaEntry)?void 0:l.media)}))?e:[]},[v]),A=(0,j.md)(d._$),{data:U}=(0,s.QJ)(),O=y.useMemo(()=>{var e,l;let n=new Set(T.map(e=>e.mediaId)),t=null==A||null==(e=A.lists)?void 0:e.find(e=>"CURRENT"===e.type),i=[];for(let e of null!=(l=null==t?void 0:t.entries)?l:[])n.has(e.mediaId)||i.push(e.media);return i},[null==A?void 0:A.lists,T]),L=y.useMemo(()=>{var e,l;let n=new Set(R.map(e=>e.mediaId)),t=null==U||null==(e=U.lists)?void 0:e.find(e=>"CURRENT"===e.type),i=[];for(let e of null!=(l=null==t?void 0:t.entries)?l:[])n.has(e.mediaId)||i.push(e.media);return i},[null==U?void 0:U.lists,R]),[B,$]=y.useState(null);function F(){I(void 0,{onSuccess:()=>{h(!1)}})}function V(){P(void 0,{onSuccess:()=>{h(!1)}})}return((0,c.oA)({type:K.c.SYNC_LOCAL_QUEUE_STATE,onMessage:e=>{$(e)}}),N)?(0,t.jsx)(Y.kt,{}):(null==u||null==(e=u.user)?void 0:e.isSimulated)?(0,t.jsx)(z.D,{title:"Not authenticated",children:"This feature is only available for authenticated users."}):(0,t.jsxs)(G.f,{className:"p-4 sm:p-8 pt-4 relative space-y-8",children:[(0,t.jsx)(x.$n,{intent:"gray-subtle",rounded:!0,className:"",leftIcon:(null==u?void 0:u.isOffline)?(0,t.jsx)(Z.llr,{className:"text-2xl"}):(0,t.jsx)(Z.I7f,{className:"text-2xl"}),loading:k,onClick:()=>{M({enabled:!(null==u?void 0:u.isOffline)})},children:(null==u?void 0:u.isOffline)?"Disable offline mode":"Enable offline mode"}),(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"",children:"Offline media"}),(0,t.jsx)("p",{className:"text-[--muted]",children:"View the media you've saved locally for offline use."})]}),(0,t.jsx)("div",{className:"flex flex-1"}),(0,t.jsxs)("div",{className:"contents",children:[(0,t.jsx)(g.a,{title:"Sync",open:f,onOpenChange:e=>{if(!S)return h(e)},trigger:(0,t.jsx)(x.$n,{intent:"white",rounded:!0,leftIcon:(0,t.jsx)(Z.Z05,{className:"text-2xl"}),loading:S,children:"Sync now"}),children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(x.$n,{intent:"white",rounded:!0,className:"w-full",leftIcon:(0,t.jsx)(Z.vsM,{className:"text-2xl"}),loading:S,disabled:E,onClick:F,children:"Update local data"}),(0,t.jsxs)("p",{className:"text-sm",children:["Update your local snapshots with the data from AniList. This will overwrite your offline changes. You can automate this in ",(0,t.jsxs)("kbd",{children:["Settings ",">"," App ",">"," Offline mode"]}),"."]}),(0,t.jsx)(J.w,{}),(0,t.jsx)(x.$n,{intent:"primary-subtle",rounded:!0,className:"w-full",leftIcon:(0,t.jsx)(Z.g4b,{className:"text-2xl"}),disabled:S,loading:E,onClick:V,children:"Upload local changes to AniList"}),(0,t.jsx)("p",{className:"text-sm",children:"Update your AniList lists with the data from your local snapshots. This should be done after you've made changes offline."}),(0,t.jsx)(Q.F,{intent:"warning",description:"Changes are irreversible."})]})}),(0,t.jsx)(b,{savedMediaIds:null!=(i=null==v?void 0:v.map(e=>e.mediaId))?i:[]})]})]}),(!!(null==O?void 0:O.length)||!!(null==L?void 0:L.length))&&(0,t.jsx)(Q.F,{intent:"info-basic",className:"border-transparent",description:(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("p",{children:(0,t.jsxs)("span",{children:["You have not saved ",(null==O?void 0:O.length)?"".concat(null==O?void 0:O.length," anime"):"",(null==O?void 0:O.length)&&(null==L?void 0:L.length)?" and ":"",(null==L?void 0:L.length)?"".concat(null==L?void 0:L.length," manga"):""," that you're currently ",(null==O?void 0:O.length)?"watching":"",O.length&&L.length?" and ":"",(null==L?void 0:L.length)?"reading":"","."]})})})}),(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("span",{children:"Local storage size: "}),(0,t.jsx)("span",{children:w})]}),C&&(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(Q.F,{intent:"warning",description:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("span",{children:"You have local changes that have not been synced to AniList."}),(null==u||null==(n=u.settings)||null==(l=n.library)?void 0:l.autoSyncOfflineLocalData)&&(0,t.jsx)("span",{children:" Automatic refreshing of offline data will be paused."})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 flex-wrap",children:[(0,t.jsx)(x.$n,{intent:"white",leftIcon:(0,t.jsx)(Z.g4b,{className:"text-2xl"}),onClick:()=>{V(),_({updated:!1})},loading:E,disabled:D,children:"Upload local changes"}),(0,t.jsx)(x.$n,{intent:"alert",leftIcon:(0,t.jsx)(q.kAE,{className:"text-2xl"}),onClick:function(){_({updated:!1},{onSuccess:()=>{W.oR.success("Local changes ignored."),F()}})},loading:D,disabled:E,children:"Delete local changes"})]})]})})}),!(null==T?void 0:T.length)&&!(null==R?void 0:R.length)&&(0,t.jsx)(z.D,{title:"No tracked media"}),!!(null==T?void 0:T.length)&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{children:"Saved anime"}),(0,t.jsx)(r.xt,{itemCount:null==T?void 0:T.length,children:null==T?void 0:T.map(e=>{var l,n;return(0,t.jsx)(o.V,{type:"anime",media:e.animeEntry.media,listData:(0,H._1)(e.animeEntry),overlay:!!(null==B||null==(l=B.animeTasks)?void 0:l[e.mediaId])&&(0,t.jsx)(el,{}),containerClassName:(0,p.cn)(!!(null==B||null==(n=B.animeTasks)?void 0:n[e.mediaId])&&"animate-pulse")},e.mediaId)})})]}),!!(null==R?void 0:R.length)&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h3",{children:"Saved manga"}),(0,t.jsx)(r.xt,{itemCount:null==R?void 0:R.length,children:null==R?void 0:R.map(e=>{var l,n;return(0,t.jsx)(o.V,{type:"manga",media:e.mangaEntry.media,listData:(0,H._1)(e.mangaEntry),overlay:!!(null==B||null==(l=B.mangaTasks)?void 0:l[e.mediaId])&&(0,t.jsx)(el,{}),containerClassName:(0,p.cn)(!!(null==B||null==(n=B.mangaTasks)?void 0:n[e.mediaId])&&"animate-pulse")},e.mediaId)})})]})]})}function el(){let e,l=(0,i.c)(1);return l[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,t.jsxs)(V.E,{intent:"gray-solid",className:"rounded-tl-md rounded-bl-none rounded-tr-none rounded-br-md bg-gray-950 border gap-0",children:[(0,t.jsx)(Y.y$,{className:"size-4 px-0"}),(0,t.jsx)("span",{children:"Syncing"})]}),l[0]=e):e=l[0],e}}},e=>{var l=l=>e(e.s=l);e.O(0,[7518,3873,5271,3380,844,9204,6446,2150,6711,585,5479,4506,5897,8087,5760,3603,7753,7949,2362,4613,512,9910,8429,8481,2202,7825,1805,5290,4762,4218,4791,7228,6905,9986,1597,7528,5045,4809,9690,9325,9360,8154,1298,5340,4101,1029,1078,1683,5334,6862,4033,9484,9832,5565,2975,7363,8441,6891,7358],()=>l(24463)),_N_E=e.O()}]);