"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2975],{1949:(e,t,n)=>{n.d(t,{$m:()=>p,As:()=>m,nD:()=>u,ub:()=>f});var l=n(95155),r=n(19749),o=n(10083),i=n(21335),s=n(12115),a=n(91360);let c=(0,a.u)({root:(0,i.F)(["UI-Accordion__root"]),header:(0,i.F)(["UI-Accordion__header","flex text-lg"]),trigger:(0,i.F)(["UI-Accordion__trigger","flex flex-1 items-center justify-between px-4 py-2 font-medium transition-all hover:bg-[--subtle] [&[data-state=open]>svg]:rotate-180"]),triggerIcon:(0,i.F)(["UI-Accordion__triggerIcon","h-4 w-4 shrink-0 transition-transform duration-200"]),item:(0,i.F)(["UI-Accordion__item",""]),contentContainer:(0,i.F)(["UI-Accordion__contentContainer","overflow-hidden transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down"]),content:(0,i.F)(["UI-Accordion__content","p-4"])}),d=s.createContext({}),u=s.forwardRef((e,t)=>{let n,i,s,u,m,p,f,y,h,x,b,v,g=(0,r.c)(25);return g[0]!==e?({className:n,headerClass:u,triggerClass:f,triggerIconClass:y,contentContainerClass:s,contentClass:i,itemClass:m,...p}=e,g[0]=e,g[1]=n,g[2]=i,g[3]=s,g[4]=u,g[5]=m,g[6]=p,g[7]=f,g[8]=y):(n=g[1],i=g[2],s=g[3],u=g[4],m=g[5],p=g[6],f=g[7],y=g[8]),g[9]!==i||g[10]!==s||g[11]!==u||g[12]!==m||g[13]!==f||g[14]!==y?(h={itemClass:m,headerClass:u,triggerClass:f,triggerIconClass:y,contentContainerClass:s,contentClass:i},g[9]=i,g[10]=s,g[11]=u,g[12]=m,g[13]=f,g[14]=y,g[15]=h):h=g[15],g[16]!==n?(x=(0,a.cn)(c.root(),n),g[16]=n,g[17]=x):x=g[17],g[18]!==t||g[19]!==p||g[20]!==x?(b=(0,l.jsx)(o.bL,{ref:t,className:x,...p}),g[18]=t,g[19]=p,g[20]=x,g[21]=b):b=g[21],g[22]!==h||g[23]!==b?(v=(0,l.jsx)(d.Provider,{value:h,children:b}),g[22]=h,g[23]=b,g[24]=v):v=g[24],v});u.displayName="Accordion";let m=s.forwardRef((e,t)=>{let n,i,u,m,p=(0,r.c)(10);p[0]!==e?({className:n,...i}=e,p[0]=e,p[1]=n,p[2]=i):(n=p[1],i=p[2]);let{itemClass:f}=s.useContext(d);return p[3]!==n||p[4]!==f?(u=(0,a.cn)(c.item(),f,n),p[3]=n,p[4]=f,p[5]=u):u=p[5],p[6]!==t||p[7]!==i||p[8]!==u?(m=(0,l.jsx)(o.q7,{ref:t,className:u,...i}),p[6]=t,p[7]=i,p[8]=u,p[9]=m):m=p[9],m});m.displayName="AccordionItem";let p=s.forwardRef((e,t)=>{let n,i,u,m,p,f,y,h,x,b,v,g,N=(0,r.c)(27);N[0]!==e?({className:i,headerClass:u,triggerIconClass:p,children:n,...m}=e,N[0]=e,N[1]=n,N[2]=i,N[3]=u,N[4]=m,N[5]=p):(n=N[1],i=N[2],u=N[3],m=N[4],p=N[5]);let{headerClass:T,triggerClass:A,triggerIconClass:_}=s.useContext(d);return N[6]!==T||N[7]!==u?(f=(0,a.cn)(c.header(),T,u),N[6]=T,N[7]=u,N[8]=f):f=N[8],N[9]!==A||N[10]!==i?(y=(0,a.cn)(c.trigger(),A,i),N[9]=A,N[10]=i,N[11]=y):y=N[11],N[12]!==_||N[13]!==p?(h=(0,a.cn)(c.triggerIcon(),_,p),N[12]=_,N[13]=p,N[14]=h):h=N[14],N[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"}),N[15]=x):x=N[15],N[16]!==h?(b=(0,l.jsx)("svg",{className:h,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x}),N[16]=h,N[17]=b):b=N[17],N[18]!==n||N[19]!==t||N[20]!==m||N[21]!==y||N[22]!==b?(v=(0,l.jsxs)(o.l9,{ref:t,className:y,...m,children:[n,b]}),N[18]=n,N[19]=t,N[20]=m,N[21]=y,N[22]=b,N[23]=v):v=N[23],N[24]!==f||N[25]!==v?(g=(0,l.jsx)(o.Y9,{className:f,children:v}),N[24]=f,N[25]=v,N[26]=g):g=N[26],g});p.displayName="AccordionTrigger";let f=s.forwardRef((e,t)=>{let n,i,u,m,p,f,y,h,x=(0,r.c)(19);x[0]!==e?({className:i,contentContainerClass:u,children:n,...m}=e,x[0]=e,x[1]=n,x[2]=i,x[3]=u,x[4]=m):(n=x[1],i=x[2],u=x[3],m=x[4]);let{contentContainerClass:b,contentClass:v}=s.useContext(d);return x[5]!==b||x[6]!==u?(p=(0,a.cn)(c.contentContainer(),b,u),x[5]=b,x[6]=u,x[7]=p):p=x[7],x[8]!==v||x[9]!==i?(f=(0,a.cn)(c.content(),v,i),x[8]=v,x[9]=i,x[10]=f):f=x[10],x[11]!==n||x[12]!==f?(y=(0,l.jsx)("div",{className:f,children:n}),x[11]=n,x[12]=f,x[13]=y):y=x[13],x[14]!==t||x[15]!==m||x[16]!==p||x[17]!==y?(h=(0,l.jsx)(o.UC,{ref:t,className:p,...m,children:y}),x[14]=t,x[15]=m,x[16]=p,x[17]=y,x[18]=h):h=x[18],h});f.displayName="AccordionContent"},6134:(e,t,n)=>{n.d(t,{U:()=>m});var l=n(95155),r=n(69665),o=n(84127),i=n(91360),s=n(76049),a=n(73832),c=n(12115),d=n(70376),u=n(19022);function m(e){var t,n;let{rule:m,userMedia:p,...f}=e,y=(0,a.C)(!1),h=c.useMemo(()=>null==p?void 0:p.find(e=>e.id===m.mediaId),[(null==p?void 0:p.length)||0,m]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"rounded-[--radius] bg-gray-900 hover:bg-gray-800/50 transition-colors",children:(0,l.jsxs)("div",{className:"flex justify-between p-3 gap-2 items-center cursor-pointer",onClick:()=>y.on(),children:[(0,l.jsxs)("div",{className:"space-y-1 w-full",children:[(0,l.jsxs)("p",{className:(0,i.cn)("font-medium text-base tracking-wide line-clamp-1"),children:[(0,l.jsx)("span",{className:"text-gray-400 italic font-normal pr-1",children:"Rule for"}),' "',m.comparisonTitle,'"']}),(0,l.jsxs)("p",{className:"text-sm text-gray-400 line-clamp-1 flex space-x-2 items-center divide-x divide-[--border] [&>span]:pl-2",children:[(0,l.jsx)(u.DlO,{className:(0,i.cn)("text-xl",m.enabled?"text-green-500":"text-gray-500",!h&&"text-red-300")}),!!(null==(t=m.releaseGroups)?void 0:t.length)&&(0,l.jsx)("span",{children:m.releaseGroups.join(", ")}),!!(null==(n=m.resolutions)?void 0:n.length)&&(0,l.jsx)("span",{children:m.resolutions.join(", ")}),!!m.episodeType&&(0,l.jsx)("span",{children:function(e){switch(e){case"recent":return"Recent releases";case"selected":return"Select episodes"}}(m.episodeType)}),h?(0,l.jsx)(l.Fragment,{children:"FINISHED"===h.status&&(0,l.jsx)("span",{className:"text-orange-300 opacity-70",children:"No longer airing"})}):(0,l.jsx)("span",{className:"text-red-300",children:"This anime is not in your library"})]})]}),(0,l.jsx)("div",{children:(0,l.jsx)(o.K0,{intent:"white-basic",icon:(0,l.jsx)(d.XWt,{}),size:"sm"})})]})}),(0,l.jsx)(s.a,{open:y.active,onOpenChange:y.off,title:"Edit rule",contentClass:"max-w-4xl",children:(0,l.jsx)(r.xC,{type:"edit",rule:m})})]})}},15155:(e,t,n)=>{n.d(t,{$m:()=>l.$m,As:()=>l.As,nD:()=>l.nD,ub:()=>l.ub});var l=n(1949)},23391:(e,t,n)=>{n.d(t,{tH:()=>x,tU:()=>u,av:()=>f,j7:()=>m,Xi:()=>p});var l=n(95155),r=n(19749),o=n(82889),i=n(21335),s=n(12115),a=n(91360);let c=(0,a.u)({root:(0,i.F)(["UI-Tabs__root"]),list:(0,i.F)(["UI-Tabs__list","inline-flex h-12 items-center justify-center w-full"]),trigger:(0,i.F)(["UI-Tabs__trigger appearance-none shadow-none","inline-flex h-full items-center justify-center whitespace-nowrap px-3 py-1.5 text-sm text-[--muted] font-medium ring-offset-[--background]","transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2","disabled:pointer-events-none disabled:opacity-50","border-transparent border-b-2 -mb-px","data-[state=active]:border-[--brand] data-[state=active]:text-[--foreground]"]),content:(0,i.F)(["UI-Tabs__content","ring-offset-[--background]","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--ring] focus-visible:ring-offset-2"])}),d=s.createContext({}),u=s.forwardRef((e,t)=>{let n,i,s,u,m,p,f,y,h,x=(0,r.c)(19);return x[0]!==e?({className:n,listClass:s,triggerClass:m,contentClass:i,...u}=e,x[0]=e,x[1]=n,x[2]=i,x[3]=s,x[4]=u,x[5]=m):(n=x[1],i=x[2],s=x[3],u=x[4],m=x[5]),x[6]!==i||x[7]!==s||x[8]!==m?(p={listClass:s,triggerClass:m,contentClass:i},x[6]=i,x[7]=s,x[8]=m,x[9]=p):p=x[9],x[10]!==n?(f=(0,a.cn)(c.root(),n),x[10]=n,x[11]=f):f=x[11],x[12]!==t||x[13]!==u||x[14]!==f?(y=(0,l.jsx)(o.bL,{ref:t,className:f,...u}),x[12]=t,x[13]=u,x[14]=f,x[15]=y):y=x[15],x[16]!==p||x[17]!==y?(h=(0,l.jsx)(d.Provider,{value:p,children:y}),x[16]=p,x[17]=y,x[18]=h):h=x[18],h});u.displayName="Tabs";let m=s.forwardRef((e,t)=>{let n,i,u,m,p=(0,r.c)(10);p[0]!==e?({className:n,...i}=e,p[0]=e,p[1]=n,p[2]=i):(n=p[1],i=p[2]);let{listClass:f}=s.useContext(d);return p[3]!==n||p[4]!==f?(u=(0,a.cn)(c.list(),f,n),p[3]=n,p[4]=f,p[5]=u):u=p[5],p[6]!==t||p[7]!==i||p[8]!==u?(m=(0,l.jsx)(o.B8,{ref:t,className:u,...i}),p[6]=t,p[7]=i,p[8]=u,p[9]=m):m=p[9],m});m.displayName="TabsList";let p=s.forwardRef((e,t)=>{let n,i,u,m,p=(0,r.c)(10);p[0]!==e?({className:n,...i}=e,p[0]=e,p[1]=n,p[2]=i):(n=p[1],i=p[2]);let{triggerClass:f}=s.useContext(d);return p[3]!==n||p[4]!==f?(u=(0,a.cn)(c.trigger(),f,n),p[3]=n,p[4]=f,p[5]=u):u=p[5],p[6]!==t||p[7]!==i||p[8]!==u?(m=(0,l.jsx)(o.l9,{ref:t,className:u,...i}),p[6]=t,p[7]=i,p[8]=u,p[9]=m):m=p[9],m});p.displayName="TabsTrigger";let f=s.forwardRef((e,t)=>{let n,i,u,m,p=(0,r.c)(10);p[0]!==e?({className:n,...i}=e,p[0]=e,p[1]=n,p[2]=i):(n=p[1],i=p[2]);let{contentClass:f}=s.useContext(d);return p[3]!==n||p[4]!==f?(u=(0,a.cn)(c.content(),f,n),p[3]=n,p[4]=f,p[5]=u):u=p[5],p[6]!==t||p[7]!==i||p[8]!==u?(m=(0,l.jsx)(o.UC,{ref:t,className:u,...i}),p[6]=t,p[7]=i,p[8]=u,p[9]=m):m=p[9],m});f.displayName="TabsContent";var y=n(5249);let h=(0,a.u)({root:(0,i.F)(["UI-StaticTabs__root","flex w-full overflow-hidden overflow-x-auto"]),trigger:(0,i.F)(["UI-StaticTabs__trigger","group/staticTabs__trigger inline-flex flex-none shrink-0 basis-auto items-center font-medium text-sm transition outline-none min-w-0 justify-center","text-[--muted] hover:text-[--foreground]","h-10 px-4 rounded-full","data-[current=true]:bg-[--subtle] data-[current=true]:font-semibold data-[current=true]:text-[--foreground]","focus-visible:bg-[--subtle]"]),icon:(0,i.F)(["UI-StaticTabs__icon","-ml-0.5 mr-2 h-4 w-4"])}),x=s.forwardRef((e,t)=>{let n,o,i,s,c,d,u,m,p=(0,r.c)(20);if(p[0]!==e){let{children:t,className:l,triggerClass:r,iconClass:a,items:d,...u}=e;n=l,c=r,o=a,i=d,s=u,p[0]=e,p[1]=n,p[2]=o,p[3]=i,p[4]=s,p[5]=c}else n=p[1],o=p[2],i=p[3],s=p[4],c=p[5];if(p[6]!==n?(d=(0,a.cn)(h.root(),n),p[6]=n,p[7]=d):d=p[7],p[8]!==o||p[9]!==i||p[10]!==c){let e;p[12]!==o||p[13]!==c?(e=e=>{var t;return e.href?(0,l.jsxs)(y.i,{href:null!=(t=e.href)?t:"#",className:(0,a.cn)(h.trigger(),c),"aria-current":e.isCurrent?"page":void 0,"data-current":e.isCurrent,children:[e.iconType&&(0,l.jsx)(e.iconType,{className:(0,a.cn)(h.icon(),o),"aria-hidden":"true","data-current":e.isCurrent}),(0,l.jsx)("span",{children:e.name}),e.addon]},e.name):(0,l.jsxs)("div",{className:(0,a.cn)(h.trigger(),"cursor-pointer",c),"aria-current":e.isCurrent?"page":void 0,"data-current":e.isCurrent,onClick:e.onClick,children:[e.iconType&&(0,l.jsx)(e.iconType,{className:(0,a.cn)(h.icon(),o),"aria-hidden":"true","data-current":e.isCurrent}),(0,l.jsx)("span",{children:e.name}),e.addon]},e.name)},p[12]=o,p[13]=c,p[14]=e):e=p[14],u=i.map(e),p[8]=o,p[9]=i,p[10]=c,p[11]=u}else u=p[11];return p[15]!==t||p[16]!==s||p[17]!==d||p[18]!==u?(m=(0,l.jsx)("nav",{ref:t,className:d,role:"navigation",...s,children:u}),p[15]=t,p[16]=s,p[17]=d,p[18]=u,p[19]=m):m=p[19],m});x.displayName="StaticTabs"},37723:(e,t,n)=>{n.d(t,{C9:()=>d,HX:()=>a,WI:()=>f,aT:()=>y,br:()=>m,dJ:()=>c,s3:()=>p,zM:()=>u});var l=n(19749),r=n(7675),o=n(74889),i=n(46278),s=n(69554);function a(){let e,t,n=(0,l.c)(3),a=(0,i.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.AUTO_DOWNLOADER.RunAutoDownloader.key],n[0]=e):e=n[0],n[1]!==a?(t={endpoint:o.S.AUTO_DOWNLOADER.RunAutoDownloader.endpoint,method:o.S.AUTO_DOWNLOADER.RunAutoDownloader.methods[0],mutationKey:e,onSuccess:async()=>{s.oR.success("Auto downloader started"),setTimeout(()=>{a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.key]})},1e3)}},n[1]=a,n[2]=t):t=n[2],(0,r.qk)(t)}function c(){let e,t=(0,l.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={endpoint:o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.endpoint,method:o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.methods[0],queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.key],enabled:!0},t[0]=e):e=t[0],(0,r.fl)(e)}function d(){let e,t,n=(0,l.c)(3),a=(0,i.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.AUTO_DOWNLOADER.CreateAutoDownloaderRule.key],n[0]=e):e=n[0],n[1]!==a?(t={endpoint:o.S.AUTO_DOWNLOADER.CreateAutoDownloaderRule.endpoint,method:o.S.AUTO_DOWNLOADER.CreateAutoDownloaderRule.methods[0],mutationKey:e,onSuccess:async()=>{await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.key]}),await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.key]}),s.oR.success("Rule created")}},n[1]=a,n[2]=t):t=n[2],(0,r.qk)(t)}function u(){let e,t,n=(0,l.c)(3),a=(0,i.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.AUTO_DOWNLOADER.UpdateAutoDownloaderRule.key],n[0]=e):e=n[0],n[1]!==a?(t={endpoint:o.S.AUTO_DOWNLOADER.UpdateAutoDownloaderRule.endpoint,method:o.S.AUTO_DOWNLOADER.UpdateAutoDownloaderRule.methods[0],mutationKey:e,onSuccess:async()=>{await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.key]}),await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.key]}),s.oR.success("Rule updated")}},n[1]=a,n[2]=t):t=n[2],(0,r.qk)(t)}function m(e){let t,n,a,c,d=(0,l.c)(10),u=(0,i.jE)();d[0]!==e?(t=o.S.AUTO_DOWNLOADER.DeleteAutoDownloaderRule.endpoint.replace("{id}",String(e)),d[0]=e,d[1]=t):t=d[1];let m=String(e);return d[2]!==m?(n=[o.S.AUTO_DOWNLOADER.DeleteAutoDownloaderRule.key,m],d[2]=m,d[3]=n):n=d[3],d[4]!==u?(a=async()=>{await u.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRules.key]}),await u.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.key]}),s.oR.success("Rule deleted")},d[4]=u,d[5]=a):a=d[5],d[6]!==t||d[7]!==n||d[8]!==a?(c={endpoint:t,method:o.S.AUTO_DOWNLOADER.DeleteAutoDownloaderRule.methods[0],mutationKey:n,onSuccess:a},d[6]=t,d[7]=n,d[8]=a,d[9]=c):c=d[9],(0,r.qk)(c)}function p(e){let t,n,i=(0,l.c)(3),s=void 0===e||e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=[o.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.key],i[0]=t):t=i[0],i[1]!==s?(n={endpoint:o.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.endpoint,method:o.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.methods[0],queryKey:t,enabled:s},i[1]=s,i[2]=n):n=i[2],(0,r.fl)(n)}function f(){let e,t,n=(0,l.c)(3),a=(0,i.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.AUTO_DOWNLOADER.DeleteAutoDownloaderItem.key],n[0]=e):e=n[0],n[1]!==a?(t={endpoint:o.S.AUTO_DOWNLOADER.DeleteAutoDownloaderItem.endpoint,method:o.S.AUTO_DOWNLOADER.DeleteAutoDownloaderItem.methods[0],mutationKey:e,onSuccess:async()=>{s.oR.success("Item deleted"),await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.key]}),await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.key]})}},n[1]=a,n[2]=t):t=n[2],(0,r.qk)(t)}function y(e,t){let n,i,s,a=(0,l.c)(8);a[0]!==e?(n=o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.endpoint.replace("{id}",String(e)),a[0]=e,a[1]=n):n=a[1];let c=String(e);return a[2]!==c?(i=[o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.key,c],a[2]=c,a[3]=i):i=a[3],a[4]!==t||a[5]!==n||a[6]!==i?(s={endpoint:n,method:o.S.AUTO_DOWNLOADER.GetAutoDownloaderRulesByAnime.methods[0],queryKey:i,enabled:t},a[4]=t,a[5]=n,a[6]=i,a[7]=s):s=a[7],(0,r.fl)(s)}},66792:(e,t,n)=>{n.d(t,{Dp:()=>d,Ex:()=>u,Ix:()=>a,Nl:()=>c,Ui:()=>m});var l=n(19749),r=n(7675),o=n(74889),i=n(46278),s=n(69554);function a(e){let t,n,i=(0,l.c)(3);return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=[o.S.TORRENT_CLIENT.GetActiveTorrentList.key],i[0]=t):t=i[0],i[1]!==e?(n={endpoint:o.S.TORRENT_CLIENT.GetActiveTorrentList.endpoint,method:o.S.TORRENT_CLIENT.GetActiveTorrentList.methods[0],queryKey:t,refetchInterval:1500,gcTime:0,enabled:e},i[1]=e,i[2]=n):n=i[2],(0,r.fl)(n)}function c(e){let t,n,a=(0,l.c)(4),c=(0,i.jE)();return a[0]===Symbol.for("react.memo_cache_sentinel")?(t=[o.S.TORRENT_CLIENT.TorrentClientAction.key],a[0]=t):t=a[0],a[1]!==e||a[2]!==c?(n={endpoint:o.S.TORRENT_CLIENT.TorrentClientAction.endpoint,method:o.S.TORRENT_CLIENT.TorrentClientAction.methods[0],mutationKey:t,onSuccess:async()=>{await c.invalidateQueries({queryKey:[o.S.TORRENT_CLIENT.GetActiveTorrentList.key]}),s.oR.success("Action performed"),null==e||e()}},a[1]=e,a[2]=c,a[3]=n):n=a[3],(0,r.qk)(n)}function d(e){let t,n,i=(0,l.c)(3);return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=[o.S.TORRENT_CLIENT.TorrentClientDownload.key],i[0]=t):t=i[0],i[1]!==e?(n={endpoint:o.S.TORRENT_CLIENT.TorrentClientDownload.endpoint,method:o.S.TORRENT_CLIENT.TorrentClientDownload.methods[0],mutationKey:t,onSuccess:async()=>{s.oR.success("Download started"),null==e||e()}},i[1]=e,i[2]=n):n=i[2],(0,r.qk)(n)}function u(){let e,t,n=(0,l.c)(3),a=(0,i.jE)();return n[0]===Symbol.for("react.memo_cache_sentinel")?(e=[o.S.TORRENT_CLIENT.TorrentClientAddMagnetFromRule.key],n[0]=e):e=n[0],n[1]!==a?(t={endpoint:o.S.TORRENT_CLIENT.TorrentClientAddMagnetFromRule.endpoint,method:o.S.TORRENT_CLIENT.TorrentClientAddMagnetFromRule.methods[0],mutationKey:e,onSuccess:async()=>{s.oR.success("Download started"),await a.invalidateQueries({queryKey:[o.S.AUTO_DOWNLOADER.GetAutoDownloaderItems.key]})}},n[1]=a,n[2]=t):t=n[2],(0,r.qk)(t)}function m(e){let t,n,i,s=(0,l.c)(10),{torrent:a,provider:c}=e;s[0]!==c||s[1]!==a?(t=[o.S.TORRENT_CLIENT.TorrentClientGetFiles.key,a,c],s[0]=c,s[1]=a,s[2]=t):t=s[2];let d=!!a&&!!c;return s[3]!==c||s[4]!==a?(n={torrent:a,provider:c},s[3]=c,s[4]=a,s[5]=n):n=s[5],s[6]!==t||s[7]!==d||s[8]!==n?(i={endpoint:o.S.TORRENT_CLIENT.TorrentClientGetFiles.endpoint,method:o.S.TORRENT_CLIENT.TorrentClientGetFiles.methods[0],queryKey:t,enabled:d,data:n},s[6]=t,s[7]=d,s[8]=n,s[9]=i):i=s[9],(0,r.fl)(i)}},69665:(e,t,n)=>{n.d(t,{H$:()=>L,xC:()=>O});var l=n(95155),r=n(19749),o=n(37723),i=n(96876),s=n(91180),a=n(96826),c=n(14680),d=n(15155),u=n(84127),m=n(91360),p=n(14033),f=n(30033),y=n(57073),h=n(53712),x=n(12556),b=n(62477),v=n.n(b),g=n(12115),N=n(21410),T=n(70376),A=n(28718),_=n(43994),D=n(41452),j=n(69554);let R=(0,p.Jo)(e=>{let{z:t}=e;return t.object({enabled:t.boolean(),mediaId:t.number().min(1),releaseGroups:t.array(t.string()).transform(e=>v()(e.filter(Boolean))),resolutions:t.array(t.string()).transform(e=>v()(e.filter(Boolean))),episodeNumbers:t.array(t.number()).transform(e=>v()(e.filter(Boolean))),additionalTerms:t.array(t.string()).transform(e=>v()(e.filter(Boolean))),comparisonTitle:t.string().min(1),titleComparisonType:t.string(),episodeType:t.string(),destination:t.string().min(1)})});function O(e){var t,n,a,c,d,u,m,f,y,h,x;let b,v,g,N,T,A,_,D,O,E,I,k,L,U,W=(0,r.c)(49),{type:G,rule:F,onRuleCreatedOrDeleted:q,mediaId:K}=e,M=(0,i.Ps)(),H=(0,s.$)();W[0]!==M?(v=null!=M?M:[],W[0]=M,W[1]=v):v=W[1],b=v,W[2]!==b?(N=b.filter(w),W[2]=b,W[3]=N):N=W[3],g=N;let{mutate:B,isPending:P}=(0,o.C9)(),{mutate:Q,isPending:V}=(0,o.zM)(),{mutate:z,isPending:$}=(0,o.br)(null==F?void 0:F.dbId),X=P||V||$;W[4]!==B||W[5]!==q||W[6]!==F||W[7]!==G||W[8]!==Q?(T=function(e){if("selected"===e.episodeType&&0===e.episodeNumbers.length)return j.oR.error("You must specify at least one episode number");"create"===G&&B({...e,titleComparisonType:e.titleComparisonType,episodeType:e.episodeType},{onSuccess:()=>null==q?void 0:q()}),"edit"===G&&(null==F?void 0:F.dbId)&&Q({rule:{...e,dbId:F.dbId||0,titleComparisonType:e.titleComparisonType,episodeType:e.episodeType}},{onSuccess:()=>null==q?void 0:q()})},W[4]=B,W[5]=q,W[6]=F,W[7]=G,W[8]=Q,W[9]=T):T=W[9];let J=T;if("create"===G&&0===b.length){let e;return W[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"p-4 text-[--muted] text-center",children:"No media found in your library"}),W[10]=e):e=W[10],e}let Y=null==(n=null==F?void 0:F.enabled)||n,Z=null!=(a=null!=K?K:null==F?void 0:F.mediaId)?a:null==(t=g[0])?void 0:t.id;W[11]!==(null==F?void 0:F.releaseGroups)?(A=null!=(c=null==F?void 0:F.releaseGroups)?c:[],W[11]=null==F?void 0:F.releaseGroups,W[12]=A):A=W[12],W[13]!==(null==F?void 0:F.resolutions)?(_=null!=(d=null==F?void 0:F.resolutions)?d:[],W[13]=null==F?void 0:F.resolutions,W[14]=_):_=W[14];let ee=null!=(u=null==F?void 0:F.comparisonTitle)?u:"",et=null!=(m=null==F?void 0:F.titleComparisonType)?m:"likely",en=null!=(f=null==F?void 0:F.episodeType)?f:"recent";W[15]!==(null==F?void 0:F.episodeNumbers)?(D=null!=(y=null==F?void 0:F.episodeNumbers)?y:[],W[15]=null==F?void 0:F.episodeNumbers,W[16]=D):D=W[16];let el=null!=(h=null==F?void 0:F.destination)?h:"";return W[17]!==(null==F?void 0:F.additionalTerms)?(O=null!=(x=null==F?void 0:F.additionalTerms)?x:[],W[17]=null==F?void 0:F.additionalTerms,W[18]=O):O=W[18],W[19]!==et||W[20]!==en||W[21]!==D||W[22]!==el||W[23]!==O||W[24]!==Y||W[25]!==Z||W[26]!==A||W[27]!==_||W[28]!==ee?(E={enabled:Y,mediaId:Z,releaseGroups:A,resolutions:_,comparisonTitle:ee,titleComparisonType:et,episodeType:en,episodeNumbers:D,destination:el,additionalTerms:O},W[19]=et,W[20]=en,W[21]=D,W[22]=el,W[23]=O,W[24]=Y,W[25]=Z,W[26]=A,W[27]=_,W[28]=ee,W[29]=E):E=W[29],W[30]!==b||W[31]!==X||W[32]!==H||W[33]!==K||W[34]!==g||W[35]!==F||W[36]!==G?(I=e=>(0,l.jsx)(C,{form:e,allMedia:b,mediaId:K,type:G,isPending:X,notFinishedMedia:g,libraryCollection:H,rule:F}),W[30]=b,W[31]=X,W[32]=H,W[33]=K,W[34]=g,W[35]=F,W[36]=G,W[37]=I):I=W[37],W[38]!==J||W[39]!==E||W[40]!==I?(k=(0,l.jsx)(p.lV,{schema:R,onSubmit:J,defaultValues:E,onError:S,children:I}),W[38]=J,W[39]=E,W[40]=I,W[41]=k):k=W[41],W[42]!==z||W[43]!==(null==F?void 0:F.dbId)||W[44]!==G?(L="edit"===G&&(0,l.jsx)(p.mw,{actionText:"Delete this rule",onDelete:()=>{(null==F?void 0:F.dbId)&&z()}}),W[42]=z,W[43]=null==F?void 0:F.dbId,W[44]=G,W[45]=L):L=W[45],W[46]!==k||W[47]!==L?(U=(0,l.jsxs)("div",{className:"space-y-4 mt-2",children:[k,L]}),W[46]=k,W[47]=L,W[48]=U):U=W[48],U}function S(){j.oR.error("An error occurred, verify the fields.")}function w(e){return"FINISHED"!==e.status}function C(e){var t,n,o,i,s,u,h,b,v,T;let j,R,O,S,w,C,U,W,G,F,q,K,M,H,B,P,Q,V,z,$,X,J,Y,Z,ee,et,en,el,er,eo,ei,es,ea,ec,ed,eu,em,ep,ef=(0,r.c)(86),{form:ey,allMedia:eh,mediaId:ex,type:eb,isPending:ev,notFinishedMedia:eg,libraryCollection:eN,rule:eT}=e,eA=(0,a.v1)();ef[0]===Symbol.for("react.memo_cache_sentinel")?(j={name:"mediaId"},ef[0]=j):j=ef[0];let e_=(0,N.FH)(j);ef[1]===Symbol.for("react.memo_cache_sentinel")?(R={name:"episodeType"},ef[1]=R):R=ef[1];let eD=(0,N.FH)(R);if(ef[2]!==eh||ef[3]!==e_){let e;ef[5]!==e_?(e=e=>e.id===Number(e_),ef[5]=e_,ef[6]=e):e=ef[6],O=eh.find(e),ef[2]=eh,ef[3]=e_,ef[4]=O}else O=ef[4];let ej=O;if(ef[7]!==eh||ef[8]!==ey||ef[9]!==e_||ef[10]!==(null==eN?void 0:eN.lists)||ef[11]!==eT||ef[12]!==(null==ej||null==(t=ej.title)?void 0:t.english)||ef[13]!==(null==ej||null==(n=ej.title)?void 0:n.romaji)||ef[14]!==(null==eA||null==(i=eA.settings)||null==(o=i.library)?void 0:o.libraryPath)||ef[15]!==eb?(S=()=>{var e,t,n,l,r,o,i,s,a;let c=Number(e_),d=null==eN||null==(l=eN.lists)||null==(n=l.flatMap(k))||null==(t=n.find(e=>{var t;return(null==e||null==(t=e.media)?void 0:t.id)===c}))||null==(e=t.libraryData)?void 0:e.sharedPath;if(!isNaN(c)&&!(null==eT?void 0:eT.comparisonTitle)){let e=eh.find(e=>e.id===c);e&&ey.setValue("comparisonTitle",(null==(r=e.title)?void 0:r.romaji)||"")}if(!eT){if(d)ey.setValue("destination",d);else if("create"===eb){let e=x.V.join(x.V.normalizeSafe((null==eA||null==(i=eA.settings)||null==(o=i.library)?void 0:o.libraryPath)||""),((null==ej||null==(s=ej.title)?void 0:s.romaji)||(null==ej||null==(a=ej.title)?void 0:a.english)||"").replace(/[<>:"/\\|?*\x00-\x1F.!`]/g," ").trim().replace(/^\.+|\.+$/g,"").replace(/\s+/g," ")||"Untitled");ey.setValue("destination",e)}}},ef[7]=eh,ef[8]=ey,ef[9]=e_,ef[10]=null==eN?void 0:eN.lists,ef[11]=eT,ef[12]=null==ej||null==(u=ej.title)?void 0:u.english,ef[13]=null==ej||null==(h=ej.title)?void 0:h.romaji,ef[14]=null==eA||null==(v=eA.settings)||null==(b=v.library)?void 0:b.libraryPath,ef[15]=eb,ef[16]=S):S=ef[16],ef[17]!==e_||ef[18]!==eN||ef[19]!==eT||ef[20]!==ej?(w=[e_,ej,eN,eT],ef[17]=e_,ef[18]=eN,ef[19]=eT,ef[20]=ej,ef[21]=w):w=ef[21],g.useEffect(S,w),!ej){let e;return ef[22]===Symbol.for("react.memo_cache_sentinel")?(e=(0,l.jsx)("div",{className:"p-4 text-[--muted] text-center",children:"Media is not in your library"}),ef[22]=e):e=ef[22],e}ef[23]===Symbol.for("react.memo_cache_sentinel")?(C=(0,l.jsx)(p.D0.Switch,{name:"enabled",label:"Enabled"}),U=(0,l.jsx)(y.w,{}),W=(0,m.cn)("space-y-3"),ef[23]=C,ef[24]=U,ef[25]=W):(C=ef[23],U=ef[24],W=ef[25]),ef[26]!==ey||ef[27]!==e_||ef[28]!==ex||ef[29]!==eg||ef[30]!==ej||ef[31]!==eb?(G=!ex&&(0,l.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,l.jsx)("div",{className:"w-[6rem] h-[6rem] rounded-[--radius] flex-none object-cover object-center overflow-hidden relative bg-gray-800",children:!!(null==ej||null==(T=ej.coverImage)?void 0:T.large)&&(0,l.jsx)(c.r,{src:ej.coverImage.large,alt:"banner",fill:!0,quality:80,priority:!0,sizes:"20rem",className:"object-cover object-center"})}),(0,l.jsx)(f.l,{name:"mediaId",label:"Library Entry",options:eg.map(I).toSorted(E),value:String(e_),onValueChange:e=>ey.setValue("mediaId",parseInt(e)),help:ex?void 0:"The anime must be airing or upcoming",disabled:"edit"===eb||!!ex})]}),ef[26]=ey,ef[27]=e_,ef[28]=ex,ef[29]=eg,ef[30]=ej,ef[31]=eb,ef[32]=G):G=ef[32],ef[33]!==(null==ej?void 0:ej.status)?(F=(null==ej?void 0:ej.status)==="FINISHED"&&(0,l.jsx)("div",{className:"py-2 text-[--orange] text-center",children:"No longer airing"}),ef[33]=null==ej?void 0:ej.status,ef[34]=F):F=ef[34],ef[35]===Symbol.for("react.memo_cache_sentinel")?(q=(0,l.jsx)(p.D0.DirectorySelector,{name:"destination",label:"Destination",help:"Folder in your local library where the files will be saved",leftIcon:(0,l.jsx)(A.WNP,{}),shouldExist:!1}),ef[35]=q):q=ef[35],ef[36]===Symbol.for("react.memo_cache_sentinel")?(K=(0,l.jsx)("div",{className:"absolute -top-2.5 tracking-wide font-semibold uppercase text-sm left-4 bg-gray-950 px-2",children:"Title"}),M=(0,l.jsx)(p.D0.Text,{name:"comparisonTitle",label:"Comparison title",help:"Used for comparison purposes. When using 'Exact match', use a title most likely to be used in a torrent name."}),ef[36]=K,ef[37]=M):(K=ef[36],M=ef[37]),ef[38]===Symbol.for("react.memo_cache_sentinel")?(H={label:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("p",{className:"mb-1 flex items-center",children:[(0,l.jsx)(D._IM,{className:"text-lg inline-block mr-2"}),"Most likely"]}),(0,l.jsx)("p",{className:"font-normal text-sm text-[--muted]",children:"The torrent name will be parsed and analyzed using a comparison algorithm"})]}),value:"likely"},ef[38]=H):H=ef[38],ef[39]===Symbol.for("react.memo_cache_sentinel")?(B=(0,l.jsxs)("div",{className:"border rounded-[--radius] p-4 relative !mt-8 space-y-3",children:[K,M,(0,l.jsx)(p.D0.RadioCards,{label:"Type of search",name:"titleComparisonType",options:[H,{label:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsxs)("p",{className:"mb-1 flex items-center",children:[(0,l.jsx)(_.Jeo,{className:"text-lg inline-block mr-2"}),"Exact match"]}),(0,l.jsx)("p",{className:"font-normal text-sm text-[--muted]",children:"The torrent name must contain the comparison title you set (case insensitive)"})]}),value:"contains"}]})]}),ef[39]=B):B=ef[39];let eR=((null==ej?void 0:ej.format)==="MOVIE"||!!ej.episodes&&1===ej.episodes)&&"opacity-50 pointer-events-none";ef[40]!==eR?(P=(0,m.cn)("border  rounded-[--radius] p-4 relative !mt-8 space-y-3",eR),ef[40]=eR,ef[41]=P):P=ef[41],ef[42]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,l.jsx)("div",{className:"absolute -top-2.5 tracking-wide font-semibold uppercase text-sm left-4 bg-gray-950 px-2",children:"Episodes"}),ef[42]=Q):Q=ef[42],ef[43]===Symbol.for("react.memo_cache_sentinel")?(V={label:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("p",{children:"Recent releases"}),(0,l.jsx)("p",{className:"font-normal text-sm text-[--muted]",children:"New episodes you have not yet watched"})]}),value:"recent"},ef[43]=V):V=ef[43],ef[44]===Symbol.for("react.memo_cache_sentinel")?(z=(0,l.jsx)(p.D0.RadioCards,{name:"episodeType",label:"Episodes to look for",options:[V,{label:(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("p",{children:"Select"}),(0,l.jsx)("p",{className:"font-normal text-sm text-[--muted]",children:"Only the specified episodes that aren't in your library"})]}),value:"selected"}]}),ef[44]=z):z=ef[44],ef[45]!==ey.control||ef[46]!==eD?($="selected"===eD&&(0,l.jsx)(L,{label:"Episode numbers",name:"episodeNumbers",control:ey.control,type:"number"}),ef[45]=ey.control,ef[46]=eD,ef[47]=$):$=ef[47],ef[48]!==P||ef[49]!==$?(X=(0,l.jsxs)("div",{className:P,children:[Q,z,$]}),ef[48]=P,ef[49]=$,ef[50]=X):X=ef[50],ef[51]===Symbol.for("react.memo_cache_sentinel")?(J=(0,l.jsx)("div",{className:"absolute -top-2.5 tracking-wide font-semibold uppercase text-sm left-4 bg-gray-950 px-2",children:"Release Groups"}),Y=(0,l.jsx)("p",{className:"text-sm",children:"List of release groups to look for. If empty, any release group will be accepted."}),ef[51]=J,ef[52]=Y):(J=ef[51],Y=ef[52]),ef[53]!==ey.control?(Z=(0,l.jsxs)("div",{className:"border rounded-[--radius] p-4 relative !mt-8 space-y-3",children:[J,Y,(0,l.jsx)(L,{name:"releaseGroups",control:ey.control,type:"text",placeholder:"e.g. SubsPlease",separatorText:"OR"})]}),ef[53]=ey.control,ef[54]=Z):Z=ef[54],ef[55]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,l.jsx)("div",{className:"absolute -top-2.5 tracking-wide font-semibold uppercase text-sm left-4 bg-gray-950 px-2",children:"Resolutions"}),et=(0,l.jsx)("p",{className:"text-sm",children:"List of resolutions to look for. If empty, the highest resolution will be accepted."}),ef[55]=ee,ef[56]=et):(ee=ef[55],et=ef[56]),ef[57]!==ey.control?(en=(0,l.jsxs)("div",{className:"border rounded-[--radius] p-4 relative !mt-8 space-y-3",children:[ee,et,(0,l.jsx)(L,{name:"resolutions",control:ey.control,type:"text",placeholder:"e.g. 1080p",separatorText:"OR"})]}),ef[57]=ey.control,ef[58]=en):en=ef[58];let eO=(null==eT||null==(s=eT.additionalTerms)?void 0:s.length)?"more":void 0;return ef[59]===Symbol.for("react.memo_cache_sentinel")?(el=(0,l.jsx)(d.$m,{className:"border rounded-[--radius] bg-gray-900",children:"More filters"}),ef[59]=el):el=ef[59],ef[60]===Symbol.for("react.memo_cache_sentinel")?(er=(0,l.jsx)("div",{className:"absolute -top-2.5 tracking-wide font-semibold uppercase text-sm left-4 bg-gray-950 px-2",children:"Additional terms"}),ef[60]=er):er=ef[60],ef[61]===Symbol.for("react.memo_cache_sentinel")?(eo=(0,l.jsx)("span",{className:"text-red-100",children:"All options must be included for the torrent to be accepted."}),ef[61]=eo):eo=ef[61],ef[62]===Symbol.for("react.memo_cache_sentinel")?(ei=(0,l.jsx)("code",{className:"text-gray-400",children:" [Group] Torrent name [HEVC 10bit x265]"}),ef[62]=ei):ei=ef[62],ef[63]===Symbol.for("react.memo_cache_sentinel")?(es=(0,l.jsx)("div",{children:(0,l.jsxs)("p",{className:"text-sm -top-2 relative",children:[eo,' Within each option, you can include variations separated by commas. For example, adding "H265,H.265, H 265,x265" and "10bit,10-bit,10 bit" will match',ei," but not ",(0,l.jsx)("code",{className:"text-gray-400",children:"[Group] Torrent name [H265]"}),". Case insensitive."]})}),ef[63]=es):es=ef[63],ef[64]!==ey.control?(ea=(0,l.jsxs)(d.As,{value:"more",children:[el,(0,l.jsx)(d.ub,{className:"pt-0",children:(0,l.jsxs)("div",{className:"border rounded-[--radius] p-4 relative !mt-8 space-y-3",children:[er,es,(0,l.jsx)(L,{name:"additionalTerms",control:ey.control,type:"text",placeholder:"e.g. H265,H.265,H 265,x265",separatorText:"AND"})]})})]}),ef[64]=ey.control,ef[65]=ea):ea=ef[65],ef[66]!==eO||ef[67]!==ea?(ec=(0,l.jsx)(d.nD,{type:"single",collapsible:!0,className:"!my-4",defaultValue:eO,children:ea}),ef[66]=eO,ef[67]=ea,ef[68]=ec):ec=ef[68],ef[69]!==X||ef[70]!==Z||ef[71]!==en||ef[72]!==ec||ef[73]!==G||ef[74]!==F?(ed=(0,l.jsxs)("div",{className:W,children:[G,F,q,B,X,Z,en,ec]}),ef[69]=X,ef[70]=Z,ef[71]=en,ef[72]=ec,ef[73]=G,ef[74]=F,ef[75]=ed):ed=ef[75],ef[76]!==ev||ef[77]!==eb?(eu="create"===eb&&(0,l.jsx)(p.D0.Submit,{role:"create",loading:ev,disableOnSuccess:!1,showLoadingOverlayOnSuccess:!0,children:"Create"}),ef[76]=ev,ef[77]=eb,ef[78]=eu):eu=ef[78],ef[79]!==ev||ef[80]!==eb?(em="edit"===eb&&(0,l.jsx)(p.D0.Submit,{role:"update",loading:ev,children:"Update"}),ef[79]=ev,ef[80]=eb,ef[81]=em):em=ef[81],ef[82]!==ed||ef[83]!==eu||ef[84]!==em?(ep=(0,l.jsxs)(l.Fragment,{children:[C,U,ed,eu,em]}),ef[82]=ed,ef[83]=eu,ef[84]=em,ef[85]=ep):ep=ef[85],ep}function E(e,t){return e.label.localeCompare(t.label)}function I(e){var t;return{label:(null==(t=e.title)?void 0:t.userPreferred)||"N/A",value:String(e.id)}}function k(e){return e.entries}function L(e){let t,n,o,i,s,a,c,d=(0,r.c)(31);d[0]!==e.control||d[1]!==e.name?(t={control:e.control,name:e.name},d[0]=e.control,d[1]=e.name,d[2]=t):t=d[2];let{fields:m,append:p,remove:f}=(0,N.jz)(t);if(d[3]!==e.label?(n=e.label&&(0,l.jsx)("div",{className:"flex items-center",children:(0,l.jsx)("div",{className:"text-base font-semibold",children:e.label})}),d[3]=e.label,d[4]=n):n=d[4],d[5]!==m||d[6]!==e.control||d[7]!==e.name||d[8]!==e.placeholder||d[9]!==e.separatorText||d[10]!==e.type||d[11]!==f){let t;d[13]!==m.length||d[14]!==e.control||d[15]!==e.name||d[16]!==e.placeholder||d[17]!==e.separatorText||d[18]!==e.type||d[19]!==f?(t=(t,n)=>(0,l.jsxs)(g.Fragment,{children:[(0,l.jsxs)("div",{className:"flex gap-2 items-center",children:["text"===e.type&&(0,l.jsx)(h.k,{...e.control.register("".concat(e.name,".").concat(n)),placeholder:e.placeholder}),"number"===e.type&&(0,l.jsx)(h.k,{type:"number",...e.control.register("".concat(e.name,".").concat(n),{valueAsNumber:!0,min:1,validate:U})}),(0,l.jsx)(u.Jn,{size:"sm",intent:"alert-subtle",onClick:()=>f(n)})]}),!!e.separatorText&&n<m.length-1&&(0,l.jsx)("p",{className:"text-center text-[--muted]",children:e.separatorText})]},t.id),d[13]=m.length,d[14]=e.control,d[15]=e.name,d[16]=e.placeholder,d[17]=e.separatorText,d[18]=e.type,d[19]=f,d[20]=t):t=d[20],o=m.map(t),d[5]=m,d[6]=e.control,d[7]=e.name,d[8]=e.placeholder,d[9]=e.separatorText,d[10]=e.type,d[11]=f,d[12]=o}else o=d[12];return d[21]!==p||d[22]!==e.type?(i=()=>p("number"===e.type?1:""),d[21]=p,d[22]=e.type,d[23]=i):i=d[23],d[24]===Symbol.for("react.memo_cache_sentinel")?(s=(0,l.jsx)(T.Ca6,{}),d[24]=s):s=d[24],d[25]!==i?(a=(0,l.jsx)(u.K0,{intent:"success-glass",className:"rounded-full",onClick:i,icon:s}),d[25]=i,d[26]=a):a=d[26],d[27]!==n||d[28]!==o||d[29]!==a?(c=(0,l.jsxs)("div",{className:"space-y-2",children:[n,o,a]}),d[27]=n,d[28]=o,d[29]=a,d[30]=c):c=d[30],c}function U(e){return!isNaN(e)}},80743:(e,t,n)=>{n.d(t,{CY:()=>s,H3:()=>i,He:()=>a,me:()=>o,ns:()=>c,rj:()=>d});var l=n(86694),r=n.n(l);function o(e){return"CURRENT"===e?"Currently watching":r()(null!=e?e:"")}function i(e){return"CURRENT"===e?"Currently reading":r()(null!=e?e:"")}function s(e){return new Date(e).toLocaleString("en-US",{dateStyle:"short",timeStyle:"short"})}function a(e){return null!=e&&e>=0x80000000}function c(e){if(!(null==e?void 0:e.siteUrl))return null;let t=e.siteUrl.replace("ext_custom_source_","");return t.includes("|END|")&&(t=t.split("|END|")[0]),t}function d(e){if(!(null==e?void 0:e.siteUrl))return null;let t=e.siteUrl.replace("ext_custom_source_","");if(t.includes("|END|")){var n,l;t=null!=(l=null==(n=t.split("|END|"))?void 0:n[1])?l:null}return t}},91180:(e,t,n)=>{n.d(t,{$:()=>c,m:()=>a});var l=n(19749),r=n(68205),o=n(75006),i=n(29724),s=n(12115);function a(){let e,t,n=(0,l.c)(7),a=(0,i.Xr)(o.Zp),{data:c,status:d}=(0,r.lD)();return n[0]!==c||n[1]!==a||n[2]!==d?(e=()=>{"success"===d&&a(c)},n[0]=c,n[1]=a,n[2]=d,n[3]=e):e=n[3],n[4]!==c||n[5]!==d?(t=[c,d],n[4]=c,n[5]=d,n[6]=t):t=n[6],s.useEffect(e,t),null}function c(){return(0,i.md)(o.Zp)}},96876:(e,t,n)=>{n.d(t,{NZ:()=>a,Ps:()=>p,X_:()=>f});var l=n(19749),r=n(42094),o=n(48555),i=n(29724),s=n(12115);function a(){let e,t,n=(0,l.c)(6),a=(0,i.Xr)(o.Qy),p=(0,i.Xr)(o.Ib),{data:f}=(0,r.u)();return n[0]!==f||n[1]!==a||n[2]!==p?(e=()=>{if(f){var e,t,n,l,r,o,i,s,y,h;a(null!=(h=null==(r=f.MediaListCollection)||null==(l=r.lists)||null==(n=l.flatMap(m))||null==(t=n.filter(Boolean))||null==(e=t.map(u))?void 0:e.filter(Boolean))?h:[]),p((null==(y=f.MediaListCollection)||null==(s=y.lists)||null==(i=s.flatMap(d))||null==(o=i.filter(Boolean))?void 0:o.reduce(c,{}))||{})}},n[0]=f,n[1]=a,n[2]=p,n[3]=e):e=n[3],n[4]!==f?(t=[f],n[4]=f,n[5]=t):t=n[5],s.useEffect(e,t),null}function c(e,t){var n,l,r,o,i;return e[String(null==(n=t.media)?void 0:n.id)]={status:t.status,progress:t.progress||0,score:t.score||0,startedAt:(null==(l=t.startedAt)?void 0:l.year)&&(null==(r=t.startedAt)?void 0:r.month)?new Date(t.startedAt.year||0,(t.startedAt.month||1)-1,t.startedAt.day||1).toISOString():void 0,completedAt:(null==(o=t.completedAt)?void 0:o.year)&&(null==(i=t.completedAt)?void 0:i.month)?new Date(t.completedAt.year||0,(t.completedAt.month||1)-1,t.completedAt.day||1).toISOString():void 0},e}function d(e){return null==e?void 0:e.entries}function u(e){return e.media}function m(e){return null==e?void 0:e.entries}function p(){return(0,i.md)(o.Qy)}function f(e){return(0,i.md)(o.Ib)[String(e)]}}}]);